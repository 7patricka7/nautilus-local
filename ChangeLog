2000-09-05  Ramiro Estrugo  <ramiro@eazel.com>

	Complete task 1733 - need mozilla component support for grokking
	eazel: uris.

	* components/mozilla/nautilus-mozilla-content-view.c:
	(nautilus_mozilla_content_view_initialize),
	(nautilus_mozilla_content_view_destroy), (bonobo_mozilla_callback),
	(mozilla_net_state_callback), (mozilla_open_uri_callback),
	(mozilla_dom_mouse_click_callback):
	For mozilla M17, add support for registering the eazel protocol
	handler.  For mozilla M18, add support for peeking dom events -
	this is the preffered way to deal with these special uris, however
	we cant turn this on until mozilla M18 is released.

2000-09-05  Ramiro Estrugo  <ramiro@eazel.com>

	* components/mozilla/eazel-protocol-handler/eazel-protocol-channel.cpp:
	Damn, some of this code only builds with mozilla M18.  Updating
	for that.
	
2000-09-05  Ramiro Estrugo  <ramiro@eazel.com>

	More work on task 1733.

	* components/mozilla/eazel-protocol-handler/.cvsignore:
	* components/mozilla/eazel-protocol-handler/Makefile.am:
	* components/mozilla/eazel-protocol-handler/eazel-protocol-channel.cpp:
	* components/mozilla/eazel-protocol-handler/eazel-protocol-channel.h:
	* components/mozilla/eazel-protocol-handler/eazel-protocol-handler.cpp:
	* components/mozilla/eazel-protocol-handler/eazel-protocol-handler.h:
	* components/mozilla/eazel-protocol-handler/eazel-protocol-module.cpp:
	New files.  A mozilla XPCOM component to grok eazel: protocol uris.
	
	* components/mozilla/Makefile.am:
	Build the eazel-protocol-handler
	
	* configure.in:
	Build the eazel-protocol-handler

2000-09-05  Ramiro Estrugo  <ramiro@eazel.com>

	* components/tree/.cvsignore:
	Ignore generated files.
	
2000-09-05  Ramiro Estrugo  <ramiro@eazel.com>

	More work on task 1588.

	* libnautilus-extensions/nautilus-scalable-font.c:
	(nautilus_scalable_font_draw_text),
	(nautilus_scalable_font_measure_text_lines),
	(nautilus_scalable_font_draw_text_lines):
	* libnautilus-extensions/nautilus-scalable-font.h:
	Change text rendering api to take in x,y coordinates along with a
	clip_area.  

	Remove some #if 0 code i left in before.

	Also change the text lines rendering api to optionally do its own
	line measuring - for the convenience of the caller.
	
	* libnautilus-extensions/nautilus-label.c: (render_buffer_pixbuf):
	Update for text rendering changes.
	Fix the justification bug.
	Fix the multiple newlines bug.
	
	* src/nautilus-about.c: (draw_aa_string):
	Update for text rendering changes.
	
	* src/nautilus-sidebar-tabs.c: (draw_one_tab_plain),
	(draw_one_tab_themed):
	Update for text rendering changes.

	* test/test-nautilus-font.c: (main):
	Update for text rendering changes.
	Also add multiple new lines test and clipping test.
	
	* test/test-nautilus-label.c: (main):
	Update for text rendering changes.

2000-09-05  Ramiro Estrugo  <ramiro@eazel.com>

	* librsvg/rsvg-ft.c: (rsvg_ft_render_string):
	Add a band aid fix for the unknown character problem when trying
	to index glyphs from a font face.  I filed a bug for this issue:
	2775.
	
2000-09-04  Maciej Stachowiak  <mjs@eazel.com>

	* src/nautilus-window-manage-views.c
	(nautilus_window_update_view): Fix bug 2462 by causing a NULL
	selection to be interpreted as no selection, rather than an empty
	selection.

2000-09-05  Andy Hertzfeld  <andy@eazel.com>

	* src/nautilus-theme-selector.c:
	(nautilus_theme_selector_initialize), (add_theme_to_icons),
	(dialog_destroy), (add_new_theme_button_callback):
	implement the "add new theme" command by invoking a file dialog;
	this still isn't finished yet.
	
2000-09-04  Ramiro Estrugo  <ramiro@eazel.com>

	Work on task 1588.

	* configure.in:
	* data/Makefile.am:
	* data/fonts/.cvsignore:
	* data/fonts/Makefile.am:
	* data/fonts/urw/.cvsignore:
	* data/fonts/urw/Makefile.am:
	* data/fonts/urw/README:
	* data/fonts/urw/fonts.dir:
	Add a fallback font in case no Type1 fonts are found in the
	system.  This font was plucked from the ghostscript-fonts-5.10a
	package. See data/fonts/urw/README for more info.
	
2000-09-04  Andy Hertzfeld  <andy@eazel.com>

	* icons/Makefile.am:
	* icons/i-web-72.png:
	added a new icon for generic http documents, which is just a
	placeholder.
	* libnautilus-extensions/nautilus-icon-factory.c:
	(nautilus_icon_factory_get_icon_name_for_regular_file):
	made it use a distinct icon for generic documents if the protocol
	associated with the file is "http", so the sidebar can have a decent
	icon when displaying websites.  The current icon is just a placeholder.
	
2000-09-04  Ramiro Estrugo  <ramiro@eazel.com>

	Work on task 1733.

	* configure.in:
	Add macros for only xpcom and nspr libs (for components)
	Add check for mozilla M18 - evil in its purest form.
	
2000-09-04  Ramiro Estrugo  <ramiro@eazel.com>

	Work on task 1733.

	* components/mozilla/mozilla-components.cpp:
	Quiet down the debug noise.

	* components/mozilla/mozilla-events.cpp:
	* components/mozilla/mozilla-events.h:
	A new wrapper for grokking mozilla dom events.

	* components/mozilla/Makefile.am:
	Build the events code.
	
2000-09-04  Ramiro Estrugo  <ramiro@eazel.com>

	* libnautilus-extensions/nautilus-buffered-widget.c:
	(create_background_pixbuf_from_ancestor):
	Remove an assertion that is not needed.
	
2000-09-04  Ramiro Estrugo  <ramiro@eazel.com>

	Work on task 1588.
	
	* libnautilus-extensions/nautilus-scalable-font.c:
	(nautilus_scalable_font_measure_text),
	(nautilus_scalable_font_draw_text),
	(nautilus_scalable_font_measure_text_lines),
	(nautilus_scalable_font_draw_text_lines),
	(nautilus_scalable_font_measure_text_lines),
	(nautilus_scalable_font_draw_text_lines),
	(nautilus_scalable_font_largest_fitting_font_size):
	* libnautilus-extensions/nautilus-scalable-font.h:
	Change api to accept a string with embedded new lines instead of
	an array of strings.  This simplifies many things.
	
	* libnautilus-extensions/nautilus-label.c:
	(nautilus_label_initialize), (nautilus_label_destroy),
	(render_buffer_pixbuf), (label_recompute_line_geometries):
	Update for NautilusScalalbleFont api changes.  No longer need to
	tokenize the text string.  we can feed the string to the rendering
	api as is.
	
	* librsvg/rsvg-ft.c: (rsvg_ft_render_string):
	* librsvg/rsvg-ft.h:
	Change the string to glyph rendering api to accept the string
	length rather than computing it.  This makes it possible to feed
	it arbitrary lengths.
	
	* librsvg/rsvg.c: (rsvg_text_handler_characters):
	* librsvg/test-ft-gtk.c: (draw_line):
	* librsvg/test-ft.c: (main):
	Update for api changes.
	
	* src/nautilus-about.c: (draw_aa_string):
	* src/nautilus-sidebar-tabs.c: (draw_one_tab_plain),
	(draw_one_tab_themed), (get_tab_width):
	* test/test-nautilus-font.c: (main):
	Update test to use text lines drawing api.
	
	* test/test-nautilus-label.c:
	(alpha_background_color_value_changed_callback), (main):
	Update test for 2 new lines in a row.

2000-09-04  Ramiro Estrugo  <ramiro@eazel.com>

	* libnautilus-extensions/nautilus-string-list.c:
	(nautilus_self_check_string_list):
	Make the tokens test a little better.

2000-09-04  Maciej Stachowiak  <mjs@eazel.com>

	* configure.in: Set shared library tree view as default,
	completing task 1647.

2000-09-04  Maciej Stachowiak  <mjs@eazel.com>

	* components/tree/nautilus-tree-model.c:
	(nautilus_tree_model_initialize), (nautilus_tree_model_destroy),
	(nautilus_tree_model_for_each_postorder),
	(nautilus_tree_model_monitor_remove),
	(nautilus_tree_model_get_node), (report_node_added),
	(report_node_changed), (report_node_removed_internal),
	(nautilus_tree_model_directory_files_changed_callback):
	* components/tree/nautilus-tree-node-private.h:
	* components/tree/nautilus-tree-node.c:
	(nautilus_tree_node_destroy), (nautilus_tree_node_new),
	(nautilus_tree_node_get_uri):
	* components/tree/nautilus-tree-node.h:
	* components/tree/nautilus-tree-view.c:
	(nautilus_tree_view_insert_model_node):

	Architecture changes to properly handle the case where a
	NautilusFile object changes name or location. In brief, the tree
	model keeps a hash keyed on NautilusFiles instead of on uris, and
	tries to remember the URI of a node to detect when the URI
	changes. When the URI changes, it gives a remove notification
	followed by an add notification.
	
2000-09-03  Andy Hertzfeld  <andy@eazel.com>

	made the arlo sidebar tabs use the official anti-aliased text machinery,
	instead of the scaling hack it was using.  Also, made the non-themed
	tabs use anti-aliased text.
	
	* src/nautilus-sidebar-tabs.c:
	(nautilus_sidebar_tabs_load_theme_data),
	(nautilus_sidebar_tabs_destroy), (make_colored_pixbuf),
	(draw_one_tab_plain), (draw_one_tab_themed), (get_tab_width):
	use NautilusScalableFont to render and measure the labels, for both
	types of tabs
	
Sun Sep 03 19:09:49 2000  George Lebl <jirka@5z.com>

	* src/nautilus-first-time-druid.c (nautilus_first_time_druid_show):
	  mark druid_welcome.png for translation (it contains english text)
	  and put in a comment explaining why which should appear in the
	  .po file.

2000-09-03  Maciej Stachowiak  <mjs@eazel.com>

	* components/tree/nautilus-tree-model.c
	(nautilus_tree_model_for_each_postorder): Some optional debugging
	statements.
	(nautilus_tree_model_monitor_remove): Also unmonitor any nodes
	that might be monitored by this client.

	* components/tree/nautilus-tree-view.c
	(nautilus_tree_view_destroy): Stop monitoring the model

2000-09-03  Ali Abdin  <aliabdin@aucegypt.edu>

        I now consider navigation links to be 'done' (Fixes bug #2201)

        * components/help/converters/gnome-db2html2/gdb3html.c:
        (parse_file): Renamed a variable. Updated the call to sect_footer.
        Cleaned up in a couple misc. spots
        (sect_footer): Renamed the variables to be more descriptive. Modified
        calls to print_footer (function changed + we now pass the full URI).
        Fixed memory leaks by actually freeing the variables.
        (print_footer): Change the function arguments to make it a 'sane'
        function. Also - just print what we recieve.

        * components/help/converters/gnome-db2html2/toc-elements.c:
        (toc_title_start_element),
        (toc_title_end_element):
        Disable the links to sect2/sect3/sect4/sect5 tags as they already get
        'included' with the sect1 tags.

        Ideally we should create anchor tags in the sect1 'pages' and use that
        instead, but this will not work due to mozilla issues

2000-09-03  Maciej Stachowiak  <mjs@eazel.com>

	* components/services/install/lib/eazel-install-protocols.c:
	(eazel_install_fetch_package):
	* components/services/login/nautilus-view/nautilus-login-view.c:
	(nautilus_login_view_initialize):
	* components/services/summary/nautilus-view/nautilus-summary-view.c
	: (authn_cb_succeeded), (authn_cb_failed), (login_button_cb),
	(nautilus_summary_view_initialize):
	* components/tree/libmain.c: (tree_shlib_object_destroyed):
	* components/tree/nautilus-tree-view.c:
	* libnautilus-extensions/nautilus-link.c: (make_local_path):
	* libnautilus-extensions/nautilus-search-bar-criterion.c:
	(make_emblem_value_menu):
	* src/file-manager/fm-directory-view.c:
	(add_open_with_gtk_menu_item):
	* src/nautilus-search-bar-criterion.c: (make_emblem_value_menu),
	(emblems_changed_callback):

	Added bug numbers for FIXMEs
	
2000-09-03  Pavel Cisler  <pavel@eazel.com>

	* libnautilus-extensions/nautilus-directory-notify.h:
	* libnautilus-extensions/nautilus-directory.c:
	(nautilus_directory_schedule_metadata_copy),
	(nautilus_directory_schedule_metadata_move):
	* libnautilus-extensions/nautilus-file-changes-queue.c:
	(nautilus_file_changes_queue_schedule_metadata_copy),
	(nautilus_file_changes_queue_schedule_metadata_move),
	(nautilus_file_changes_consume_changes):
	* libnautilus-extensions/nautilus-file-changes-queue.h:
	* libnautilus-extensions/nautilus-file-operations.c:
	(progress_dialog_set_files_remaining_text),
	(handle_xfer_vfs_error), (handle_xfer_duplicate),
	(sync_xfer_callback):
	Work on task bugzilla task 330.
	Add notification hooks for metadata copying to NautilusFileChangesQueue.
	Using the new top_level_item, call the hooks from the copy engine 
	synchronous callback. 

2000-09-03  Maciej Stachowiak  <mjs@eazel.com>

	* components/tree/nautilus-tree-view.c: (insert_hack_node,
	remove_hack_node, freeze_if_have_hack_node): Remove gratuitous
	debugging messages.

2000-09-03  Andy Hertzfeld  <andy@eazel.com>

	* components/rpmview/nautilus-rpm-verify-window.h:
	added "continue" signal
	* components/rpmview/nautilus-rpm-verify-window.c:
	(nautilus_rpm_verify_window_initialize_class),
	(continue_button_callback), (cancel_button_callback),
	(nautilus_rpm_verify_window_initialize),
	(nautilus_rpm_verify_window_set_error_mode):
	implemented verify error presentation, by adding a continue and cancel button,
	with a method to show them, and a signal to resume verification after errors
	
	* components/rpmview/nautilus-rpm-view.c:
	(nautilus_rpm_view_verify_files),
	(nautilus_rpm_view_verify_package_callback),
	(rpm_view_continue_verify):
	connect to the "continue" signal and resume verification; remember where we
	left off in an instance variable.  We still need more descriptive messages.
	
2000-09-02  Andy Hertzfeld  <andy@eazel.com>

	* components/rpmview/Makefile.am:
	* components/rpmview/nautilus-rpm-verify-window.c,h:
	(nautilus_rpm_verify_window_initialize_class),
	(nautilus_rpm_verify_window_destroy),
	(nautilus_rpm_verify_window_initialize),
	(nautilus_rpm_verify_window_new),
	(nautilus_rpm_verify_window_set_message):
	added verify window class to give feedback during the verify operation
	* components/rpmview/nautilus-rpm-view.c:
	(nautilus_rpm_view_destroy), (nautilus_rpm_view_update_from_uri),
	(nautilus_rpm_view_verify_package_callback):
	made the verify command work, but it's still needs to handle verification errors
	made the file list work correctly with rpmlib version >= 3.0
	
	* src/nautilus-about.c: (nautilus_about_draw_info):
	at Arlo's request, made the comment text in the about window have a white shadow
	
2000-09-02  Eskil Heyn Olsen  <eskil@eazel.com>

	* components/hardware/nautilus-hardware-view.c:
	(get_RAM_description), (get_IDE_description),
	(setup_overview_form), (setup_IDE_form),
	(nautilus_hardware_view_load_uri):
	Added Shane Butlers <sbutle@deakin.edu.au> patch for showing IDE
	devices in the hardware overview. Also fixed the size display
	problem (unsigned long overflow).
	
Sat Sep 02 02:56:48 2000  George Lebl <jirka@5z.com>

	* libnautilus-extensions/nautilus-icon-canvas-item.c (map_pixbuf),
	  libnautilus-extensions/nautilus-theme.c (load_theme_document):
	  Deal with the fact that nautilus_pixmap_file can return a NULL
	  if the file doesn't exist.

	* src/nautilus-first-time-druid.c (create_named_pixbuf),
	  (make_hbox_user_level_radio_button):
	  Deal with nautilus_pixmnap_file_returning NULL.  Also do
	  not assert out when no icon can be loaded.  Things need to
	  work/fail gracefully if icons are not installer properly instead of
	  just asserting.
	  (set_page_sidebar) (nautilus_first_time_druid_show):
	  Use the create_named_pixbuf function for loading the pixbufs

	* src/nautilus-shell.c (display_caveat):  Again deal with
	  non-existant image.  If it doesn't exist don't even create the
	  frame for the image.

2000-09-01  Eskil Heyn Olsen  <eskil@eazel.com>

	* components/services/install/lib/eazel-install-types.h:
	* components/services/install/lib/eazel-install-rpm-glue.h:
	* components/services/install/lib/eazel-install-types.c:
	(categorydata_destroy_foreach), (packagedata_new),
	(packagedata_destroy), (packagedata_remove_soft_dep):
	The packagedata_destroy_foreach has been removed,
	packagedata_destroy now takes a boolean that controls the deep
	destroy.
	
	* components/rpmview/nautilus-rpm-view.c:
	(nautilus_rpm_view_destroy), (nautilus_rpm_view_update_from_uri):
	* components/services/install/command-line/eazel-alt-install-corba.
	c: (main):
	Use the categorydata_new call
	
	* components/services/install/lib/eazel-install-corba-callback.c:
	(impl_dep_check), (impl_install_progress),
	(impl_uninstall_progress):
	Fixed to use the changed packagedata_destroy
	
	* components/services/install/lib/eazel-install-corba.c:
	(impl_Eazel_Install_simple_query):
	Call the correct query call
	
	* components/services/install/lib/eazel-install-private.h:
	Added a glist to hold downloaded packages
	
	* components/services/install/lib/eazel-install-object.c:
	(eazel_install_initialize), (eazel_install_install_packages),
	(eazel_install_uninstall_packages),
	(eazel_install_revert_transaction_from_xmlstring),
	(eazel_install_query_package_system),
	(eazel_install_emit_install_progress_default):
	Modified the deletion, so it now deletes all downloaded files (and
	only downloaded files). Also this file is now responsible for
	calling prepare_package_system.
	
	* components/services/install/lib/eazel-install-protocols.c:
	(eazel_install_fetch_file):
	Added downloaded packages to the glist in eazel_install.
	
	* components/services/install/lib/eazel-install-query.c:
	(eazel_install_simple_rpm_query), (eazel_install_simple_query):
	Removed the prepare/free_package_system calls
	
	* components/services/install/lib/eazel-install-rpm-glue.c:
	(eazel_install_flatten_categories),
	(eazel_install_download_packages),
	(eazel_install_pre_install_packages),
	(eazel_install_do_install_packages), (uninstall_all_packages),
	(ei_get_packages_with_mod_flag), (ei_check_uninst_vs_downgrade),
	(revert_transaction), (eazel_install_do_transaction_fill_hash),
	(eazel_install_do_transaction_get_total_size),
	(eazel_install_start_transaction_make_argument_list),
	(eazel_install_do_transaction_save_report_helper),
	(eazel_install_display_arguments),
	(eazel_install_start_transaction),
	(eazel_install_prune_packages_helper),
	(eazel_install_prune_packages), (eazel_install_load_rpm_headers),
	(eazel_install_free_rpm_system),
	(eazel_install_prepare_rpm_system), (eazel_install_add_to_rpm_set),
	(eazel_install_add_to_extras_foreach),
	(eazel_install_check_existing_packages),
	(eazel_install_fetch_rpm_dependencies), (print_package_list),
	(eazel_install_ensure_deps), (eazel_uninstall_upward_traverse),
	(eazel_uninstall_downward_traverse),
	(eazel_uninstall_check_for_install), (eazel_uninstall_globber):
	changed all the iterations to use g_list_next.
	Changed the packagedata_destroy calls
	Fixed the reversion
	Modified the prepare package system scheme
	
	* components/services/install/nautilus-view/nautilus-service-instal
	l-view.c: (nautilus_install_parse_uri),
	(nautilus_service_install_view_update_from_uri):
	Changed the packagedata_destroy calls.
	Used categorydata_new instead of g_new
	
	* components/services/install/nautilus-view/nautilus-service-instal
	l.c: (nautilus_service_install_view_install_package_callback),
	(nautilus_service_install_view_uninstall_package_callback):
	Used categorydata_new instead of g_new

	* nautilus-installer/src/druid-sidebar.xpm:
	Nicer ui
	
	* nautilus-installer/src/installer.c: (check_system):
	Comment to the danish dialog box...

2000-09-01  J Shane Culpepper  <pepper@eazel.com>

	* components/services/summary/nautilus-view/nautilus-summary-view.c
	: (generate_summary_form), (maintenance_button_cb),
	(community_button_cb), (register_button_cb):

	Adding missing buttons to the summary view.

2000-09-01  Robey Pointer  <robey@eazel.com>

	* components/services/login/nautilus-view/Makefile.am:
	* components/services/login/nautilus-view/nautilus-login-view.c:
	(generate_login_form), (entry_changed_cb), (authn_succeeded),
	(authn_failed), (start_login), (login_button_cb),
	(nautilus_login_view_initialize), (nautilus_login_view_destroy):

	Fix the "login view" so that it's really the change-password
	view.  Another bug (2710) has been filed on cleaning this up and
	possibly renaming it.

2000-09-01  Darin Adler  <darin@eazel.com>

	* libnautilus-extensions/nautilus-directory-private.h:
	* libnautilus-extensions/nautilus-directory-async.c:
	(nautilus_directory_is_anyone_monitoring_file_list):
	Made this function public because it's needed to get the
	assert right.
	(start_or_stop_io): Use it by the new public name.
	* libnautilus-extensions/nautilus-vfs-directory.c:
	(vfs_is_not_empty): Use the new function to get the assert
	right, which fixes bug 2706 (crash at startup with
	bookmark for nonexistent trash file).
	
	* libnautilus-extensions/nautilus-trash-directory.c:
	(remove_trash_volume): Fix a NautilusDirectory leak.

	* libnautilus-extensions/nautilus-glib-extensions.c:
	(print_key_string), (free_hash_tables_at_exit):
	Print keys before complaining about hash table so you
	see them first if you have things set to drop into
	the debugger on warnings.

2000-09-01  John Sullivan  <sullivan@eazel.com>

	Changed all nautilus dialog calls to take a window title
	(or NULL to get "Nautilus: Error" and the like). Updated 
	all callers to pass a window title.

	* libnautilus-extensions/nautilus-stock-dialogs.h,
	* libnautilus-extensions/nautilus-stock-dialogs.c:
	(show_message_box), (show_ok_box), (nautilus_info_dialog),
	(nautilus_warning_dialog), (nautilus_error_dialog),
	(nautilus_error_dialog_with_details), (nautilus_yes_no_dialog):
	Updated all public & private dialog-creating calls to take
	a dialog_title parameter.

	* components/rpmview/nautilus-rpm-view-install.c:
	(nautilus_rpm_view_install_done):
	* libnautilus-extensions/nautilus-file-operations.c:
	(confirm_empty_trash):
	* libnautilus-extensions/nautilus-program-chooser.c:
	(nautilus_program_chooser_show_no_choices_message):
	* libnautilus-extensions/nautilus-program-choosing.c:
	(nautilus_launch_application_parented):
	* src/file-manager/fm-error-reporting.c:
	(fm_report_error_renaming_file), (fm_report_error_setting_group),
	(fm_report_error_setting_owner),
	(fm_report_error_setting_permissions):
	* src/nautilus-application.c:
	(nautilus_application_check_user_directories),
	(nautilus_application_startup):
	* src/nautilus-first-time-druid.c:
	(nautilus_first_time_druid_show):
	* src/nautilus-property-browser.c: (emblem_image_file_changed),
	(add_background_to_browser):
	* src/nautilus-sidebar.c: (receive_dropped_uri_list):
	* src/nautilus-window-manage-views.c: (handle_unreadable_location),
	(report_content_view_failure_to_user),
	(report_sidebar_panel_failure_to_user),
	(nautilus_window_end_location_change_callback):
	* src/nautilus-window-menus.c: (forget_history_if_confirmed),
	(show_bogus_bookmark_window): Made up dialog titles for all
	title-less dialogs. A few were already setting titles after
	the fact, so I removed the now-extraneous set_title calls.

2000-09-01  J Shane Culpepper  <pepper@eazel.com>

	* components/services/nautilus-dependent-shared/shared-service-widg
	ets.c: (create_summary_service_title_top_widget),
	(create_summary_service_title_bottom_widget),
	(create_services_header_widget),
	(create_summary_service_large_grey_header_widget),
	(create_summary_service_small_grey_header_widget):
	* components/services/nautilus-dependent-shared/shared-service-widg
	ets.h:
	* components/services/summary/nautilus-view/nautilus-summary-view.c
	: (generate_summary_form):

	Finishing Bug #2631.  Arlo titles to all sections of the summary view.

2000-09-01  Michael Engber  <engber@eazel.com>
	
	Removed our quitting logic from nautilus-application
	(where it was tied to nautilus-window closing) and added
	a more general mechanism in main.c - by which you can
	register any gtk object to keep the main event loop
	alive while the object is around. This, in turn, fixed 
	a problem with the first-time-druid not causing nautilus
	to quit when it was cancel via the close box (bug 2211)
	and also a problem with nautilus quitting before you had
	a chance to see an error dialog (bug 1871). Also, added
	nautilus_main_event_loop_quit as the preferred way to
	cause nautilus to quit (as opposed to gtk_main_quit)

	* src/nautilus-application.c: (nautilus_application_startup),
	(nautilus_application_close_desktop),
	(nautilus_application_destroyed_window):
	* src/nautilus-application.h:
	* src/nautilus-first-time-druid.c: (druid_finished),
	(nautilus_first_time_druid_show):
	* src/nautilus-main.c: (nautilus_main_is_event_loop_needed),
	(nautilus_main_event_loop_unregister),
	(nautilus_main_event_loop_register),
	(nautilus_main_is_event_loop_mainstay),
	(nautilus_main_event_loop_quit), (main):
	* src/nautilus-main.h:
	* src/nautilus-shell.c: (corba_quit), (corba_restart):
	* src/nautilus-window-manage-views.c:
	(nautilus_window_end_location_change_callback):
	* src/nautilus-window.c: (nautilus_window_initialize):

2000-09-01  J Shane Culpepper  <pepper@eazel.com>

	* components/services/nautilus-dependent-shared/icons/Makefile.am:
	* components/services/nautilus-dependent-shared/shared-service-widg
	ets.c: (create_summary_service_title_top_widget),
	(create_summary_service_title_bottom_widget):
	* components/services/nautilus-dependent-shared/shared-service-widg
	ets.h:
	* components/services/summary/nautilus-view/nautilus-summary-view.c
	: (generate_summary_form):

	First part of the arlo titles for the summary view.

2000-09-01  Darin Adler  <darin@eazel.com>

	* libnautilus-extensions/nautilus-glib-extensions.c:
	(print_key_string), (free_hash_tables_at_exit),
	(nautilus_g_hash_table_new_free_at_exit): Added code to print out
	the keys for the hash table at exit time if it's a hash table with
	string keys. I can tell the keys are strings because the hash
	function is g_str_hash.
	
	* src/file-manager/nautilus-trash-monitor.c:
	(nautilus_trash_monitor_initialize): Used connect_while_alive
	instead of connect to get rid of some nasty problems with
	lingering signal handlers.

2000-09-01  Maciej Stachowiak  <mjs@eazel.com>

	* components/tree/libmain.c (tree_shlib_object_destroyed): Don't
	call oaf_plugin_unuse for now, it kills stuff.

	* components/tree/nautilus-tree-model.c:
	(nautilus_tree_model_destroy,
	nautilus_tree_model_for_each_postorder): Bug fixes to avoid crashing.
	
	* components/tree/nautilus-tree-view.c: (insert_hack_node,
	remove_hack_node, freeze_if_have_hack_node): Assorted fixes to
	avoid crashing or locking up when in-process.

	* configure.in: Fix configure text for in-proc tree view.

2000-09-01  John Sullivan  <sullivan@eazel.com>

	Fixed bug 1476 (Using bogus local bookmark should update
	its icon). The specific bug led me to changing some of
	the internals of NautilusBookmark in a way that has nice
	UI consequences. Now if you use Nautilus to move a bookmarked
	file, the bookmark will continue to find the moved file, and
	if you delete a file, the bookmark's icon will change to the
	"missing location" icon.

	* libnautilus-extensions/nautilus-bookmark.c:
	(nautilus_bookmark_disconnect_file),
	(nautilus_bookmark_connect_file): New helper functions that
	handle wiring or unwiring the connection between a bookmark
	and its NautilusFile.
	(nautilus_bookmark_destroy): Use nautilus_bookmark_disconnect_file.
	(nautilus_bookmark_new_with_icon): Use nautilus_bookmark_connect_file.
	(bookmark_file_changed_callback): Notice changes in the file's URI
	and update the bookmark to use the new URI; notice when the file
	is gone and disconnect/reconnect to file.

	Miscellaneous tweaks:
	
	* src/file-manager/fm-search-list-view.c:
	(compute_reveal_item_name_and_sensitivity): At the suggestion of
	a localizer (menthos), added explanatory comments before the use
	of "Reveal in New Window" and "Reveal in <n> New Windows". It turns
	out that a comment just before a translatable text string will
	appear in the .pot files that localizers use.
	* src/nautilus-first-time-druid.c: (set_up_user_level_page):
	Fixed two misspellings of "technical" and one missing period. Thanks
	to menthos for pointing these out.
	* src/nautilus-window-menus.c: 
	(show_bogus_bookmark_window): Use nautilus_format_uri_for_display
	for bookmark uris shown in user messages. Simplify the message you
	get if you choose a known-bogus URI from the Go menu.

2000-09-01  Gene Z. Ragan  <gzr@eazel.com>

	Fixed bug 2491, remove GtkHtml web browser from build.
	
	* components/Makefile.am:
	Removed the http component
	
2000-09-01  Ali Abdin  <aliabdin@aucegypt.edu>

        * components/help/converters/gnome-db2html2/sect-elements.c:
        Ooops - Make the QUOTE tag actually print the characters out

2000-09-01  Maciej Stachowiak  <mjs@eazel.com>

	* components/tree/nautilus-tree-model.c:
	(nautilus_tree_model_destroy, nautilus_tree_model_unref_callback,
	nautilus_tree_model_for_each_postorder, remove_all_nodes,
	report_node_removed_internal, report_node_removed): Clean up all
	the nodes when destroying the model.
	
	* components/tree/nautilus-tree-view.c: Unref the model when
	destroying the view.

	* components/tree/nautilus-tree-node-private.h,
	components/tree/nautilus-tree-node.c:
	(nautilus_tree_node_remove_from_parent): Renamed from
	`nautilus_tree_remove_from_parent'

2000-09-01  Pavel Cisler  <pavel@eazel.com>

	Fix bugzilla 2186 - Move/Copy/Make-Link for times from multiple directories
	fails. Still needs more testing.
	Reworked file operations to match new gnome_vfs_xfer... APIs that now take
	lists of URIs for copy source and destination.

	* components/services/install/lib/eazel-install-protocols.c:
	(gnome_vfs_fetch_remote_file):
	Update to use new API. 
	
	* libnautilus-extensions/nautilus-file-operations.c:
	(check_target_directory_is_or_in_trash),
	(new_uri_from_escaped_string), (append_basename_unescaped),
	(nautilus_file_operations_copy_move),
	(nautilus_file_operations_new_folder),
	(nautilus_file_operations_move_to_trash),
	(nautilus_file_operations_delete), (do_empty_trash):
	Reworked to use new APIs.
	Eliminated FIXME 1107.
	Updated find_directory calls to use proper "create if needed" flags.
	
	* libnautilus-extensions/nautilus-file-utilities.c:
	(nautilus_get_user_main_directory):
	* libnautilus-extensions/nautilus-file.c: (nautilus_file_rename):
	Updated to use new APIs.

2000-09-01  Eskil Heyn Olsen  <eskil@eazel.com>

	* components/rpmview/nautilus-rpm-view-install.c:
	(nautilus_rpm_view_download_progress_signal),
	(nautilus_rpm_view_install_progress_signal),
	(nautilus_rpm_view_download_failed), 
	Emits load_underway signals, although they do not seem to start
	the spinner.
	(get_detailed_errors_foreach),
	(get_detailed_errors), 
	(nautilus_rpm_view_install_failed),
	Generates contents for the dialog box showed when the operation
	failed.
	(nautilus_rpm_view_dependency_check),
	(nautilus_rpm_view_install_done), 
	If failed, show a box to the user
	(nautilus_service_need_password),
	(nautilus_service_try_again), 
	(set_root_client), 
	Added Robeys password dialog stuff
	(delete_files),
	emits a FALSE when asked to delete files.	
	(nautilus_rpm_view_install_package_callback),
	(nautilus_rpm_view_uninstall_package_callback):
	Still defaults to testmachine.eazel.com (bad, but landa.eazel.com
	seems to be down). Sets up the password query thing.
	
	* components/rpmview/nautilus-rpm-view.c:
	(nautilus_rpm_view_initialize), 
	(nautilus_rpm_view_destroy),
	(check_installed):
	Fixed the nautilus_label problem by ifdeffing it to use gtk_label
	for the strings that will most likely contain \n\n
	
	* components/rpmview/nautilus-rpm-view.h:
	Added some calls to get div fields from details.
	
	* components/services/install/command-line/eazel-alt-install-corba.
	c: (set_parameters_from_command_line):
	Fixed the --root handling of dirs.
	
	* components/services/install/lib/eazel-install-protocols.c:
	Now set to use the old CGI stuff while landa doesn't serve me my
	rpm's..
	
	* components/services/install/lib/eazel-install-rpm-glue.c:
	(eazel_install_prune_packages_helper),
	Added some debug output
	(eazel_install_package_name_compare):
	Removed some debug output
	
	* components/services/install/lib/eazel-install-types.c:
	(packagedata_destroy_foreach), (packagedata_destroy),
	free the pack structure itself
	(packagedata_remove_soft_dep):
	paranoia check
	
	* components/services/trilobite/libtrilobite/trilobite-root-client-
	public.h:
	Changed the include to use "'s instead of <'s. 
	
	* nautilus-installer/src/Makefile:
	* nautilus-installer/src/installer.c: (create_pixmap),
	(create_what_to_do_page), (create_install_page),
	(create_finish_page_good), (create_finish_page_evil),
	(create_window), (create_info_druid_page):
	Better image loading for the static installer.

2000-09-01  J Shane Culpepper  <pepper@eazel.com>

	* components/services/nautilus-dependent-shared/icons/Makefile.am:
	Forgot to update the Makefile.am for the new icons.

2000-09-01  J Shane Culpepper  <pepper@eazel.com>

	* components/services/summary/nautilus-view/nautilus-summary-view.c
	: (generate_summary_form):

	Minor ui fixes to prepare adding the arlo title widgets.  Adding
	several images as well.

2000-09-01  Andy Hertzfeld  <andy@eazel.com>

	* components/rpmview/nautilus-rpm-view.c:
	(nautilus_rpm_view_initialize), (check_installed),
	(nautilus_rpm_view_update_from_uri):
	removed anti-aliased text from rpm_view, since it was causing
	too many problems; displayed icon contained in package header, or
	a generic package icon if there isn't one; gather and display
	package install time correctly.
	
2000-08-31  Maciej Stachowiak  <mjs@eazel.com>

	* ChangeLog: rolled over to ChangeLog-20000831.

