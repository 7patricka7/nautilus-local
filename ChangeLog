2000-07-20  Rebecca Schulman  <rebecka@eazel.com>


	* libnautilus-extensions/nautilus-directory-async.c:
	(allow_metafile), (start_monitoring_file_list):
	* libnautilus-extensions/nautilus-directory-private.h:
	* libnautilus-extensions/nautilus-directory.c:
	(nautilus_directory_destroy), (nautilus_directory_get),
	(construct_alternate_metafile_uri), (nautilus_directory_is_local),
	(nautilus_directory_file_monitor_remove):
	* libnautilus-extensions/nautilus-directory.h:
	got rid of changes before made for putting medusa
	communication into nautilus. that is all part of 
	gnome-vfs now.

	* libnautilus-extensions/nautilus-search-async.c:
	* libnautilus-extensions/nautilus-search-async.h:
	* libnautilus-extensions/Makefile.am:
	Deprecated as they are no longer necessary  (see above)
	
	* libnautilus-extensions/nautilus-string.c:
	* libnautilus-extensions/nautilus-string.h:
	(nautilus_str_get_after_prefix):
	added new function that nautilus-string-uri will use.
	
	* src/file-manager/fm-list-view.c: (fm_list_view_create_list):
	fix list view bug that should have been in my last checkin
	Someone needs beat me over the head and fix my extensive
	cvs issues from the last few days!

2000-07-20  Ali Abdin <aliabdin@aucegypt.edu>

	* components/help/help-method.c:
	Revert an inadvertant checkin made by Gene.

2000-07-20  Ramiro Estrugo  <ramiro@eazel.com>

	* src/file-manager/Makefile.am:
	Make distcheck happy by putting all the headers in a
	noinst_HEADERS macro.
	
2000-07-20  Ramiro Estrugo  <ramiro@eazel.com>

	* cut-n-paste-code/freetype/Makefile.am:
	Add missing included .[ch] files to build to make distcheck happy.
	
2000-07-20  Ramiro Estrugo  <ramiro@eazel.com>

	* cut-n-paste-code/freetype/Makefile.am:
	Build this beast only as a static library and dont install any of
	its headers.
	
	* librsvg/Makefile.am:
	Link in the cut-and-pasted freetype lib statically into librsvg to
	avoid having its clients having a depenency on freetype.
	
Thu Jul 20 10:41:26 2000  Raph Levien  <raph@acm.org>

	* librsvg/rsvg-ft.c librsvg/rsvg-ft.h librsvg/art_render_mask.c
	librsvg/art_render_mask.h librsvg/rsvg.c: Initial checkin of
	freetype2 integration.

2000-07-19  Rebecca Schulman  <rebecka@eazel.com>

	* src/file-manager/fm-list-view-private.h:
	added forgotten file from last commit

2000-07-19  Rebecca Schulman  <rebecka@eazel.com>
        Created initial list view for search results, as a subclass (sort of)
	of fm-list-view

	* src/file-manager/fm-list-view.h:
	* src/file-manager/fm-list-view.c: (fm_list_view_initialize_class),
	(fm_list_view_initialize), (fm_list_view_list_is_instantiated),
	(fm_list_view_set_instantiated), (fm_list_view_create_list),
	(fm_list_view_setup_list), (add_to_list), (get_list),
	(fm_list_view_set_zoom_level), (fm_list_view_install_row_images),
	(update_icons):
	added new create_list signal to FM_LIST_VIEW, and instantiate the
	actual widget not in fm_list_view_initialize, but later, so that
	the search subclass can create its own separate clist widget

	* src/file-manager/fm-search-list-view.c:
	(fm_search_list_view_initialize_class),
	(fm_search_list_view_initialize), (fm_search_list_view_add_file),
	(add_to_list), (get_list), (fm_search_list_view_create_list),
	(compare_rows), (sort_criterion_from_column),
	(get_attribute_from_column), (fm_search_list_view_destroy):
	* src/file-manager/fm-search-list-view.h:
	adjusted list-view appearance for search results, by adding a directory
	column to show the actual path of files in a search result directory
	
	* src/nautilus-application.c: (manufactures), (create_object):
	* src/nautilus.oafinfo:
	register the search list view
	
	* src/file-manager/Makefile.am: added new fm-search-list-view.* files        


2000-07-19  Robey Pointer  <robey@eazel.com>

	*
	components/services/trilobite/libtrilobite/trilobite-core-utils.h:

	Add __GNUC__ alternate of trilobite_debug for non-gcc compilers.

2000-07-19  Darin Adler  <darin@eazel.com>

	* components/services/trilobite/libtrilobite/libtrilobite.h:
	* components/services/trilobite/libtrilobite/trilobite-root-client.c:
	Change include style from <libtrilobite/xxx.h> to "xxx.h" to fix
	the build.

	* libnautilus-extensions/nautilus-directory.c:
	(make_uri_canonical), (is_canonical_uri):
	Add two new elements to the canonical URI rules in here: put a
	"file:" in front of things that don't have a scheme, and
	lower-case the scheme.
	
	* libnautilus-extensions/nautilus-string.h:
	* libnautilus-extensions/nautilus-string.c:
	(nautilus_istr_has_prefix), (nautilus_istr_has_suffix):
	Add case-insensitive versions of these calls. These terse names
	are maybe a little lame; istr is not completely clear. (I guess I
	now wish the "nautilus_" namespace was "n_" instead, like those
	rad Evolution people and their bold "e_").

	* components/music/nautilus-music-view.c: (is_mp3_file),
	(nautilus_music_view_update_from_uri):
	* libnautilus-extensions/nautilus-file-utilities.c:
	(nautilus_format_uri_for_display),
	(nautilus_get_local_path_from_uri):
	* libnautilus-extensions/nautilus-file.c:
	(nautilus_file_contains_text):
	* libnautilus-extensions/nautilus-icon-factory.c:
	(nautilus_icon_factory_get_icon_for_file), (make_thumbnail_path),
	(load_specific_image):
	* libnautilus-extensions/nautilus-theme.c:
	(nautilus_theme_make_selector):
	* src/file-manager/fm-icon-view.c: (play_file), (preview_sound),
	(icon_container_preview_callback):
	* src/file-manager/fm-properties-window.c:
	(get_property_names_from_uri):
	* src/nautilus-location-bar.c: (try_to_expand_path):
	* src/nautilus-property-browser.c: (ensure_uri_is_image),
	(make_properties_from_directory_path):
	* src/nautilus-sidebar.c: (map_local_data_file),
	(add_command_buttons):
	* libnautilus-extensions/nautilus-directory-background.c:
	(local_data_file_to_uri):
	Use case-insensitive string functions when dealing with MIME
	types, URI schemes, or file name extensions for file types that
	are also used on Windows where file names are not case sensitive.
	
	* libnautilus-extensions/nautilus-string.c:
	(nautilus_self_check_string):
	* libnautilus-extensions/nautilus-bookmark.c:
	(nautilus_bookmark_icon_is_different):
	* src/nautilus-bookmark-list.c:
	(nautilus_bookmark_list_delete_items_with_uri):
	* src/nautilus-window-manage-views.c:
	(nautilus_window_reset_title_internal), (handle_go_back),
	(handle_go_forward), (handle_go_elsewhere):
	* src/nautilus-window-menus.c:
	(nautilus_window_add_bookmark_for_current_location):
	Get rid of uses of nautilus_eat_strcmp since it's yucky.
	
	* libnautilus-extensions/nautilus-debug.c:
	(nautilus_str_equal_with_free):
	Make a debug-only thing kind of like nautilus_eat_strcmp that's
	good for asserts.
	
	* src/nautilus-sidebar.c: (add_command_buttons):
	Fixed a storage leak.

	* libnautilus-extensions/nautilus-link-set.c: (link_set_path_name):
	Added a FIXME.
	
	* components/services/install/command-line/.cvsignore:
	* cut-n-paste-code/freetype/.cvsignore:
	Ignore some generated files.
	
2000-07-19  Robey Pointer  <robey@eazel.com>

	* components/services/trilobite/libtrilobite/libtrilobite.h:
	* components/services/trilobite/libtrilobite/trilobite-core-utils.c:
	(trilobite_add_log), (trilobite_init):
	* components/services/trilobite/libtrilobite/trilobite-core-utils.h:
	* components/services/trilobite/libtrilobite/trilobite-root-client.c:
	(trilobite_root_client_unref), (trilobite_root_client_initialize):
	* components/services/trilobite/libtrilobite/trilobite-root-helper.c:
	(trilobite_root_helper_destroy),
	(trilobite_root_helper_initialize), (eazel_helper_start),
	(eazel_helper_password), (trilobite_root_helper_start),
	(trilobite_root_helper_run_program):
	* components/services/trilobite/sample/service/main.c: (main):

	Add "debug" option to trilobite_init().  If debug mode is on,
	the trilobite_debug() macro will be the debug equivalent of
	g_message().  Added debugging log messages to the root-helper
	stuff.

2000-07-19  Gene Z. Ragan  <gzr@eazel.com>

	* src/nautilus-window.c: (nautilus_window_initialize_class),
	(nautilus_window_constructed),
	(nautilus_window_get_base_page_index), (nautilus_window_show):
	Overode show function with nautilus_window_show.  We need
	to do this so we can first call the parents show and then 
	show/hide window widgets based on the users prefs.  We need
	to do this because GnomeDockItems do not get their parent
	assigned until show is called on them.
	
2000-07-19  Ali Abdin  <aliabdin@aucegypt.edu>

	* components/help/help-method.c:
	(help_uri_to_string):
	Cleaned it up to fit Eazel style guidelines. Changed the URI's so they
	pass the mime-type to pipe and are escaped. Fixes bug #698.

	I also removed a lot of #ifdef DEBUG_ALI cruft left lying around.

2000-07-18  Pavel Cisler  <pavel@eazel.com>

	* libnautilus-extensions/nautilus-file.c: (nautilus_file_dump):
	* libnautilus-extensions/nautilus-file.h:
	Added a debugging call.
	
2000-07-19  Eskil Heyn Olsen  <eskil@eazel.com>

	* components/services/install/command-line/Makefile.am:
	*
	components/services/install/command-line/eazel-alt-install-corba.c:
	Added the uninstall stuff.
	
	(set_parameters_from_command_line), (eazel_preflight_check_signal),
	(eazel_install_progress_signal), (install_failed), (main):
	* components/services/install/command-line/eazel-package-query.c:
	(main):
	Small too to do cli package queries.

	* components/services/install/lib/eazel-install-corba-types.c:
	(categorydata_list_from_corba_categorystructlist):
	* components/services/install/lib/eazel-install-corba-types.h:
	Removed the packagedata to xml conversion to eazel-install-xml-package-list.c
	* components/services/install/lib/eazel-install-object.c:
	(xml_from_packagedata), (eazel_install_destroy),
	(eazel_install_initialize):
	Moved the packagedata corba_char* xml conv here.
	
	* components/services/install/lib/eazel-install-private.h:
	Added a GList*, which holds the current transaction.
	
	* components/services/install/lib/eazel-install-query.c:
	(eazel_install_simple_rpm_query), (eazel_install_simple_query):
	* components/services/install/lib/eazel-install-query.h:
	Implemented the simple query mechanisms. They are simple, since
	they're eg. of the format MATCHES "gmc", REQUIRES "glib" and such.
	
	* components/services/install/lib/eazel-install-rpm-glue.c:
	(install_new_packages), (install_all_packages),
	(uninstall_all_packages), (uninstall_packages),
	(rpm_show_progress), (eazel_install_do_rpm_transaction_fill_hash),
	(eazel_install_do_rpm_transaction_get_total_size),
	(eazel_install_do_rpm_transaction_make_argument_list),
	(eazel_install_do_rpm_transaction_process_pipe),
	(do_rpm_transaction), (do_rpm_uninstall),
	(eazel_install_prepare_rpm_system), (eazel_install_add_to_rpm_set),
	(eazel_install_check_existing_packages),
	(eazel_install_fetch_rpm_dependencies),
	(eazel_uninstall_upward_traverse),
	(eazel_uninstall_downward_traverse), (eazel_uninstall_globber):
	A lot of the old progress code has been ripped out and replaced
	with the trilobite-root-helper code. Some refactoring was done
	(more needed) and most parts of 1586 is done.
	The uninstall stuff is also reimplemented (1700)
	
	* components/services/install/lib/eazel-install-types.c:
	(rpmname_from_packagedata), (packagedata_status_str_to_enum),
	(packagedata_modstatus_enum_to_str),
	(packagedata_modstatus_str_to_enum):
	* components/services/install/lib/eazel-install-types.h:
	Added fields to PackageData, so I can store transactions (eg. that
	installing package bla upgrades blech from x.y to v.w).
	
	* components/services/install/lib/eazel-install-xml-package-list.c:
	(parse_package), (eazel_install_packagedata_to_xml),
	(eazel_install_packagelist_to_xml),
	(eazel_install_categorydata_to_xml):
	*
	components/services/install/lib/eazel-install-xml-package-list.h:
	Functions to convert packagedata lists to xml.
	
	*
	components/services/trilobite/libtrilobite/trilobite-service-passwo
	rdquery.c: (trilobite_passwordquery_get_password):
	Destroy the password query dialog.

2000-07-19  Raph Levien  <raph@acm.org>

	I have added tentative support for building rsvg with
	freetype2. At this point, only test-rsvg has the freetype
	dependency. Thus, if things break, it should be easy enough to
	work around. My current thinking is to add the dependency
	throughout by replacing existing top-builddir relative ldadd's of
	librsvg.la with a newly defined $(RSVG_LIBS) variable. This
	variable will be defined in configure.in to include both freetype
	and librsvg. Hopefully, I'll check that in tomorrow morning.

	* configure.in: added cut-n-paste-code/freetype/Makefile output.

	* cut-n-paste-code/Makefile.am (SUBDIRS): Added freetype subdir.

	* cut-n-paste-code/freetype/Makefile.am
	cut-n-paste-code/freetype/README
	cut-n-paste-code/freetype/autohint.h
	cut-n-paste-code/freetype/cff.c
	cut-n-paste-code/freetype/cidafm.c
	cut-n-paste-code/freetype/cidafm.h
	cut-n-paste-code/freetype/cidgload.c
	cut-n-paste-code/freetype/cidgload.h
	cut-n-paste-code/freetype/cidload.c
	cut-n-paste-code/freetype/cidload.h
	cut-n-paste-code/freetype/cidobjs.c
	cut-n-paste-code/freetype/cidobjs.h
	cut-n-paste-code/freetype/cidparse.c
	cut-n-paste-code/freetype/cidparse.h
	cut-n-paste-code/freetype/cidriver.c
	cut-n-paste-code/freetype/cidriver.h
	cut-n-paste-code/freetype/cidtokens.h
	cut-n-paste-code/freetype/freetype.h
	cut-n-paste-code/freetype/ftbase.c
	cut-n-paste-code/freetype/ftbbox.h
	cut-n-paste-code/freetype/ftcalc.c
	cut-n-paste-code/freetype/ftcalc.h
	cut-n-paste-code/freetype/ftconfig.h
	cut-n-paste-code/freetype/ftdebug.c
	cut-n-paste-code/freetype/ftdebug.h
	cut-n-paste-code/freetype/ftdriver.h
	cut-n-paste-code/freetype/fterrors.h
	cut-n-paste-code/freetype/ftextend.c
	cut-n-paste-code/freetype/ftextend.h
	cut-n-paste-code/freetype/ftglyph.c
	cut-n-paste-code/freetype/ftglyph.h
	cut-n-paste-code/freetype/ftgrays.c
	cut-n-paste-code/freetype/ftgrays.h
	cut-n-paste-code/freetype/ftimage.h
	cut-n-paste-code/freetype/ftinit.c
	cut-n-paste-code/freetype/ftlist.c
	cut-n-paste-code/freetype/ftlist.h
	cut-n-paste-code/freetype/ftmemory.h
	cut-n-paste-code/freetype/ftmm.c
	cut-n-paste-code/freetype/ftmm.h
	cut-n-paste-code/freetype/ftmodule.h
	cut-n-paste-code/freetype/ftobjs.c
	cut-n-paste-code/freetype/ftobjs.h
	cut-n-paste-code/freetype/ftoption.h
	cut-n-paste-code/freetype/ftoutln.c
	cut-n-paste-code/freetype/ftoutln.h
	cut-n-paste-code/freetype/ftraster.c
	cut-n-paste-code/freetype/ftraster.h
	cut-n-paste-code/freetype/ftrend1.c
	cut-n-paste-code/freetype/ftrend1.h
	cut-n-paste-code/freetype/ftrender.h
	cut-n-paste-code/freetype/ftsmooth.c
	cut-n-paste-code/freetype/ftsmooth.h
	cut-n-paste-code/freetype/ftstream.c
	cut-n-paste-code/freetype/ftstream.h
	cut-n-paste-code/freetype/ftsystem.c
	cut-n-paste-code/freetype/ftsystem.h
	cut-n-paste-code/freetype/fttypes.h
	cut-n-paste-code/freetype/license.txt
	cut-n-paste-code/freetype/psmodule.c
	cut-n-paste-code/freetype/psmodule.h
	cut-n-paste-code/freetype/psnames.h
	cut-n-paste-code/freetype/pstables.h
	cut-n-paste-code/freetype/raster1.c
	cut-n-paste-code/freetype/sfdriver.c
	cut-n-paste-code/freetype/sfdriver.h
	cut-n-paste-code/freetype/sfnt.c
	cut-n-paste-code/freetype/sfnt.h
	cut-n-paste-code/freetype/sfobjs.c
	cut-n-paste-code/freetype/sfobjs.h
	cut-n-paste-code/freetype/smooth.c
	cut-n-paste-code/freetype/t1afm.c
	cut-n-paste-code/freetype/t1afm.h
	cut-n-paste-code/freetype/t1driver.c
	cut-n-paste-code/freetype/t1driver.h
	cut-n-paste-code/freetype/t1errors.h
	cut-n-paste-code/freetype/t1gload.c
	cut-n-paste-code/freetype/t1gload.h
	cut-n-paste-code/freetype/t1hinter.c
	cut-n-paste-code/freetype/t1hinter.h
	cut-n-paste-code/freetype/t1load.c
	cut-n-paste-code/freetype/t1load.h
	cut-n-paste-code/freetype/t1objs.c
	cut-n-paste-code/freetype/t1objs.h
	cut-n-paste-code/freetype/t1parse.c
	cut-n-paste-code/freetype/t1parse.h
	cut-n-paste-code/freetype/t1tables.h
	cut-n-paste-code/freetype/t1tokens.c
	cut-n-paste-code/freetype/t1tokens.h
	cut-n-paste-code/freetype/t1types.h
	cut-n-paste-code/freetype/t2driver.c
	cut-n-paste-code/freetype/t2driver.h
	cut-n-paste-code/freetype/t2errors.h
	cut-n-paste-code/freetype/t2gload.c
	cut-n-paste-code/freetype/t2gload.h
	cut-n-paste-code/freetype/t2load.c
	cut-n-paste-code/freetype/t2load.h
	cut-n-paste-code/freetype/t2objs.c
	cut-n-paste-code/freetype/t2objs.h
	cut-n-paste-code/freetype/t2parse.c
	cut-n-paste-code/freetype/t2parse.h
	cut-n-paste-code/freetype/t2tokens.h
	cut-n-paste-code/freetype/t2types.h
	cut-n-paste-code/freetype/truetype.c
	cut-n-paste-code/freetype/ttcmap.c
	cut-n-paste-code/freetype/ttcmap.h
	cut-n-paste-code/freetype/ttdriver.c
	cut-n-paste-code/freetype/ttdriver.h
	cut-n-paste-code/freetype/tterrors.h
	cut-n-paste-code/freetype/ttgload.c
	cut-n-paste-code/freetype/ttgload.h
	cut-n-paste-code/freetype/ttinterp.c
	cut-n-paste-code/freetype/ttinterp.h
	cut-n-paste-code/freetype/ttload.c
	cut-n-paste-code/freetype/ttload.h
	cut-n-paste-code/freetype/ttnameid.h
	cut-n-paste-code/freetype/ttobjs.c
	cut-n-paste-code/freetype/ttobjs.h
	cut-n-paste-code/freetype/ttpload.c
	cut-n-paste-code/freetype/ttpload.h
	cut-n-paste-code/freetype/ttpost.c
	cut-n-paste-code/freetype/ttpost.h
	cut-n-paste-code/freetype/ttsbit.c
	cut-n-paste-code/freetype/ttsbit.h
	cut-n-paste-code/freetype/tttables.h
	cut-n-paste-code/freetype/tttags.h
	cut-n-paste-code/freetype/tttypes.h
	cut-n-paste-code/freetype/type1.c
	cut-n-paste-code/freetype/type1cid.c
	cut-n-paste-code/freetype/type1z.c
	cut-n-paste-code/freetype/winfnt.c
	cut-n-paste-code/freetype/winfnt.h
	cut-n-paste-code/freetype/z1afm.c
	cut-n-paste-code/freetype/z1afm.h
	cut-n-paste-code/freetype/z1driver.c
	cut-n-paste-code/freetype/z1driver.h
	cut-n-paste-code/freetype/z1gload.c
	cut-n-paste-code/freetype/z1gload.h
	cut-n-paste-code/freetype/z1load.c
	cut-n-paste-code/freetype/z1load.h
	cut-n-paste-code/freetype/z1objs.c
	cut-n-paste-code/freetype/z1objs.h
	cut-n-paste-code/freetype/z1parse.c
	cut-n-paste-code/freetype/z1parse.h
	cut-n-paste-code/freetype/z1tokens.h: Adapted a beta version of
	freetype2 so that it would build reasonably well within the
	(horribly broken) confines of autoconf and libtool.

	* librsvg/Makefile.am: Added cut-n-paste code to include paths,
	top-builddir relative path to libfreetype2.la to test-rsvg.

	* librsvg/test-rsvg.c: Added #include <freetype/freetype.h>.

2000-07-18  J Shane Culpepper  <pepper@eazel.com>

	*
	components/services/install/nautilus-view/nautilus-service-install-
	view.c: * components/services/login/nautilus-view/Makefile.am: *
	components/services/login/nautilus-view/nautilus-login-view.c:
	(generate_login_form), (login_button_cb), (maintenance_button_cb):
	*
	components/services/nautilus-dependant-shared/shared-service-utilit
	ies.c: (is_location): *
	components/services/nautilus-dependant-shared/shared-service-utilit
	ies.h: *
	components/services/nautilus-dependant-shared/shared-service-widget
	s.c: (create_services_header_widget),
	(set_widget_foreground_color), (show_feedback): *
	components/services/nautilus-dependant-shared/shared-service-widget
	s.h: *
	components/services/startup/nautilus-view/nautilus-service-startup-
	view.c: (generate_startup_form),
	(nautilus_service_startup_view_get_nautilus_view): *
	components/services/summary/nautilus-view/Makefile.am: *
	components/services/summary/nautilus-view/nautilus-summary-view.c:
	(generate_summary_form):

	Second half of fix for task # 1632. Most of the common functions that
	currently exist have been merged to a single location.

2000-07-18  Robey Pointer  <robey@eazel.com>

	* components/services/install/lib/Makefile.am:
	* components/services/install/lib/eazel-install-rpm-signature.c:
	(read_rpm_lead), (read_rpm_signature),
	(trilobite_check_rpm_signature):

	Fixed RPM signature code (previous code wouldn't work on some
	machines due to blatant library incompatibilities) to parse the
	RPM headers and find the signature by hand.

2000-07-18  Darin Adler  <darin@eazel.com>

	* libnautilus-extensions/nautilus-icon-container.c: (relayout):
	Fixed bug where icons would not re-layout if the state got
	set as if we were in the middle of an icon stretch.

2000-07-18  Gene Z. Ragan  <gzr@eazel.com>

	Fixed bug 1702, Icon renaming doeas not respect user colors
	
	* libnautilus-extensions/nautilus-icon-text-item.c:
	(iti_paint_text), (iti_draw):
	Text color and highlight will use user defined colors.
	The background of the renaming rect is drawn using solid
	white instead of being transparent.

2000-07-18  Robey Pointer  <robey@eazel.com>

	* components/services/install/lib/Makefile.am:
	* components/services/install/lib/eazel-install-rpm-signature.c:
	(trilobite_make_temp_file), (trilobite_get_rpm_signature),
	(trilobite_check_rpm_signature):
	* components/services/install/lib/eazel-install-rpm-signature.h:

	Add eazel-install-rpm-signature.[ch] to verify RPM signatures.

2000-07-18  Robey Pointer  <robey@eazel.com>

	* components/services/trilobite/libtrilobite/trilobite-core-utils.c:
	(trilobite_pexec):
	* components/services/trilobite/sample/command-line/Makefile.am:
	* components/services/trilobite/sample/command-line/main.c: (main):

	Fix up the command-line sample service to use trilobite_init(),
	and make pexec a little more robust.
	
2000-07-18  J Shane Culpepper  <pepper@eazel.com>

	* components/services/nautilus-dependant-shared/Makefile.am:
	Forgot to include subdirs

2000-07-18  J Shane Culpepper  <pepper@eazel.com>

	* components/services/Makefile.am:
	* components/services/install/nautilus-view/Makefile.am:
	* components/services/install/nautilus-view/nautilus-service-install-view.c:
	(generate_install_form),
	(nautilus_service_install_view_update_from_uri):
	* components/services/nautilus-dependant-shared/.cvsignore:
	* components/services/nautilus-dependant-shared/Makefile.am:
	* components/services/nautilus-dependant-shared/icons/.cvsignore:
	* components/services/nautilus-dependant-shared/icons/Makefile.am:
	* components/services/nautilus-dependant-shared/shared-service-utilities.c:
	(go_to_uri):
	* components/services/nautilus-dependant-shared/shared-service-utilities.h:
	* components/services/nautilus-dependant-shared/shared-service-widgets.c:
	(create_image_widget), (create_services_title_widget),
	(create_services_header_widget):
	* components/services/nautilus-dependant-shared/shared-service-widgets.h:
	* components/services/startup/nautilus-view/Makefile.am:
	* components/services/startup/nautilus-view/icons/Makefile.am:
	* components/services/startup/nautilus-view/nautilus-service-startup-view.c:
	(generate_startup_form), (generate_form_logo),
	(nautilus_service_startup_view_initialize),
	(nautilus_service_startup_view_load_uri):
	* configure.in:

	First part of the fix for task #1632.  Creating a common repository
	for duplicated nautilus dependant code that is used in service views.

2000-07-18  Pavel Cisler <pavel@eazel.com>

	* libnautilus-extensions/nautilus-list.c: (nautilus_list_draw),
	(nautilus_list_expose):
	Update the colors before each draw to deal with background color
	changes. I had it listen to appearance_changed signals but this
	is way more robust.

2000-07-18  Darin Adler  <darin@eazel.com>

	* libnautilus-extensions/nautilus-stock-dialogs.c:
	(nautilus_timed_wait_start): Another field needed to be
	initialized to 0, so I used g_new0.

	* src/file-manager/fm-desktop-icon-view.c:
	(fm_desktop_icon_view_create_background_context_menu_items):
	Call nautilus_application_close_desktop directly instead of
	doing it through FMDirectoryView.

	* src/file-manager/fm-directory-view.c:
	(fm_directory_view_get_uri),
	(fm_directory_view_can_accept_item): g_return_val_if_fail
	is better than g_assert for parameter checking on public
	calls.
	(fm_directory_view_get_context_menu_index): Menu paths are
	hard-coded strings, so use strcmp, not g_strcasecmp.

	* src/file-manager/fm-directory-view.h:
	* src/file-manager/fm-directory-view.c:
	Get rid of the FMDirectoryView cover for turning off
	Nautilus's desktop management. Callers can just use the
	NautilusApplication call directly.

2000-07-18  Maciej Stachowiak  <mjs@eazel.com>

	* components/tree/nautilus-tree-model.c,
	components/tree/nautilus-tree-model.h: files for tree view model.

2000-07-18  Maciej Stachowiak  <mjs@eazel.com>

	* libnautilus-extensions/nautilus-directory.c
	(nautilus_uri_is_search_uri): Always return false to try to
	disable special-casing the brute force way (so Nautilus can
	actually display search results).

2000-07-18  Pavel Cisler <pavel@eazel.com>

	* libnautilus-extensions/nautilus-list.c:
	(nautilus_list_initialize_class),
	(nautilus_gdk_set_shifted_foreground_gc_color),
	(nautilus_list_setup_style_colors), (selected_column_index):
	* libnautilus-extensions/nautilus-list.h:
	* src/file-manager/fm-list-view.c: (fm_list_get_drag_pixmap),
	(fm_list_get_sort_column_index), (create_list):
	Made it so that the actual sort column is properly higlighted
	rather than a hardcoded one. Added a signal that nautilus_list
	can use to ask which column is sorted.

	* libnautilus-extensions/nautilus-gdk-extensions.h:
	* libnautilus-extensions/nautilus-gdk-extensions.c:
	(nautilus_gdk_color_to_rgb), (nautilus_shift_color_component),
	(nautilus_rgb_shift_color):
	I added these couple checkins back, moved them to the right
	place.
	Tweaked nautilus_rgb_shift_color to not change the value of 
	the alpha component.

	* libnautilus-extensions/nautilus-gtk-extensions.c:
	* libnautilus-extensions/nautilus-gtk-extensions.h:
	(nautilus_gtk_marshal_INT__NONE):
	More marshalling cruft.

2000-07-18  Ramiro Estrugo  <ramiro@eazel.com>

	* components/tree/main.c: (main):
	Dont initialize gnome twice to avoid assertion spewage.
	
2000-07-18  Ramiro Estrugo  <ramiro@eazel.com>

	* components/services/time/command-line/.cvsignore:
	* components/services/time/nautilus-view/.cvsignore:
	* components/services/trilobite/sample/command-line/.cvsignore:
	Ignore generated spewage.
	
2000-07-18  Ramiro Estrugo  <ramiro@eazel.com>

	* libnautilus-extensions/nautilus-radio-button-group.c:
	(button_toggled), (nautilus_radio_button_group_insert),
	(nautilus_radio_button_group_get_active_index),
	(nautilus_radio_button_group_set_entry_pixbuf),
	(nautilus_radio_button_group_set_entry_description_text):
	* libnautilus-extensions/nautilus-radio-button-group.h:
	Add support for nicely aligned description labels.

	* src/nautilus-first-time-druid.c: (create_named_pixbuf),
	(set_up_user_level_page), (nautilus_first_time_druid_show):
	Add icons for each of the user levels.
	
	Use radio group description labels for the description blurb so
	that they align nicely.

	* test/test-nautilus-widgets.c: (test_radio_group):
	Update for description label support.
	
2000-07-18  Andy Hertzfeld <andy@eazel.com>

	* icons/eazel/i-directory.png
	* icons/eazel/i-directory-accept.png
	* icons/eazel/i-directory-12.png
	* icons/eazel/i-directory-accept-12.png
	* icons/eazel/i-directory-24.png
	* icons/eazel/i-directory-accept-24.png
	* icons/eazel/i-directory-36.png
	* icons/eazel/i-directory-accept-36.png
	* icons/eazel/i-directory-72.png
	* icons/eazel/i-directory-accept-72.png
	* icons/eazel/i-directory-96.png
	* icons/eazel/i-directory-accept-96.png
	updated all of the non-anti-aliased folder icons in the eazel theme
	with new ones from Susan that better match the anti-aliased ones.
	
2000-07-18  Ramiro Estrugo  <ramiro@eazel.com>

	* libnautilus-extensions/nautilus-image.c:
	(nautilus_image_initialize_class), (nautilus_image_realize),
	(nautilus_image_unrealize), (ensure_buffer_size):
	* libnautilus-extensions/nautilus-image.h:
	Subclass from GtkMisc instead of GtkWidget.
	
2000-07-18  Ramiro Estrugo  <ramiro@eazel.com>

	* libnautilus-extensions/nautilus-radio-button-group.c:
	(nautilus_radio_button_group_initialize_class),
	(nautilus_radio_button_group_initialize),
	(nautilus_radio_button_group_destroy),
	(radio_button_group_free_button_group),
	(nautilus_radio_button_group_insert),
	(nautilus_radio_button_group_get_active_index),
	(nautilus_radio_button_group_set_active_index),
	(nautilus_radio_button_group_set_pixbuf):
	* libnautilus-extensions/nautilus-radio-button-group.h:
	Add support for displaying an option icon with each radio button
	pixbuf.  Use NautilusImage for this.

	* test/test-nautilus-widgets.c: (create_pixbuf),
	(test_radio_group):
	Update test to include icon support.
	
2000-07-17  Pavel Cisler  <pavel@eazel.com>

	* libnautilus-extensions/nautilus-list.c:
	(nautilus_list_setup_style_colors), (nautilus_list_clear_from_row):
	Fix a number of problems in nautilus_list_clear_from_row.
	Tweak the divider line color a bit.

	* src/file-manager/fm-list-view.c:
	Fix some whitespace.
	
2000-07-17  Gene Z. Ragan  <gzr@eazel.com>

	* src/nautilus-desktop-window.c: (realize):
	Fixed bug 1254, Determine whether unfocussable desktop
	cause problems.

	This bug mainly had to do with renaming the icon.  I played with
	the feature to try and find any other problems.  None arose,
	but we should test this feature when we have QA.

	Thanks ramiro for the tip.

2000-07-17  Andy Hertzfeld  <andy@eazel.com>

	fixed bug 1506: we need a way to specify "none" for icon captions
	
	* src/file-manager/fm-icon-text-window.c:
	(attribute_names_string_is_good),
	(changed_attributes_option_menu_callback),
	(ensure_unique_attributes):
	added the "none" option and changed some tests to allow
	"none" to be selected for all 3 captions
	* src/file-manager/fm-icon-view.c: (get_icon_text_callback):
	handle the "none" attribute properly
	
	* libnautilus-extensions/nautilus-icon-factory.c:
	(nautilus_icon_factory_get_icon_name_for_regular_file):
	at Darin's suggestion, I made the code to force the generic
	document for text files only trigger for "text/plain"; I also
	commented it better.
	
2000-07-17  Gene Z. Ragan  <gzr@eazel.com>

	Fixed bug 1021, Should be able to hide toolbar, sidebar
	and locationbar.
	
	* libnautilus-extensions/nautilus-global-preferences.c:
	(global_preferences_create_dialog),
	(global_preferences_register_for_ui):
	Added new items for showing/hiding window views.
	
	* src/nautilus-window-menus.c: (file_menu_new_window_callback):
	* src/nautilus-window.c: (nautilus_window_initialize),
	(nautilus_window_constructed), (nautilus_window_destroy),
	(sidebar_panels_changed_callback),
	(toolbar_visibility_changed_callback),
	(locationbar_visibility_changed_callback),
	(statusbar_visibility_changed_callback),
	(sidebar_visibility_changed_callback):
	New callbacks to dynamically respong to user prefs changes when
	showing/hiding window views.

	* libnautilus-extensions/nautilus-icon-container.c:
	(button_press_event):
	Added a simple double-click test to fix annoying double open bug
	when double clicking an icon in single click mode.
	
2000-07-17  Mathieu Lacage <mathieu@eazel.com>

	* configure.in: add a check for medusa. It is 
	not perfect, it still needs some work but it is better
	than nothing.
	* components/*/Makefile.am: add BONOBO_CFLAGS where necessary.
	* libnautilus-extensions/Makefile.am: add MEDUSA_CFLAGS and
	MEDUSA_LIBS.

2000-07-17  Andy Hertzfeld  <andy@eazel.com>

	* libnautilus-extensions/nautilus-icon-factory.c:
	(nautilus_icon_factory_get_icon_name_for_regular_file):
	added code to make sure that we use the generic document icon for
	text files so that the text-in-icons feature works, even if the
	more specific gnome ones are installed.
	
	* icons/eazel/i-regular.png:
	* icons/eazel/i-regular-12.png:
	* icons/eazel/i-regular-24.png:
	* icons/eazel/i-regular-36.png:
	* icons/eazel/i-regular-72.png:
	* icons/eazel/i-regular-96.png:
	new icons from Susan for the non-anti-aliased case that are
	consistent with the anti-aliased one.
		
2000-07-17  Pavel Cisler <pavel@eazel.com>

	* libnautilus-extensions/nautilus-list.c:
	(nautilus_list_initialize_class), (selected_column_index),
	(get_column_background), (get_cell_style),
	(nautilus_list_clear_from_row), (draw_rows), (nautilus_list_draw),
	(nautilus_list_expose):
	Rework more of NautilusList drawing.
	Added nautilus_list_draw and nautilus_list_expose.
	Cleaned up draw_rows and made it so that only the NautilusList
	version gets called.
	Improved drawing performance of long lists.
	Added code to draw the list area unpopulated with rows properly
	(still needs some work).

2000-07-15  Ali Abdin  <aliabdin@aucegypt.edu>

	* components/help/help-contents.oafinfo:
	* components/help/help-methods.conf:
	* components/help/help-search.oafinfo:
	Add 'ghelp' as a URI for backwards-compatibility (many doc files
	and applications currently use 'ghelp:' prefix to bring up help
	files we should handle it just like 'help:').

	We might want to emit a 'warning' message saying it's deprecated.

2000-07-14  Gene Z. Ragan  <gzr@eazel.com>

	* components/help/help-method.c: (transform_absolute_file):
	* libnautilus-extensions/nautilus-stock-dialogs.c:
	(nautilus_timed_wait_start):
	Initialize dialog variable in TimeWait structure to NULL.  
	Other code checks to see if it is NULL before performing
	operations on the dialog.  Carbamide exposed this bug when
	trying to rename an icon item in place.
	
	* src/nautilus-window-manage-views.c: (open_location):
	Added a check for a NULL location string.
	
2000-07-14  Pavel Cisler  <pavel@eazel.com>

	* libnautilus-extensions/nautilus-list.c: (nautilus_list_destroy),
	(nautilus_list_setup_style_colors), (nautilus_list_realize),
	(get_cell_style), (nautilus_list_drag_data_received):
	More work on list view look.
	Make the colors be derived from the current background color.
	Make color drops work.
	Draw the selection better.

2000-07-14  Robey Pointer  <robey@eazel.com>

	* components/services/trilobite/libtrilobite/trilobite-root-client-public.h:
	* components/services/trilobite/libtrilobite/trilobite-root-client.c:
	(trilobite_root_client_unref), (trilobite_root_client_finalize),
	(trilobite_root_client_class_initialize),
	(trilobite_root_client_initialize):
	* components/services/trilobite/libtrilobite/trilobite-service-passwordquery.c:
	(trilobite_passwordquery_get_password):
	* components/services/trilobite/sample/command-line/main.c: (main):
	* components/services/trilobite/sample/service/sample-service-impl.c:
	(impl_Trilobite_Eazel_Sample_list_it):

	Fix up TrilobiteRootClient implementation (destroy -> unref) to
	behave according to standards, and to more closely match gob
	output.  Fix a few small bugs.
	
2000-07-14  Ramiro Estrugo  <ramiro@eazel.com>

	* Makefile.am:
	* tools/.cvsignore:
	* tools/Makefile.am:
	* tools/leak-checker/.cvsignore:
	* tools/leak-checker/Makefile.am:
	* tools/leak-checker/nautilus-leak-checker-stubs.h:
	* tools/leak-checker/nautilus-leak-checker.c:
	(nautilus_leak_allocation_record_init),
	(nautilus_leak_allocation_record_copy),
	(nautilus_leak_allocation_record_finalize),
	(nautilus_leak_allocation_record_free),
	(nautilus_leak_stack_crawl_compare), (nautilus_leak_initialize),
	(get_stack_trace), (detect_reentry), (nautilus_leak_record_malloc),
	(nautilus_leak_record_realloc), (nautilus_leak_record_free),
	(nautilus_leak_initialize_if_needed),
	(allocate_temporary_fallback_memory), (__libc_malloc),
	(__libc_memalign), (__libc_calloc), (__libc_realloc),
	(__libc_free), (print_leaks_at_exit), (__libc_start_main),
	(print_one_leak), (nautilus_leak_print_leaks),
	(nautilus_leak_checker_init), (malloc), (realloc), (memalign),
	(calloc), (free), (allocate_lots), (leak_mem2), (leak_mem), (main):
	* tools/leak-checker/nautilus-leak-checker.h:
	* tools/leak-checker/nautilus-leak-hash-table.c:
	(nautilus_leak_hash_element_finalize),
	(nautilus_leak_hash_element_hash),
	(nautilus_leak_hash_element_match),
	(nautilus_leak_hash_element_vector_inititalize),
	(nautilus_leak_hash_element_vector_finalize),
	(nautilus_leak_hash_element_vector_at),
	(nautilus_leak_hash_element_vector_add),
	(nautilus_leak_hash_element_vector_remove),
	(nautilus_leak_hash_table_optimal_size),
	(nautilus_leak_hash_table_initialize),
	(nautilus_leak_hash_table_finalize),
	(nautilus_leak_hash_table_new), (nautilus_leak_hash_table_free),
	(nautilus_leak_hash_table_hash), (nautilus_leak_hash_table_find),
	(nautilus_leak_hash_table_add),
	(nautilus_leak_hash_table_remove_element),
	(nautilus_leak_hash_table_remove),
	(nautilus_leak_table_new_entry_at),
	(nautilus_leak_table_add_entry), (nautilus_leak_table_new),
	(nautilus_leak_table_free), (sort_by_count),
	(nautilus_leak_table_sort_by_count), (sort_by_size),
	(nautilus_leak_table_sort_by_size),
	(nautilus_leak_table_each_item):
	* tools/leak-checker/nautilus-leak-hash-table.h:
	* tools/leak-checker/nautilus-leak-symbol-lookup.c:
	(nautilus_leak_find_symbol_in_map),
	(nautilus_leak_symbol_map_get_offsets),
	(nautilus_leak_symbol_map_load),
	(nautilus_leak_symbol_map_load_if_needed),
	(nautilus_leak_print_symbol_cleanup),
	(nautilus_leak_find_symbol_address),
	(nautilus_leak_print_symbol_address):
	* tools/leak-checker/nautilus-leak-symbol-lookup.h:

	Turn my dumbass brain on this time before committing.  
	Add the moved leak checker code for real.
	
2000-07-14  Darin Adler  <darin@eazel.com>

	* .cvsignore:
	* components/services/time/command-line/.cvsignore:
	* components/services/time/nautilus-view/.cvsignore:
	* components/services/trilobite/libtrilobite/.cvsignore:
	* components/services/trilobite/sample/lib/.cvsignore:
	Some generated file names changed. So these have to change to.

2000-07-14  Michael Engber  <engber@eazel.com>

	* src/file-manager/fm-desktop-icon-view.c:
	(fm_desktop_icon_view_initialize_class),
	(fm_desktop_icon_view_create_background_context_menu_items),
	(fm_desktop_icon_view_get_directory_sort_by),
	(fm_desktop_icon_view_set_directory_sort_by),
	(fm_desktop_icon_view_get_directory_sort_reversed),
	(fm_desktop_icon_view_set_directory_sort_reversed),
	(fm_desktop_icon_view_get_directory_auto_layout),
	(fm_desktop_icon_view_set_directory_auto_layout):
	* src/file-manager/fm-desktop-icon-view.h:
	* src/file-manager/fm-icon-view.c:
	(fm_icon_view_get_directory_sort_by),
	(fm_icon_view_real_get_directory_sort_by),
	(fm_icon_view_set_directory_sort_by),
	(fm_icon_view_real_set_directory_sort_by),
	(fm_icon_view_get_directory_sort_reversed),
	(fm_icon_view_real_get_directory_sort_reversed),
	(fm_icon_view_set_directory_sort_reversed),
	(fm_icon_view_real_set_directory_sort_reversed),
	(fm_icon_view_get_directory_auto_layout),
	(fm_icon_view_real_get_directory_auto_layout),
	(fm_icon_view_set_directory_auto_layout),
	(fm_icon_view_real_set_directory_auto_layout),
	(set_sort_criterion), (set_sort_reversed),
	(fm_icon_view_begin_loading), (layout_changed_callback),
	(fm_icon_view_initialize_class):
	* src/file-manager/fm-icon-view.h:
	Desktop no longer uses auto layout (bug 1059). Accomplished
	by adding get/set methods to fm_icon_view which
	fm_desktop_icon_view overrides.

2000-07-14  Ramiro Estrugo  <ramiro@eazel.com>

	* configure.in:
	* test/Makefile.am:
	* test/nautilus-leak-checker-stubs.h:
	* test/nautilus-leak-checker.c:
	* test/nautilus-leak-checker.h:
	* test/nautilus-leak-hash-table.c:
	* test/nautilus-leak-hash-table.h:
	* test/nautilus-leak-symbol-lookup.c:
	* test/nautilus-leak-symbol-lookup.h:
	* tools/leak-checker:

	Move the leakchecker library to its own place.
	
2000-07-14  Ramiro Estrugo  <ramiro@eazel.com>

	* components/services/install/nautilus-view/nautilus-service-install-view.c:
	(generate_install_form), (create_image_widget),
	(create_title_widget), (create_middle_title_widget):
	* components/services/login/nautilus-view/nautilus-login-view.c:
	(generate_login_form), (create_image_widget),
	(create_title_widget):
	* components/services/startup/nautilus-view/nautilus-service-startup-view.c:
	(generate_startup_form), (create_image_widget),
	(generate_form_logo):
	* libnautilus-extensions/Makefile.am:
	* libnautilus-extensions/nautilus-graphic.c:
	* libnautilus-extensions/nautilus-graphic.h:
	* libnautilus-extensions/nautilus-image.c:
	(nautilus_image_initialize_class), (nautilus_image_initialize),
	(nautilus_image_destroy), (nautilus_image_set_arg),
	(nautilus_image_get_arg), (nautilus_image_realize),
	(nautilus_image_unrealize), (nautilus_image_draw),
	(nautilus_image_size_allocate), (nautilus_image_size_request),
	(nautilus_image_map), (nautilus_image_unmap),
	(nautilus_image_expose), (ensure_buffer_size),
	(create_child_window), (nautilus_gdk_create_copy_area_gc),
	(nautilus_gdk_pixbuf_render_to_drawable),
	(nautilus_gdk_pixbuf_render_to_pixbuf),
	(nautilus_gdk_pixbuf_render_to_pixbuf_alpha),
	(gdk_string_dimensions), (nautilus_gdk_pixbuf_set_to_color),
	(nautilus_gdk_pixbuf_tile), (nautilus_gdk_pixbuf_tile_alpha),
	(nautilus_image_new), (nautilus_image_set_background_pixbuf),
	(nautilus_image_get_background_pixbuf),
	(nautilus_image_set_background_type),
	(nautilus_image_get_background_type),
	(nautilus_image_set_background_color),
	(nautilus_image_get_background_color),
	(nautilus_image_set_placement_type),
	(nautilus_image_get_placement_type), (nautilus_image_set_pixbuf),
	(nautilus_image_get_pixbuf), (nautilus_image_set_overall_alpha),
	(nautilus_image_set_label_text), (nautilus_image_get_label_text),
	(nautilus_image_set_label_font), (nautilus_image_get_label_font),
	(nautilus_image_set_left_offset),
	(nautilus_image_set_right_offset), (nautilus_image_set_top_offset),
	(nautilus_image_set_bottom_offset),
	(nautilus_image_set_extra_width),
	(nautilus_image_set_extra_height):
	* libnautilus-extensions/nautilus-image.h:
	* test/.cvsignore:
	* test/Makefile.am:
	* test/test-nautilus-graphic.c:
	* test/test-nautilus-image.c: (create_background), (create_pixbuf),
	(create_image), (alpha_scale_value_changed),
	(red_color_value_changed), (green_color_value_changed),
	(blue_color_value_changed), (toggle_background_type_callback),
	(create_color_scale), (main):

	Rename NautilusGraphic to NautilusImage everywhere.
	
2000-07-14  Ramiro Estrugo  <ramiro@eazel.com>

	* src/nautilus-main.c: (main):
	Commit the damn file for real this time.

2000-07-14  Ramiro Estrugo  <ramiro@eazel.com>

	* src/nautilus-main.c: (main):
	Yank the leak checker intitialization code.  Its not needed no
	more cause the leak checker automatically does it when its
	pre loaded.
	
	* test/nautilus-leak-checker.c: (print_leaks_at_exit),
	(__libc_start_main), (nautilus_leak_print_leaks):
	Call atexit() with the leak dumping function.
	
2000-07-14  Pavel Cisler <pavel@eazel.com>

	* libnautilus-extensions/nautilus-list.c: 
	(nautilus_list_destroy), (nautilus_list_button_release), 
	(nautilus_list_realize), (get_cell_style),
	(draw_cell), (draw_row):
	Work in progress on new list view look. Allocate GdkGCs needed to
	draw the individual cells in different colors. Rework get_cell_style
	to alternate gcs for different rows/columns properly.
	Few things are still hardcoded and will get fixed soon.

	* libnautilus-extensions/nautilus-list.c: 
	(nautilus_gdk_gc_copy)
	Cover call for creating a new gc and copying state from an existing one.

	* libnautilus-extensions/nautilus-list.c: 
	(nautilus_gdk_color_to_gdk_rgb),
	(nautilus_shift_color_component), (nautilus_gdk_rgb_shift_color),
	(nautilus_gdk_set_shifted_foreground_gc_color),
	Convenience calls for lightening/darkening a color. Flavor that
	sets a lightened/darkened color as a foreground color for a GC.
	I'll move most of these to nautilus-gdk-extensions.c soon.
	
	* libnautilus-extensions/nautilus-gdk-pixbuf-extensions.c:
	(nautilus_gdk_pixbuf_average_value):
	Fix white space.

2000-07-13  Robey Pointer  <robey@eazel.com>

	* components/services/trilobite/libtrilobite/Makefile.am:
	*
	components/services/trilobite/libtrilobite/trilobite-core-utils.c:
	(trilobite_pexec), (trilobite_add_log), (trilobite_close_log),
	(trilobite_init):
	*
	components/services/trilobite/libtrilobite/trilobite-core-utils.h:
	* components/services/trilobite/sample/command-line/Makefile.am:
	* components/services/trilobite/sample/lib/Makefile.am:
	* components/services/trilobite/sample/nautilus-view/Makefile.am:
	* components/services/trilobite/sample/service/Makefile.am:
	* components/services/trilobite/sample/service/main.c: (main):

	Add trilobite_init() to cover up initialization madness.  Clean up
	the G_LOG_DOMAINS and make them roughly uniform.  Use a
	service-specified logfile for g_{message|warning|error} dumps.

2000-07-13  Eskil Heyn Olsen  <eskil@eazel.com>

	* components/rpmview/Makefile.am:
	* components/rpmview/nautilus-rpm-view.c:
	(nautilus_rpm_view_initialize),
	(nautilus_rpm_view_update_from_uri):
	Fixed so it should compile without enable-eazel-services (close
	bug 1654)
	
	*
	components/services/install/command-line/eazel-alt-install-corba.c:
	(eazel_preflight_check_signal), (eazel_install_progress_signal),
	(done), (main):
	Uses the new preflight signal.
	
	* components/services/install/idl/trilobite-eazel-install.idl:
	* components/services/install/lib/eazel-install-corba-callback.c:
	(impl_preflight_check), (eazel_install_callback_get_epv),
	(eazel_install_callback_create_corba_object),
	(eazel_install_callback_destroy),
	(eazel_install_callback_class_initialize):
	* components/services/install/lib/eazel-install-corba-callback.h:
	* components/services/install/lib/eazel-install-corba.c:
	(impl_Eazel_Install_install), (impl_Eazel_Install_uninstall),
	(impl_Eazel_Install_install_packages),
	(impl_Eazel_Install_uninstall_packages),
	(eazel_install_create_corba_object):
	* components/services/install/lib/eazel-install-object.c:
	(eazel_install_destroy), (eazel_install_class_initialize),
	(eazel_install_emit_download_progress_default),
	(eazel_install_emit_preflight_check),
	(eazel_install_emit_preflight_check_default):
	* components/services/install/lib/eazel-install-public.h:
	* components/services/install/lib/eazel-install-rpm-glue.c:
	(do_rpm_install), (eazel_install_fetch_rpm_dependencies):
	* components/services/install/lib/eazel-install-types.h:
	Fixed bug 1615, now emits the preflight_check signal, before
	running rpm and after completing downloads.
	Also corrected some bad stuff in the corba usage reg. duplicating
	the callback objects and releasing them.
	The RPM output parsing now seems to work fine, and signals are
	again emitted as expected.
	Added FIXME:s for bug 1586, so I can split it up.
	
	* components/services/install/lib/eazel-install-corba-types.c:
	(corba_packagedatastruct_from_packagedata):
	Fixed dumb bug reg. converting PackageData to corba.
		
	* components/services/install/lib/eazel-install-types.c:
	(packagedata_fill_from_rpm_header):
	Correct read of the bytesize.

	* components/services/time/command-line/main.c: (main):
	Fixed dumb bug that prevented a maxdiff=0.
	* components/services/time/service/main.c:
	(trilobite_service_factory_destroy):
	* components/services/time/service/trilobite-eazel-time-service.c:
	(impl_Trilobite_Eazel_Time_Service_check_time),
	(impl_Trilobite_Eazel_Time_Service_update_time):
	Uses the TrilobiteRootHelper object now.
	*
	components/services/trilobite/libtrilobite/trilobite-service-passwo
	rdquery.c: (trilobite_passwordquery_get_password):
	Added a debug output, will remove.

	* components/services/time/command-line/Makefile.am:
	* components/services/time/nautilus-view/Makefile.am:
	* components/services/trilobite/libtrilobite/Makefile.am:
	* components/services/trilobite/sample/lib/Makefile.am:
	Added the idl_stamp to CLEAN_FILES.
	
2000-07-13  Andy Hertzfeld  <andy@eazel.com>

	* icons/eazel/eazel.xml:
	changed the background in the eazel theme per Susan's request
	* data/backgrounds/Makefile.am:
	* data/backgrounds/blue_gray_rough.png:
	* data/backgrounds/camouflage.png:
	* data/backgrounds/fleur_de_lis.png:
	* data/backgrounds/pale_blue_string.png:
	* data/backgrounds/pale_blue_wavy.png:
	* data/backgrounds/satin.png:
	* data/backgrounds/wavy_white.png:
	added new backgrounds from Susan
	
2000-07-13  Darin Adler  <darin@eazel.com>

	* HACKING: Updated gnome-libs branch.
	* libnautilus-extensions/nautilus-stock-dialogs.c:
	(timed_wait_hash), (timed_wait_hash_equal), (add_label_to_dialog),
	(timed_wait_free), (timed_wait_cancel_callback),
	(timed_wait_callback), (nautilus_timed_wait_start),
	(nautilus_timed_wait_stop), (nautilus_simple_dialog):
	A cut at a real timed wait implementation; not tested yet beyond
	making sure it builds and doesn't die in any obvious way.

2000-07-13  Andy Hertzfeld  <andy@eazel.com>

	At Darin's not-so-gentle urging, I removed all knowledge of the
	anti-aliased preference from the icon factory, and passed it in
	via parameters instead.
	
	* libnautilus-extensions/nautilus-bookmark.c:
	(nautilus_bookmark_update_icon),
	(nautilus_bookmark_set_icon_to_default):
	changed icon factory calls to pass in anti-aliased preference
	* libnautilus-extensions/nautilus-icon-container.c,h:
	(nautilus_icon_container_get_anti_aliased_mode):
	added a get_anti_aliased_mode accessor
	* libnautilus-extensions/nautilus-icon-dnd.c:
	(nautilus_icon_dnd_begin_drag):
	changed icon factory calls to pass in anti-aliased preference	
	* libnautilus-extensions/nautilus-icon-factory.c,h:
	(nautilus_icon_factory_initialize),
	(nautilus_icon_factory_destroy), (get_themed_icon_file_path),
	(get_icon_file_path),
	(nautilus_scalable_icon_new_from_text_pieces),
	(nautilus_icon_factory_get_icon_for_file),
	(nautilus_icon_factory_get_emblem_icon_by_name),
	(nautilus_icon_factory_get_emblem_icons_for_file),
	(nautilus_icon_factory_get_thumbnail_uri), (load_specific_image),
	(nautilus_icon_factory_get_pixbuf_for_file),
	(nautilus_icon_factory_get_pixmap_and_mask_for_file),
	(load_image_with_embedded_text):
	added the anti-aliased parameter to the appropriate calls, and
	revamped internal calls to pass it around as necessary
	* src/file-manager/fm-icon-view.c: (get_icon_images_callback):
	changed icon factory calls to pass in anti-aliased preference
	* src/file-manager/fm-list-view.c:
	(fm_list_view_get_emblem_pixbufs_for_file):
	changed icon factory calls to pass in anti-aliased preference
	* src/file-manager/fm-properties-window.c:
	(get_pixmap_and_mask_for_properties_window),
	(create_image_widget_for_emblem):
	changed icon factory calls to pass in anti-aliased preference
	* src/nautilus-bookmark-list.c: (make_bookmark_from_node):
	changed icon factory calls to pass in anti-aliased preference
	* src/nautilus-sidebar-title.c: (update_emblems):
	changed icon factory calls to pass in anti-aliased preference

2000-07-13  Darin Adler  <darin@eazel.com>

	* components/services/startup/lib/dummy.c: Added an empty file to
	fix the build (required since Elliot added it to the Makefile).

	* HACKING: Some tweaks.
	* TODO: Removed some done items.
	
	* src/Makefile.am:
	* src/file-manager/Makefile.am:
	Changed libntl-file-manager.la to libnautilus-file-manager.la.

2000-07-13 Elliot Lee <sopwith@redhat.com>
	
	* TODO: Fix typo
	* components/rpmview/Makefile.am,
	components/services/install/command-line/Makefile.am,
	components/services/install/lib/Makefile.am,
	components/services/install/nautilus-view/Makefile.am,
	components/services/install/server/Makefile.am,
	components/services/startup/lib/Makefile.am,
	components/services/time/command-line/Makefile.am,
	components/services/time/service/Makefile.am,
	components/services/trilobite/helper/Makefile.am,
	components/services/trilobite/sample/command-line/Makefile.am,
	components/services/trilobite/sample/service/Makefile.am,
	components/services/vault/command-line/Makefile.am,
	cut-n-paste-code/widgets/e-paned/Makefile.am,
	cut-n-paste-code/widgets/nautilus-druid/Makefile.am,
	libnautilus-extensions/Makefile.am,
	src/Makefile.am,
	test/Makefile.am: Fix srcdir != builddir:

	* components/services/trilobite/helper/eazel-helper.c,
	components/services/vault/command-line/vault-operations.c,
	libnautilus-extensions/nautilus-graphic.c,
	libnautilus-extensions/nautilus-icon-container.c,
	libnautilus-extensions/nautilus-list.c: Include string.h
	for strlen prototype.

2000-07-13  Andy Hertzfeld  <andy@eazel.com>

	* libnautilus-extensions/nautilus-icon-factory.c:
	(nautilus_icon_factory_initialize),
	(nautilus_icon_factory_destroy),
	(anti_aliased_mode_changed_callback), (get_themed_icon_file_path),
	(nautilus_scalable_icon_new_from_text_pieces),
	(nautilus_scalable_icon_hash), (nautilus_scalable_icon_equal):
	made the icon factory support optimized icons for anti-aliased mode.
	Added a field to nautilus_scalable_icon and included it in the
	cache key calculation; arranged for notification when aa-mode
	changes so we can emit the "icons_changed" signal.
	
	* icons/eazel/Makefile.am:
	* icons/eazel/i-regular-12-aa.png:
	* icons/eazel/i-regular-24-aa.png:
	* icons/eazel/i-regular-36-aa.png:
	* icons/eazel/i-regular-72-aa.png:
	* icons/eazel/i-regular-96-aa.png:
	* icons/eazel/i-regular-aa.png:
	* icons/eazel/i-directory-12-aa.png:
	* icons/eazel/i-directory-24-aa.png:
	* icons/eazel/i-directory-36-aa.png:
	* icons/eazel/i-directory-72-aa.png:
	* icons/eazel/i-directory-96-aa.png:
	* icons/eazel/i-directory-aa.png:
	* icons/eazel/i-directory-accept-12-aa.png:
	* icons/eazel/i-directory-accept-24-aa.png:
	* icons/eazel/i-directory-accept-36-aa.png:
	* icons/eazel/i-directory-accept-72-aa.png:
	* icons/eazel/i-directory-accept-96-aa.png:
	* icons/eazel/i-directory-accept-aa.png:
	added a bunch of new anti-aliased icons from Susan to the eazel theme
	 
2000-07-13  Robey Pointer  <robey@eazel.com>

	* components/services/trilobite/libtrilobite/trilobite-root-client.c:
	(trilobite_root_client_destroy):
	* components/services/trilobite/sample/command-line/main.c: (main):
	* components/services/trilobite/sample/service/sample-service-impl.c:
	(impl_Trilobite_Eazel_Sample_list_it):

	Fix a few places where corba objects weren't released, so that the
	sample service test demonstrates freeing the root client *and* the
	root helper.
	
2000-07-13  Robin * Slomkowski  <rslomkow@eazel.com>

	* nautilus.spec.in: added arlo theme

2000-07-13  Darin Adler  <darin@eazel.com>

	* components/sample/main.c: (main): There was a second call
	to bonobo_shutdown which I forgot to remove.

2000-07-13  Darin Adler  <darin@eazel.com>

	* libnautilus-extensions/nautilus-file.h: Fix a FIXME.
	* libnautilus-extensions/nautilus-file.c: Add a FIXME.
	
	* src/file-manager/fm-error-reporting.c: (fm_rename_file):
	Start the timed wait first in case the call succeeds or fails
	immediately.
	
	* src/file-manager/fm-properties-window.c:
	(group_change_callback), (cancel_group_change_callback),
	(activate_group_callback), (owner_change_callback),
	(cancel_owner_change_callback), (activate_owner_callback):
	Added a timed wait for each of these operations.

2000-07-13  Darin Adler  <darin@eazel.com>

	* libnautilus-extensions/nautilus-file.c:
	(set_permissions_callback), (nautilus_file_set_permissions),
	(set_owner_and_group_callback), (set_owner_and_group),
	(nautilus_file_set_owner), (nautilus_file_set_group):
	Made set_permissions, set_owner, and set_group all be async.

2000-07-13  Michael Engber  <engber@eazel.com>

	* libnautilus/nautilus-view-component.idl:
	* libnautilus/nautilus-view.c:
	* libnautilus/nautilus-view.h:
	* src/file-manager/fm-desktop-icon-view.c:
	(fm_desktop_icon_view_close_desktop_menu_item_callback),
	(fm_desktop_icon_view_create_background_context_menu_items):
	* src/file-manager/fm-directory-view.c:
	(fm_directory_view_close_desktop):
	* src/file-manager/fm-directory-view.h:
	* src/nautilus-application.c: (nautilus_application_windows),
	(nautilus_application_startup),
	(nautilus_application_destroy_desktop_window),
	(nautilus_application_create_desktop_window),
	(nautilus_application_open_desktop),
	(nautilus_application_close_desktop),
	(nautilus_application_destroy_window),
	(nautilus_application_create_window):
	* src/nautilus-application.h:
	* src/nautilus-desktop-window.c: (nautilus_desktop_window_new):
	* src/nautilus-shell.c: (corba_manage_desktop):
	* src/nautilus-view-frame-corba.c:
	(impl_Nautilus_ViewFrame_set_title):
	* src/nautilus-view-frame-private.h:
	* src/nautilus-view-frame.c:
	(nautilus_view_frame_initialize_class),
	(nautilus_view_frame_set_title):
	* src/nautilus-view-frame.h:
	* src/nautilus-window-manage-views.c: (open_location):
	* src/nautilus-window.c: (nautilus_window_connect_view):
	Changed desktop menu to offer close desktop instead of
	quit nautilus. Also, changed the menu item's action to
	use a direct fn call instead of CORBA.

2000-07-13  Gene Z. Ragan  <gzr@eazel.com>

	* components/history/nautilus-history-view.c: (install_icon),
	(history_view_update_icons), (history_load_location), (make_obj):
	Added code to check for position of current page in list.
	
	* src/nautilus-window.c:
	* src/nautilus-window.h:
	(nautilus_window_get_base_page_index):
	New function to return the index of the base page in the
	history list.
	
	(nautilus_window_get_history_list_callback),
	Set position field of returned list info using new function above.
	
2000-07-13  Darin Adler  <darin@eazel.com>

	My apologies to all who read the cvs commits list that have
	suffered from my "spam" in the past (due to my use of emacs cvs
	mode to commit).  I will never use emacs cvs mode again so you
	will see each of my commits only once!

	* src/file-manager/fm-error-reporting.c:
	(rename_callback_data_free), (rename_callback),
	(cancel_rename_callback), (fm_rename_file):
	Finished the 1/2 done code for renaming.

	* src/nautilus-main.c: (main): Removed the call to bonobo_shutdown
	since Michael decided he won't do it this way any more.
	
	* src/nautilus-window.c: (nautilus_window_destroy): Added code
	to unref the UI handler to fix a leak.

	* components/hardware/nautilus-hardware-view.h:
	* components/loser/content/nautilus-content-loser.h:
	* components/loser/sidebar/nautilus-sidebar-loser.h:
	* components/mozilla/nautilus-mozilla-content-view.h:
	* components/music/nautilus-music-view.h:
	* components/rpmview/nautilus-rpm-view.h:
	* components/services/install/lib/eazel-install-corba-callback.h:
	* components/services/install/lib/eazel-install-public.h:
	* components/services/install/nautilus-view/nautilus-service-install-view.h:
	* components/services/inventory/nautilus-view/nautilus-inventory-view.h:
	* components/services/login/nautilus-view/nautilus-login-view.h:
	* components/services/startup/nautilus-view/nautilus-service-startup-view.h:
	* components/services/summary/nautilus-view/nautilus-summary-view.h:
	* components/services/time/nautilus-view/trilobite-eazel-time-view.h:
	* components/services/time/service/trilobite-eazel-time-service-public.h:
	* components/services/trilobite/libtrilobite/trilobite-root-helper.h:
	* components/services/trilobite/libtrilobite/trilobite-service-passwordquery-public.h:
	* components/services/trilobite/libtrilobite/trilobite-service-public.h:
	* components/services/trilobite/sample/lib/sample-service-public.h:
	* components/tree/nautilus-tree-view.h:
	* libnautilus/nautilus-view.h:
	* libnautilus/nautilus-zoomable.h:
	* src/file-manager/fm-desktop-icon-view.h:
	* src/file-manager/fm-directory-view.h:
	* src/file-manager/fm-icon-view.h:
	* src/file-manager/fm-list-view.h:
	* src/nautilus-application.h:
	* src/nautilus-shell.h:
	* src/nautilus-view-frame.h:
	Fixed a copied and pasted typo.
	
2000-07-13  Pavel Cisler <pavel@eazel.com>

	* src/file-manager/dfos-xfer.c: (handle_xfer_ok):
	Part 2 of fix for 1549 - Empty trash doesn't update progress 
	properly.

2000-07-13  J Shane Culpepper  <pepper@eazel.com>

	* components/services/install/nautilus-view/nautilus-service-install-view.c:
	(generate_install_form):
	Adding layout fixes to the install widget to match changes in the
	baranch.

2000-07-12  Andy Hertzfeld  <andy@eazel.com>

	* src/nautilus-property-browser.c: (make_drag_image),
	(make_background_chit), (make_properties_from_directory_path):
	removed the white halo around the background chit for dragging
	
	* src/nautilus-first-time-druid.c: (set_up_service_signup_page),
	(nautilus_first_time_druid_show):
	tweaked the text a bit

2000-07-12  Pavel Cisler  <pavel@eazel.com>

	* libnautilus-extensions/nautilus-icon-dnd.c:
	(auto_scroll_timeout_callback):
	Fix a problem where parts of the exposed area weren't being
	updated correctly during a fast auto-scroll.
	
	* libnautilus-extensions/nautilus-icon-dnd.c:
	(nautilus_icon_container_get_drop_action):
	Fix a crash when nautilus_icon_container_get_drop_action
	got called too early on during a drag, before 
	drag_data_received_callback got a chance to set state up.

2000-07-12  Robey Pointer  <robey@eazel.com>

	* components/services/trilobite/libtrilobite/Makefile.am:
	* components/services/trilobite/libtrilobite/trilobite-root-client-private.h:
	* components/services/trilobite/libtrilobite/trilobite-root-client-public.h:
	* components/services/trilobite/libtrilobite/trilobite-root-client.c:
	* components/services/trilobite/libtrilobite/trilobite-root-helper.c:
	* components/services/trilobite/libtrilobite/trilobite-service-passwordquery.c:
	(impl_Trilobite_PasswordQuery_set_query_client),
	(trilobite_passwordquery_destroy),
	(trilobite_passwordquery_get_password):
	* components/services/trilobite/sample/command-line/main.c:
	(get_password_dude), (main):
	* components/services/trilobite/sample/service/main.c:
	(trilobite_service_factory_destroy),
	(trilobite_sample_service_factory):

	Add TrilobiteRootClient: a GTK object that wraps corba password
	requests and emits a signal to handle it.  The sample command-line
	service now uses it to ask for a password.

	Fix bug in PasswordQuery where it didn't duplicate (ref) the corba
	object it stored away.

2000-07-12  Ramiro Estrugo  <ramiro@eazel.com>

	* components/services/install/nautilus-view/nautilus-service-install-view.c:
	(generate_install_form), (create_title_widget),
	(create_middle_title_widget):

	Fix a bunch of gtk assertions caused by adding widgets to gtkboxes
	twice.

	Add a middle title widget to separete the progress dislay from the
	top.
	
2000-07-12  Darin Adler  <darin@eazel.com>

	* src/nautilus-view-frame.c: (nautilus_view_frame_destroy_client):
	Change to use bonobo_object_unref now that the leaks have been
	fixed.  This requires the new Bonobo or you'll have lots of leaked
	processes. Luckily, Nautilus won't compile without the new Bonobo
	due to my use of bonobo_object_shutdown in main :-)

	* configure.in:
	Fix the way -Werror works so it affects all directories, not just
	ones where we use WERROR.
	
	* components/hardware/Makefile.am:
	* components/help/Makefile.am:
	* components/history/Makefile.am:
	* components/loser/content/Makefile.am:
	* components/loser/sidebar/Makefile.am:
	* components/mozilla/Makefile.am:
	* components/music/Makefile.am:
	* components/notes/Makefile.am:
	* components/rpmview/Makefile.am:
	* components/sample/Makefile.am:
	* components/services/install/command-line/Makefile.am:
	* components/services/install/lib/Makefile.am:
	* components/services/install/nautilus-view/Makefile.am:
	* components/services/install/server/Makefile.am:
	* components/services/inventory/lib/Makefile.am:
	* components/services/inventory/nautilus-view/Makefile.am:
	* components/services/inventory/service/Makefile.am:
	* components/services/login/lib/Makefile.am:
	* components/services/login/nautilus-view/Makefile.am:
	* components/services/login/service/Makefile.am:
	* components/services/startup/command-line/Makefile.am:
	* components/services/startup/lib/Makefile.am:
	* components/services/startup/nautilus-view/Makefile.am:
	* components/services/summary/lib/Makefile.am:
	* components/services/summary/nautilus-view/Makefile.am:
	* components/services/summary/service/Makefile.am:
	* components/services/time/command-line/Makefile.am:
	* components/services/time/nautilus-view/Makefile.am:
	* components/services/time/service/Makefile.am:
	* components/services/trilobite/helper/Makefile.am:
	* components/services/trilobite/libtrilobite/Makefile.am:
	* components/services/trilobite/sample/command-line/.cvsignore:
	* components/services/trilobite/sample/command-line/Makefile.am:
	* components/services/trilobite/sample/lib/Makefile.am:
	* components/services/trilobite/sample/nautilus-view/Makefile.am:
	* components/services/trilobite/sample/service/Makefile.am:
	* components/services/vault/command-line/Makefile.am:
	* components/services/vault/lib/Makefile.am:
	* components/services/vault/nautilus-view/Makefile.am:
	* components/services/vault/service/Makefile.am:
	* components/tree/Makefile.am:
	* components/websearch/Makefile.am:
	* cut-n-paste-code/widgets/nautilus-druid/Makefile.am:
	* helper-utilities/authenticate/Makefile.am:
	* libnautilus-extensions/Makefile.am:
	* libnautilus/Makefile.am:
	* librsvg/Makefile.am:
	* nautilus-installer/src/Makefile.am:
	* src/Makefile.am:
	* src/file-manager/Makefile.am:
	* test/Makefile.am:
	Got rid of the WERROR shell variable. The -Werror switch is no
	longer a per-directory thing.
	
	* librsvg/Makefile.am:
	Added libpng to the libraries for the test program. Maybe this was
	the wrong thing to do, but before this change the link failed.

	* components/sample/Makefile.am:
	* components/sample/main.c:
	* components/sample/nautilus-sample-content-view.c:
	* components/sample/nautilus-sample-content-view.h:
	A clean-up of the sample, including fixing many bugs and adding
	lots of comments. I figure we want this to be as close to
	exemplary as possible since people will continue to start with it
	for new components.
	
	* libnautilus-extensions/nautilus-bookmark.c:
	(nautilus_bookmark_new_with_icon): Removed a bogus extra ref of a
	NautilusFile object that I spotted in here.

	* src/nautilus-application.c: (nautilus_application_destroy_window):
	Re-added the code to quit when the last window is closed that Mike
	removed in his recent check-in.
	
	* src/nautilus-main.c: (main): Added a call to bonobo_shutdown.
	We don't need this call, but I say, "Why not?"
	
2000-07-12  J Shane Culpepper  <pepper@eazel.com>

	* components/services/login/nautilus-view/nautilus-login-view.c:
	(generate_login_form):
	Change NickName to User Name.

2000-07-12  Ramiro Estrugo  <ramiro@eazel.com>

	* libnautilus-extensions/nautilus-preferences.c:
	(preferences_initialize_if_needed):
	* libnautilus-extensions/nautilus-user-level-manager.c:
	(user_level_manager_new):
	Update for GConf api changes.

2000-07-12  J Shane Culpepper  <pepper@eazel.com>

	* components/services/install/nautilus-view/nautilus-service-install-view.c:
	(generate_install_form):

	Formatting tweaks to the Description.

2000-07-11  Andy Hertzfeld  <andy@eazel.com>

	* src/nautilus-property-browser.c: (strip_extension),
	(format_name_for_display), (make_background_chit),
	(make_properties_from_directory_path), (make_category_link),
	(nautilus_property_browser_update_contents):
	made various improvements suggested by Arlo and cleaned up
	the code a bit.  There's more changes coming soon.
	* src/nautilus-first-time-druid.c: (set_up_service_signup_page):
	improved the services description a bit
	* data/browser.xml:
	* icons/Makefile.am:
	* icons/themes.png:
	added an icon for the themes button

2000-07-11  Eskil Heyn Olsen  <eskil@eazel.com>

	* components/services/inventory/nautilus-view/Makefile.am:
	Added RPM_LIBS

2000-07-11  Ramiro Estrugo  <ramiro@eazel.com>

	* src/run-nautilus:
	Setup the mozilla environment correctly.
	
2000-07-11  Eskil Heyn Olsen  <eskil@eazel.com>

	* components/services/trilobite/idl/trilobite-service.idl:
	* components/services/trilobite/libtrilobite/Makefile.am:
	* components/services/trilobite/libtrilobite/libtrilobite-service.h:
	* components/services/trilobite/libtrilobite/libtrilobite.h:
	* components/services/trilobite/libtrilobite/trilobite-service-passwordquery-private.h:
	* components/services/trilobite/libtrilobite/trilobite-service-passwordquery-public.h:
	* components/services/trilobite/libtrilobite/trilobite-service-passwordquery.c:
	(impl_Trilobite_PasswordQuery_set_query_client),
	(trilobite_passwordquery_get_epv),
	(trilobite_passwordquery_destroy),
	(trilobite_passwordquery_set_arg),
	(trilobite_passwordquery_class_initialize),
	(trilobite_passwordquery_initialize),
	(trilobite_passwordquery_add_interface),
	(trilobite_passwordquery_get_password),
	(trilobite_passwordquery_set_prompt):
	Added the trilobite_passwordquery interface and
	trilobite_passwordquery_client. You add the _passwordquery
	interface to your service, and the client (view or cli tool)
	registers a _passwordquery_client object. When you then execute a
	service function that requires eg. root acces, the service can
	access a TrilobiteRootHelper (accessible using gtk_object_get_data
	(... "trilobite-root-helper"...), and call it. This will emit a
	signal, that will cause the _passwordquery to ask the
	_passwordquery_client for a password. Currently, if no
	_passwordquery_client is set, it will popup a gui input box. But
	we should loose then when Robey does the gtk interface to be used
	in views and cli tools.
	
	* components/services/trilobite/libtrilobite/trilobite-service-public.h:
	* components/services/trilobite/libtrilobite/trilobite-service.c:
	(trilobite_service_add_interface):
	Added the trilobite_service_add_interface. All trilobite
	interfaces should have one to handle the
	bonobo_object_add_interface ond other magic stuff.
	
	* components/services/trilobite/sample/idl/sample-service.idl:
	* components/services/trilobite/sample/command-line/main.c: (main):	
	* components/services/trilobite/sample/service/Makefile.am:
	* components/services/trilobite/sample/service/main.c:
	(trilobite_sample_service_factory):
	* components/services/trilobite/sample/service/sample-service-impl.c:
	(impl_Trilobite_Eazel_Sample_list_it), (sample_service_get_epv):
	Added a list_it call, that given a dir does a ls on it. (proof of
	concept stuff).	So I've also added the trilobite_passwordquery
	interface to the sampleservice, and the cli tool tries to do an
	ls -lart /root (thus triggering a password query).

	* components/services/install/lib/eazel-install-object.c:
	(eazel_install_destroy), (eazel_install_initialize):
	* components/services/install/lib/eazel-install-private.h:
	* components/services/install/lib/eazel-install-protocols.c:
	(eazel_install_fetch_package):
	* components/services/install/lib/eazel-install-rpm-glue.c:
	(install_new_packages), (install_all_packages),
	(rpm_show_progress), (do_rpm_install), (do_rpm_uninstall),
	(eazel_install_load_rpm_headers),
	(eazel_install_prepare_rpm_system):
	* components/services/install/server/Makefile.am:
	* components/services/install/server/main.c:
	(eazel_install_service_factory), (main):
	I've partly made the installer use the use the new stuff. It
	doesn't work yet, but it makes it all the way to password query.
	
	* components/services/time/command-line/main.c: (main):
	* components/services/time/idl/trilobite-eazel-time-service.idl:
	* components/services/time/service/Makefile.am:
	* components/services/time/service/main.c:
	(trilobite_eazel_time_service_factory):
	* components/services/time/service/trilobite-eazel-time-service.c:
	(impl_Trilobite_Eazel_Time_Service_check_time),
	(impl_Trilobite_Eazel_Time_Service_update_time),
	(trilobite_eazel_time_service_parse_body),
	(trilobite_eazel_time_service_do_http_request):
	Pached to work with the trilobite_passwordquery stuff. So as user,
	you can now set the time if you've got the root password.

	This closes 946, 938 and fixes root problem for the installer.

2000-07-11  Gene Z. Ragan  <gzr@eazel.com>

	* components/history/nautilus-history-view.c:
	(history_load_location), (history_button_press),
	(history_button_release), (make_obj):
	Removed drag move from list. Changed navigation to occur on mouse
	up, not on select row. This is because select row is called on
	rows during a drag. This can be annoying if you are trying to drag
	a row item and Nautilus is navigating to the item you ared
	dragging over. This behavior happens even if we are not supporting
	drag move of items. Now navigation occurs on the mouse up.

2000-07-11  Michael Engber  <engber@eazel.com>

	* libnautilus/nautilus-view-component.idl:
	* libnautilus/nautilus-view.c: (nautilus_view_quit_nautilus):
	* libnautilus/nautilus-view.h:
	* src/file-manager/fm-desktop-icon-view.c:
	(fm_desktop_icon_view_quit_menu_item_callback),
	(fm_desktop_icon_view_create_background_context_menu_items):
	* src/file-manager/fm-directory-view.c:
	(fm_directory_view_quit_nautilus):
	* src/file-manager/fm-directory-view.h:
	* src/nautilus-application.c: (nautilus_application_startup),
	(nautilus_application_destroy_window):
	* src/nautilus-application.h:
	* src/nautilus-desktop-window.c: (nautilus_desktop_window_new):
	* src/nautilus-view-frame-corba.c:
	(impl_Nautilus_ViewFrame_set_title),
	(impl_Nautilus_ViewFrame_quit_nautilus):
	* src/nautilus-view-frame-private.h:
	* src/nautilus-view-frame.c:
	(nautilus_view_frame_initialize_class),
	(nautilus_view_frame_set_title),
	(nautilus_view_frame_quit_nautilus):
	* src/nautilus-view-frame.h:
	* src/nautilus-window-manage-views.c:
	(nautilus_window_load_content_view):
	* src/nautilus-window.c: (nautilus_window_quit_nautilus_callback),
	(nautilus_window_connect_view):
	Hooked up the quit menu in the desktop context menu to quit Nautilus.
	Now, if Nautilus is managing the desktop no default window is created
	and Nautilus does not quit when the last window is closed - i.e. use
	the quit menu item instead. Bugs 1050 and 1051.

2000-07-11  J Shane Culpepper  <pepper@eazel.com>

	* components/services/login/nautilus-view/nautilus-login-view.c:

2000-07-11  Robin * Slomkowski  <rslomkow@eazel.com>

	* components/services/trilobite/helper/Makefile.am:
	added EXTRA_DISTS for eazel-helper.security.in, eazel-helper.pam

2000-07-11  Darin Adler  <darin@eazel.com>

	* src/nautilus-application.h:
	* src/nautilus-application.c: (nautilus_application_startup):
	* src/nautilus-main.c: (main):
	Fixed a bug I introduced at application startup time where it
	would quit right away instead of running the first time druid.
	(Calling it a druid is so lame, who are we kidding?)

	* RENAMING: Some renaming ideas. In particular, we can deprecate
	"null-tolerance" a little bit by including it in the names of the
	functions.
	
	* libnautilus-extensions/Makefile.am:
	* libnautilus-extensions/nautilus-gdk-extensions.c:
	(nautilus_set_mini_icon):
	* libnautilus-extensions/nautilus-gdk-extensions.h:
	* libnautilus-extensions/nautilus-mini-icon.c: [removed]
	* libnautilus-extensions/nautilus-mini-icon.h: [removed]
	* src/nautilus-window.c:
	Moved the single function from its own file into the gdk
	extensions file instead and changed the single place that uses it
	to get it from there.

2000-07-11  Andy Hertzfeld  <andy@eazel.com>

	* src/nautilus-property-browser.c: (make_drag_image),
	(make_background_chit), (make_properties_from_directory_path):
	drew a frame around the background tiles at Arlo's request
	* icons/Makefile.am:
	* icons/chit_frame.png:
	added Arlo's image for the chit frame

2000-07-11  Robin Slomkowski  <rslomkow@eazel.com>

	* components/services/vault/command-line/Makefile.am:
	added a Header file 

2000-07-11  Robin * Slomkowski  <rslomkow@eazel.com>

	* components/html/Makefile.am:
	* components/loser/content/Makefile.am:
	* components/loser/sidebar/Makefile.am:
	* components/mozilla/Makefile.am:
	* components/music/Makefile.am:
	* components/rpmview/Makefile.am:
	* components/sample/Makefile.am:
	* components/services/install/nautilus-view/Makefile.am:
	* components/services/login/nautilus-view/Makefile.am:
	* components/services/startup/command-line/Makefile.am:
	* components/services/summary/nautilus-view/Makefile.am:
	* components/services/time/command-line/Makefile.am:
	* components/services/time/nautilus-view/Makefile.am:
	* components/services/trilobite/sample/command-line/Makefile.am:
	* components/services/trilobite/sample/nautilus-view/Makefile.am:
	* components/services/vault/command-line/Makefile.am:
	* components/services/vault/nautilus-view/Makefile.am:
	* components/tree/Makefile.am:
	* helper-utilities/authenticate/Makefile.am:
	* test/Makefile.am:
	mass change of LDFLAGS to LDADD

2000-07-11  Darin Adler  <darin@eazel.com>

	Fixed some leaks that cause problems with the new Bonobo.

	* components/history/nautilus-history-view.c:
	(history_view_frame_call_end):
	* libnautilus/nautilus-undo.c: (set_up_bonobo_control):
	* libnautilus/nautilus-view.c: (view_frame_call_end):
	* libnautilus/nautilus-zoomable.c:
	(nautilus_zoomable_ensure_zoomable_frame):
	Fixed a ref. count leak by adding code to unref the result of
	query_interface.
	
	* src/nautilus-view-frame.c: (nautilus_view_frame_is_zoomable):
	Fixed logic that was backwards.

2000-07-11  Andy Hertzfeld  <andy@eazel.com>

	* src/nautilus-window.c: (nautilus_window_realize):
	fixed bug 609, set up nautilus mini-icon.  Also, removed the
	private hacked gdk_pixbuf_render_pixmap_and_mask routine since the real
	one in gdk_pixbuf is working properly now with images that lack
	an alpha channel.
	
2000-07-11  Andy Hertzfeld  <andy@eazel.com>

	* src/nautilus-sidebar-tabs.c: (draw_or_hit_test_all_tabs):
	made the Arlo tabs use a new right edge when appropriate
	* icons/arlo/arlo.xml:
	added rectangle for new tab edge piece
	* src/nautilus-window-toolbars.c: (toolbar_search_web_callback):
	made it disable local search mode before invoking web search
	* data/emblems/Makefile.am:
	removed emblems that represent intrinisc properties from browser
	* icons/Makefile.am:
	* icons/novice.png:
	* icons/intermediate.png:
	* icons/expert.png:
	added Susan's user level images
	
2000-07-11  Robin * Slomkowski <rslomkow@eazel.com>

	* components/hardware/Makefile.am: changed to LDADD

2000-07-11  Darin Adler  <darin@eazel.com>

	* components/help/hyperbola-main.c:
	* src/file-manager/fm-directory-view.c:
	Oops. Missed two files that were including nautilus-alloc.h.

2000-07-12  Ian McKellar  <yakk@yakk.net.au>

	* libnautilus-extensions/nautilus-mime-actions.c:
	(nautilus_mime_get_short_list_methods_for_uri):
	* libnautilus-extensions/nautilus-mime-actions.h:
	* src/nautilus-window.c: (nautilus_window_load_content_view_menu):
	Load mime->vfs module mapping from gnome-vfs.

2000-07-11  Darin Adler  <darin@eazel.com>

	* src/nautilus-view-frame.c:
	Fixed to compile with latest Bonobo. Doesn't work quite as well
	as before -- we get some Bonobo ref. count asserts all the time --
	but it's better than nothing I guess. Also did some other code
	cleanup.

	* libnautilus-extensions/Makefile.am:
	* libnautilus-extensions/nautilus-alloc.h: [removed]
	Removed an unused source file.
	
	* libnautilus-extensions/nautilus-icon-container.c: (icon_free),
	(stop_rubberbanding), (destroy), (hide_rename_widget):
	* libnautilus-extensions/nautilus-icon-dnd.c:
	(nautilus_icon_container_dropped_icon_feedback),
	(nautilus_icon_container_free_drag_data), (nautilus_icon_dnd_fini):
	* src/nautilus-property-browser.c:
	(nautilus_property_browser_drag_end):
	* src/nautilus-view-frame-nautilus-view.c: (load_location),
	(stop_loading), (selection_changed):
	* src/nautilus-view-frame.c: (nautilus_view_frame_handle_client_destroy),
	(nautilus_view_frame_load_client), (check_object),
	(nautilus_view_frame_set_active_errors):
	* src/nautilus-window-manage-views.c:
	(nautilus_window_end_location_change_callback):
	Added FIXMEs to various questionable uses of gtk_object_destroy.
	
	* src/Makefile.am:
	Added missing source file and replaced use of .. with $(top_srcdir).

2000-07-11  Ramiro Estrugo  <ramiro@eazel.com>

	* test/Makefile.am:
	Forgot the makefile in the last commit.
	
2000-07-11  Ramiro Estrugo  <ramiro@eazel.com>

	* libnautilus-extensions/nautilus-password-dialog.c:
	(nautilus_password_dialog_initialize_class),
	(nautilus_password_dialog_initialize),
	(nautilus_password_dialog_destroy), (dialog_show_callback),
	(dialog_close_callback), (caption_table_activate_callback),
	(nautilus_password_dialog_new),
	(nautilus_password_dialog_run_and_block),
	(nautilus_password_dialog_set_username),
	(nautilus_password_dialog_set_password),
	(nautilus_password_dialog_set_readonly_username),
	(nautilus_password_dialog_get_username),
	(nautilus_password_dialog_get_password),
	(nautilus_password_dialog_get_remember),
	(nautilus_password_dialog_set_remember),
	(nautilus_password_dialog_set_remember_label_text):
	* libnautilus-extensions/nautilus-password-dialog.h:
	Many cleanups and improvements.  Use the GnomeDialog run_and_close
	call instead of our own event loop hack.  Removed many unneeded
	callbacks and details member variables.  Add checks for all
	callbacks.  Add support for remembering the password.
	
	* test/.cvsignore:
	* test/Makefile.am:
	* test/test-nautilus-password-dialog.c:
	(authenticate_boink_callback), (exit_callback), (main):
	Add a new test for the password dialog.

	* test/test-nautilus-widgets.c: (main),
	(text_caption_changed_callback):
	Removed the old password dialog test.
		
2000-07-10  J Shane Culpepper  <pepper@eazel.com>

	* components/services/install/nautilus-view/nautilus-service-install-view.c:
	(generate_install_form), (generate_current_progress),
	(go_to_uri), (nautilus_service_install_view_update_from_uri):
	* components/services/login/nautilus-view/nautilus-login-view.c:
	* components/services/startup/nautilus-view/nautilus-service-startup-view.c:
	(generate_startup_form):

	Fixed the startup view progress meter.  Various changes to get flow
	correct for the first cut at the services demo rpms.

2000-07-10  Andy Hertzfeld  <andy@eazel.com>

	* data/browser.xml:
	Oops! Changing the capitalization of the names broke the customize
	window, since there's no distinction between the directory name and
	the display name. I'll fix it soon, but for now I changed them back
	to lower-case.
	* libnautilus-extensions/nautilus-global-preferences.c:
	(global_preferences_create_dialog):
	removed the theme preference from the appearance panel, since it's
	now in the customize window

2000-07-10  Robey Pointer  <robey@eazel.com>

	* components/services/trilobite/helper/eazel-helper.c:
	(do_command), (main):
	* components/services/trilobite/libtrilobite/trilobite-root-helper.c:
	(trilobite_root_helper_run_program), (trilobite_root_helper_run):
	* components/services/trilobite/libtrilobite/trilobite-root-helper.h:

	Add _RUN_LS command to TrilobiteRootHelper and eazel-helper, for
	Eskil to use for testing.

2000-07-10  Pavel Cisler  <set EMAIL_ADDRESS environment variable>

	* libnautilus-extensions/nautilus-icon-container.c:
	(nautilus_icon_container_scroll), (rubberband_timeout_callback):
	* libnautilus-extensions/nautilus-icon-dnd.c:
	(auto_scroll_timeout_callback), (set_up_auto_scroll_if_needed),
	(stop_auto_scroll), (handle_local_move), (drag_leave_callback),
	(nautilus_icon_dnd_fini), (drag_motion_callback),
	(nautilus_icon_dnd_end_drag):
	Add support for auto-scroll during drag&drop in the icon view.
	

	* libnautilus-extensions/nautilus-icon-private.h:
	* libnautilus-extensions/nautilus-icon-container.c:
	(nautilus_icon_container_scroll):
	Renamed scroll to nautilus_icon_container_scroll and made it
	available to nautilus-icon-dnd.c.
	
	* src/file-manager/fm-list-view.c: (fm_list_get_drag_pixmap):
	Fix a memory thrasher in the code that grabs the item icon during
	a list view drag -- added a missing ref.

	* libnautilus-extensions/nautilus-drag.c:
	(add_one_gnome_icon_list), (add_one_uri_list):
	Fix some whitespace.

2000-07-10  Robey Pointer  <robey@eazel.com>

	* components/services/trilobite/helper/eazel-helper.c: (main):
	* components/services/trilobite/libtrilobite/trilobite-root-helper.c:
	(trilobite_root_helper_start), (trilobite_root_helper_rpm),
	(trilobite_root_helper_set_time), (trilobite_root_helper_run):
	* components/services/trilobite/libtrilobite/trilobite-root-helper.h:

	Make sure TrilobiteRootHelper can be restarted after each use
	(same object, new session).  Add _set_time function.

2000-07-10  Andy Hertzfeld  <andy@eazel.com>

	added a "web search" button to the toolbar
	
	* libnautilus-extensions/nautilus-global-preferences.c,h:
	(global_preferences_create_dialog),
	(global_preferences_register_for_ui):
	added a preference for the web search uri.
	
	* src/Makefile.am:
	* src/nautilus-toolbar.c,h: (nautilus_toolbar_new),
	(nautilus_toolbar_initialize_class), (nautilus_toolbar_initialize),
	(nautilus_toolbar_set_button_spacing),
	(nautilus_toolbar_size_allocate):
	added a new nautilus_toolbar class to overcome the problem that
	the normal toolbar uses the maximum width for all the buttons,
	because the "web search" button has a longer name than usual
	
	* src/nautilus-window-toolbars.c: (toolbar_clear_search_mode),
	(toolbar_search_local_callback), (toolbar_search_web_callback),
	(remember_buttons), (setup_toolbar_images),
	(nautilus_window_initialize_toolbars):
	used nautilus_toolbar instead of gtk_toolbar;
	added a "web search" button to the toolbar
	
	* src/nautilus-window.c,h: (navigation_bar_mode_changed_callback),
	(nautilus_window_set_search_mode), (nautilus_window_go_web_search):
	added the semantics for web search, which is to invoke the
	location specified by the web search uri
	
	* src/nautilus-property-browser.c: (remove_color),
	(nautilus_property_browser_remove_element),
	(make_properties_from_xml_node):
	some minor clean-ups
	* data/browser.xml:
	capitalized titles for Arlo


2000-07-10  Robey Pointer  <robey@eazel.com>

	* components/services/trilobite/helper/.cvsignore:
	* components/services/trilobite/helper/Makefile.am:
	* components/services/trilobite/helper/eazel-helper.pam:
	* components/services/trilobite/helper/eazel-helper.security.in:

	Add Makefile.am magic to autogenerate eazel-helper.security from
	the .in file and copy eazel-helper.pam and eazel-helper.security
	into the proper directory (well, right now, into /gnome/etc, but
	that's a separate issue).
	
2000-07-10  Eskil Heyn Olsen  <eskil@eazel.com>

	* components/services/docs/installer-rpmsearch:
	text file on how the rpmsearch.cgi should work.
		
	* components/services/install/command-line/eazel-alt-install-corba.c:
	(set_parameters_from_command_line),
	(eazel_download_progress_signal), (eazel_install_progress_signal),
	(install_failed), (create_package), (done):
	Added --force to do force installs. Also fixed the screen output
	to show the begin/progress/end handling on download and install
	callbacks.
	Changed the output tree in case of install_failed.
		
	* components/services/install/command-line/eazel-alt-install.c:
	(set_parameters_from_command_line),
	(eazel_install_progress_signal), (eazel_download_progress_signal),
	(main):
	Tried to revive it...
	
	* components/services/install/lib/eazel-install-corba-callback.c:
	(eazel_install_callback_class_initialize):
	Removed the evil marshal func, and renamed it to prevent name clashes.
	
	* components/services/install/lib/eazel-install-object.c:
	(eazel_install_destroy), (eazel_install_class_initialize),
	(eazel_install_initialize):
	Some more free's in the _destroy.
	
	* components/services/install/lib/eazel-install-private.h:
	Added a hash table to fix bug #1585.
	
	* components/services/install/lib/eazel-install-protocols.c:
	(http_fetch_remote_file), (eazel_install_fetch_package):
	Fixed bug 1620. Would probably be more elegant to use some
	enums. Also now inserts packages into the hashtable in
	EazelInstall.
	
	* components/services/install/lib/eazel-install-public.h:
	* components/services/install/lib/eazel-install-rpm-glue.c:
	(rpm_show_progress), (do_rpm_install), (do_rpm_uninstall),
	Fixed bug 1585 by having the rpm_show_progress lookup the package
	in the hashtable, and bug 1620 by inserting a load of if's to make
	sure the signal emits with amount==0, amount > 0 && < total and
	amount == total.
	(eazel_install_fetch_rpm_dependencies):
	Fixed bug 1363.
	
	* components/services/install/lib/eazel-install-types.c:
	(rpmfilename_from_packagedata), (packagedata_hash_equal),
	(packagedata_status_str_to_enum),
	(eazel_install_gtk_marshal_NONE__POINTER_INT_INT_INT_INT_INT_INT):
	* components/services/install/lib/eazel-install-types.h:
	Added the evil marshaller to types.c
	
	* nautilus-installer/src/Makefile:
	* nautilus-installer/src/installer.c: (eazel_install_progress),
	(eazel_download_progress):
	* nautilus-installer/src/interface.c: (create_window):
	Tried to make the installer look slightly more pleasing.

2000-07-10  Darin Adler  <darin@eazel.com>

	* components/history/nautilus-history-view.c:
	(history_view_update_icons), (get_history_list),
	(hyperbola_navigation_history_load_location):
	* libnautilus/nautilus-view-component.idl:
	* src/nautilus-history-frame.c:
	(impl_Nautilus_HistoryFrame_get_history_list):
	* src/nautilus-view-frame.h:
	* src/nautilus-view-frame.c:
	(nautilus_view_frame_get_history_list):
	* src/nautilus-window.c:
	(nautilus_window_get_history_list_callback),
	(nautilus_window_connect_view):
	Changed history list to include a separate position field
	instead of having a position in each entry.
	
	* components/notes/nautilus-notes.c: (done_with_file):
	Name changed from nautilus_file_cancel_callback to
	nautilus_file_cancel_call_when_ready to reduce confusion with
	nautilus_file_cancel.
	
	* libnautilus-extensions/nautilus-directory.c:
	(nautilus_directory_get): Made NULL for URI be legal (and result
	in NULL for the directory object).
	* libnautilus-extensions/nautilus-mime-actions.c:
	(get_mime_type_from_uri): Made NULL for URI be legal (and result
	in NULL for MIME type).

	* libnautilus-extensions/nautilus-entry.c:
	(nautilus_entry_set_text): Minor tweak.
	
	* libnautilus-extensions/nautilus-file.h:
	* libnautilus-extensions/nautilus-file-private.h:
	* libnautilus-extensions/nautilus-file.c: (operation_new),
	(operation_free), (operation_complete), (operation_cancel),
	(rename_update_info_and_metafile), (rename_callback),
	(nautilus_file_rename), (nautilus_file_cancel),
	(nautilus_file_set_owner), (nautilus_file_cancel_call_when_ready):
	Added cancelling to rename as a prelude to doing the same for
	set_file_info-based calls.
	
	* libnautilus-extensions/nautilus-graphic.c:
	Fixed a formatting mistake and a typo.
	
	* libnautilus-extensions/nautilus-stock-dialogs.h:
	* libnautilus-extensions/nautilus-stock-dialogs.c:
	(timed_wait_hash), (timed_wait_hash_equal),
	(nautilus_timed_wait_start), (nautilus_timed_wait_free),
	(nautilus_timed_wait_stop): Re-did timed wait API now that
	we are really using it. Still unimplemented.
	
	* src/Makefile.am:
	Since IDL dependencies are not understood by automake, added
	an explicit one so we pick up the change to the libnautilus
	view component IDL.
	
	* src/file-manager/fm-error-reporting.h:
	* src/file-manager/fm-error-reporting.c: (rename_callback),
	(cancel_rename_callback), (fm_rename_file): Moved code for
	renaming into here so it can be shared between the icon view
	and the properties dialog. Perhaps it needs to be renamed.
	
	* src/file-manager/fm-icon-view.c:
	(fm_icon_view_icon_text_changed_callback): Use the shared
	code instead of having the rename code here.
	
	* src/nautilus-application.c: (create_object): Make a new
	shell object each time instead of trying to share one.
	(nautilus_application_startup): Activate the shell object
	using OAF. This makes it work across processes and adds
	the feature.
	
	* src/nautilus-main.c: (main): Call bonobo_activate explicitly so
	CORBA calls work before the main loop.
	
	* src/nautilus-shell.c: (display_caveat_first_time),
	(corba_manage_desktop): Got rid of all state in NautilusShell
	so we can use multiple shell objects if we want.
	
	* src/nautilus-sidebar.c: (nautilus_sidebar_update_info):
	Got rid of code that checks for NULL.
	
2000-07-10  Ramiro Estrugo  <ramiro@eazel.com>

	* icons/eazel/Services.png:
	New icon from Arlo.

2000-07-10  Michael Engber  <engber@eazel.com>

	* src/file-manager/Makefile.am:
	* src/file-manager/fm-desktop-icon-view.c:
	(fm_desktop_icon_view_initialize_class),
	(fm_desktop_icon_view_initialize),
	(fm_desktop_icon_view_quit_menu_item_callback),
	(fm_desktop_icon_view_create_background_context_menu_items):
	* src/file-manager/fm-desktop-icon-view.h:
	* src/nautilus-application.c: (manufactures), (create_object):
	* src/nautilus-application.h:
	* src/nautilus-window-manage-views.c:
	(nautilus_window_load_content_view):
	* src/nautilus.oafinfo:
	First half of putting a quit menu item on the desktop's
	right-click menu. Still need to hook up the quit item.

2000-07-10  Gene Z. Ragan  <gzr@eazel.com>

	Fixed bug 971, enable undo in file editing part of
	properties window.
	
	* src/file-manager/fm-properties-window.c: 
	(create_basic_page):
	Enabled entry for undo and enabled the use of ctl-z
	to invoke undo while properties dialog has focus.

2000-07-10  Ramiro Estrugo  <ramiro@eazel.com>

	* src/nautilus-window-toolbars.c: (toolbar_services_callback):
	Add a toolbar button to instanciate services.  Defaults to off if
	EAZEL_SERVICES is not on.

	* icons/eazel/Makefile.am:
	* icons/eazel/Servics.png:
	Add services icon for toolbar.

2000-07-10  Robey Pointer  <robey@eazel.com>

	* components/services/trilobite/Makefile.am:
	* components/services/trilobite/helper/.cvsignore:
	* components/services/trilobite/helper/Makefile.am:
	* components/services/trilobite/helper/README:
	* components/services/trilobite/helper/eazel-helper.c:
	* configure.in:

	Add new helper/ directory to trilobite for building eazel-helper,
	the sudo-ish utility that lets trilobite services do stuff as root.

2000-07-10  Ramiro Estrugo  <ramiro@eazel.com>

	* libnautilus-extensions/nautilus-graphic.c:
	(nautilus_graphic_initialize), (nautilus_graphic_size_allocate),
	(nautilus_graphic_size_request), (nautilus_graphic_set_label_text),
	(nautilus_graphic_set_label_font),
	(nautilus_graphic_set_left_offset),
	(nautilus_graphic_set_right_offset),
	(nautilus_graphic_set_top_offset),
	(nautilus_graphic_set_bottom_offset),
	(nautilus_graphic_set_extra_width),
	(nautilus_graphic_set_extra_height):
	* libnautilus-extensions/nautilus-graphic.h:
	Add support for boundary offset and extra width and height.

	* test/test-nautilus-graphic.c: (main):
	Update for new boundary offset support.
	* components/services/install/nautilus-view/nautilus-service-install-view.c:
	(generate_install_form), (create_graphic_widget),
	(create_title_widget):
	* components/services/login/nautilus-view/nautilus-login-view.c:
	(generate_login_form), (create_graphic_widget),
	(create_title_widget):
	Use new graphic widget to make things prettier.
	
2000-07-10  Robey Pointer  <robey@eazel.com>

	* components/services/trilobite/libtrilobite/Makefile.am:
	* components/services/trilobite/libtrilobite/libtrilobite.h:
	* components/services/trilobite/libtrilobite/trilobite-core-utils.c:
	(trilobite_pexec):
	* components/services/trilobite/libtrilobite/trilobite-core-utils.h:
	* components/services/trilobite/libtrilobite/trilobite-root-helper.c:
	new file
	* components/services/trilobite/libtrilobite/trilobite-root-helper.h:
	new file

	Add baseline TrilobiteRootHelper object.  It uses the "userhelper"
	utility to get run eazel-helper, which can do certain tasks as
	root.  (For now, it can only run "rpm".)  A signal callback is
	used to fetch the root password.

2000-07-10  Ramiro Estrugo  <ramiro@eazel.com>

	* libnautilus-extensions/nautilus-gdk-pixbuf-extensions.c:
	(nautilus_gdk_pixbuf_scale_to_fit),
	(nautilus_gdk_pixbuf_draw_text):
	* libnautilus-extensions/nautilus-gdk-pixbuf-extensions.h:
	New function to draw text into a pixbuf given a rect and a
	string.   Factored from the icon factoyr.
	* libnautilus-extensions/nautilus-graphic.c:
	(nautilus_graphic_size_allocate):
	Add support for drawing text.
	
	* libnautilus-extensions/nautilus-icon-factory.c: (embed_text):
	Factored out gdk pixbuf text drawing.  Use the new text drawing
	function.

	* test/test-nautilus-graphic.c: (create_color_scale):
	Update for text support.
	
2000-07-10  Gene Z. Ragan  <gzr@eazel.com>

	* libnautilus-extensions/nautilus-gdk-extensions.c:
	* libnautilus-extensions/nautilus-gdk-extensions.h:
	(nautilus_gdk_window_bring_to_front):
	Added genric function that brings a GdkWindow to the
	front and activates it.  There is no GDK API that
	does this.
	
	* src/nautilus-window-manage-views.c: (open_location):
	Removed case specific code and repalced wirth new function.
	
2000-07-10  Gene Z. Ragan  <gzr@eazel.com>

	* src/nautilus-window-manage-views.c: 
	(open_location):
	Modified function to handle the folloing case:
	If a user has selected open location in new window
	in prefs, and a window is already open for the location,
	the window is activated and given focus.  This feature
	makes the most sense, but conflicts with the wording
	of the preferences item.  We need a way to express
	this feature in the prefs.

2000-07-10  Andy Hertzfeld  <andy@eazel.com>

		
	* src/nautilus-property-browser.c:
	(nautilus_property_browser_initialize),
	(nautilus_property_browser_destroy),
	(nautilus_property_browser_theme_changed),
	(theme_clicked_callback):
	made the property browser update itself when the theme changes	
	* libnautilus-extensions/nautilus-theme.c:
	(nautilus_theme_make_selector):
	fixed bug where we were calling g_file_exists with NULL
	by testing for NULL instead of calling it at all.		
	* data/emblems/Makefile.am:
	* data/emblems/personal.png:
	* icons/Makefile.am:
	* icons/emblem-personal.svg:
	added the emblems that I tried to on Friday but forgot to cvsadd

2000-07-10  Ramiro Estrugo  <ramiro@eazel.com>

	*
	components/services/startup/nautilus-view/nautilus-service-startup-
	view.c: (generate_startup_form), (create_graphic_widget),
	(generate_form_logo):
	Use the new NautilusGraphic widget.  Add a function to create
	graphics with a given image and background.
	
	* libnautilus-extensions/nautilus-graphic.c:
	(nautilus_graphic_size_allocate):
	Add FIXME blurbs.

	* libnautilus-extensions/nautilus-icon-factory.c:
	Add FIXME blurbs.
	
2000-07-10  Ian McKellar  <yakk@yakk.net.au>

	* libnautilus-extensions/nautilus-mime-actions.c:
	(nautilus_mime_get_short_list_methods_for_uri):
	Fix for stupid segfault I introduced in my last checkin.

2000-07-10  Andy Hertzfeld  <andy@eazel.com>

	* data/browser.xml:
	* libnautilus-extensions/nautilus-theme.c,h:
	(nautilus_theme_get_image_path), (nautilus_theme_make_selector):
	added code to make a pixbuf that exemplifies a theme;
	Arlo is going to give me a better design soon
	* src/nautilus-property-browser.c:
	(make_properties_from_directory_path),
	(make_properties_from_directory), (make_properties_from_xml_node),
	(theme_clicked_callback), (vfs_file_exists), (has_image_file),
	(add_theme_selector), (make_properties_from_themes),
	(make_category), (nautilus_property_browser_update_contents):
	lots of work here: added a title gotten from the xml file,
	added theme selector and theme support
	* src/nautilus-window-menus.c:
	disabled test mode, since it was inadvertently closing the sidebar
	
2000-07-09  Ian McKellar  <yakk@yakk.net.au>

	* components/services/vault/command-line/Makefile.am:
	* components/services/vault/command-line/main.c: (valid_ops),
	(main):
	* components/services/vault/command-line/vault-operations.c:
	(vault_list), (make_local_uri), (make_remote_uri), (vault_upload),
	(vault_download), (vault_move), (vault_delete):
	* components/services/vault/command-line/vault-operations.h:
	Beginnings of a command line Vault manipulation tool. Likely to change
	extensively.

	* libnautilus-extensions/nautilus-mime-actions.h:
	* libnautilus-extensions/nautilus-mime-actions.c:
	(nautilus_mime_get_short_list_methods_for_uri):
	Added nautilus_mime_get_short_list_methods_for_uri function which
	returns a list of GnomeVFS methods that can be used to decode a given
	URI. The current implementation has a hard-coded list because I'm
	still trying to work out the right place to make this configurable.

	* src/nautilus-window.c: (view_menu_vfs_method_callback),
	(nautilus_window_load_content_view_menu):
	Add gnome-vfs methods to the View as menu if appropriate.

2000-07-08  Fatih Demir	<kabalak@gmx.net>
	
	* components/html/Makefile.am: Define _VERSION.
	
	* components/html/ntl-web-browser: Made it indent rightly and
		removed 2 debug messages.	

2000-07-09  J Shane Culpepper  <pepper@eazel.com>

	*
	components/services/startup/nautilus-view/nautilus-service-startup-
	view.c: (generate_startup_form), (set_widget_color):

	Adding a hack override the global font color. Fonts on startup are
	now white.

2000-07-09  Andy Hertzfeld  <andy@eazel.com>

	* libnautilus-extensions/nautilus-background.c,h:
	(nautilus_background_is_dark):
	added a method to determine if backgrounds are generally dark or light colored
	* libnautilus-extensions/nautilus-gdk-pixbuf-extensions.c,h:
	(nautilus_gdk_pixbuf_average_value):
	added a method to get a pixbufs average color component values
	* src/nautilus-sidebar-tabs.c:
	(nautilus_sidebar_tabs_load_theme_data), (is_light_color),
	(nautilus_sidebar_tabs_set_color):
	made the tabs use light or dark colored label text depending on the tab color
	* src/nautilus-sidebar-title.c,h:
	(nautlius_sidebar_title_select_text_color),
	(nautilus_sidebar_title_theme_changed), (update_all):
	made the sidebar title use light or dark colored text depending on the background
	* src/nautilus-sidebar.c: (receive_dropped_color),
	(background_appearance_changed_callback):
	added call to tell sidebar label to calculate text color when background changes
	* src/nautilus-property-browser.c: (nautilus_property_browser_new),
	(element_clicked_callback):
	flipped sense of shift key for keeping the property browser open; now it stays open
	by default unless the shift key is down.
	Also, made the window resizable
	* data/browser.xml:
	tweaked colors in browser
	
2000-07-09  J Shane Culpepper  <pepper@eazel.com>

	*
	components/services/install/nautilus-view/nautilus-service-install-
	view.c: (generate_install_form), (generate_form_title),
	(generate_current_progress):

	More formatting.

2000-07-08  J Shane Culpepper  <pepper@eazel.com>

	*
	components/services/install/nautilus-view/nautilus-service-install-
	view.c: (generate_install_form), (generate_form_title),
	(fake_overall_install_progress), (generate_current_progress),
	(show_overall_feedback),
	(nautilus_service_install_view_update_from_uri):
	*
	components/services/install/nautilus-view/nautilus-service-install-
	view.h:

	Adding progress meter fixes to get the current progress message box
	working.

2000-07-08  Gene Z. Ragan  <gzr@eazel.com>

	Work on bug 1021, should be able to open smaller Nautilus windows.
	

	* src/nautilus-window.c: (nautilus_window_constructed),
	* src/nautilus-window.h:
	(sidebar_panels_changed_callback),
	(nautilus_window_hide_locationbar),
	(nautilus_window_show_locationbar), (nautilus_window_hide_toolbar),
	(nautilus_window_show_toolbar), (nautilus_window_hide_sidebar),
	(nautilus_window_show_sidebar), (nautilus_window_hide_statusbar),
	(nautilus_window_show_statusbar):
	Added several new functions that control the visibility
	of NautilusWindow elements.
	
	* src/nautilus-window-menus.c: (edit_menu_cut_callback),
	(edit_menu_copy_callback), (settings_menu_toolbar_callback),
	(settings_menu_locationbar_callback),
	(settings_menu_statusbar_callback),
	(settings_menu_sidebar_callback),
	(settings_menu_normalize_menu_callback),
	(nautilus_window_initialize_menus):
	Test menu items to exercise the new code above.  These can be
	removed from the build by undefining WINDOW_ITEMS_TEST.

2000-07-08  J Shane Culpepper  <pepper@eazel.com>

	* components/services/install/nautilus-view/Makefile.am:
	*
	components/services/install/nautilus-view/nautilus-service-install-
	view.c: (generate_install_form), (show_feedback),
	(nautilus_service_install_view_update_from_uri),
	(nautilus_service_install_view_load_uri):
	*
	components/services/install/nautilus-view/nautilus-service-install-
	view.h:
	*
	components/services/install/nautilus-view/nautilus-service-install.
	c: (nautilus_service_install_view_install_package_callback):

	First cut of the skeleton for easy install view.

2000-07-08  J Shane Culpepper  <pepper@eazel.com>

	*
	components/services/startup/nautilus-view/nautilus-service-startup-
	view.c: (generate_startup_form), (generate_form_logo),
	(nautilus_service_startup_view_load_uri):

	Adding new logo.  More spacing tweaks.

2000-07-08  Fatih Demir	<kabalak@gmx.net>
	
	* components/html/ntl-web-browser.c:
 	   Made the GtkHTML view work again.
	    +Include gconf/gconf.h for the GConf routines.
	    +Init the GConf library before doing the other
	      stuff.
	    +Use a GConfError for the init function.

2000-07-08  J Shane Culpepper  <pepper@eazel.com>

	* components/services/inventory/nautilus-view/Makefile.am:
	* components/services/inventory/nautilus-view/main.c: (main):
	*
	components/services/inventory/nautilus-view/nautilus-inventory-view
	.oafinfo:
	* components/services/login/nautilus-view/Makefile.am:
	* components/services/login/nautilus-view/main.c: (main):
	* components/services/startup/nautilus-view/Makefile.am:
	* components/services/startup/nautilus-view/icons/Makefile.am:
	* components/services/startup/nautilus-view/main.c: (main):
	* components/services/summary/nautilus-view/Makefile.am:
	* components/services/summary/nautilus-view/main.c: (main):
	*
	components/services/summary/nautilus-view/nautilus-summary-view.oaf
	info:

	Fixing oafinfo files based on Darin's suggestion and cleaning up main
	functions to use locale and remove old corba call that is no longer
	needed.

2000-07-07  Eskil Heyn Olsen  <eskil@eazel.com>

	* components/services/install/server/.cvsignore:
	* nautilus-installer/src/.cvsignore:
	* .cvsignore:
	* components/services/install/command-line/.cvsignore:
	Less noise on cvs update.
	
	* components/rpmview/nautilus-rpm-view-install.c:
	(nautilus_rpm_view_install_progress_signal):
	*
	components/services/install/command-line/eazel-alt-install-corba.c:
	(eazel_install_progress_signal):
	* components/services/install/idl/trilobite-eazel-install.idl:
	* components/services/install/lib/eazel-install-corba-callback.c:
	(impl_install_progress),
	(gtk_marshal_NONE__POINTER_INT_INT_INT_INT_INT_INT),
	(eazel_install_callback_class_initialize):
	* components/services/install/lib/eazel-install-corba-callback.h:
	* components/services/install/lib/eazel-install-object.c:
	(eazel_install_class_initialize),
	(eazel_install_emit_install_progress),
	(eazel_install_emit_install_progress_default):
	* components/services/install/lib/eazel-install-private.h:
	* components/services/install/lib/eazel-install-public.h:
	* components/services/install/lib/eazel-install-rpm-glue.c:
	(rpm_show_progress), (do_rpm_install):
	Fixed bug 1603, install_progress now reports package
	numnber/total, package size completed/total, total install size
	completed/total.
	
2000-07-07  Eskil Heyn Olsen  <eskil@eazel.com>

	* components/services/install/command-line/genpkg_list.example:
	Represents the july 5th milestone.
	
	(create_default_metadata):	
	* components/services/install/lib/eazel-install-rpm-glue.c:
	(rpm_show_progress), (do_rpm_install),	
	(eazel_install_fetch_rpm_dependencies):
	Added some FIXME's. Fixed a horrible mem bug. It now leaks, but
	rpm install works. 
	
	* components/services/install/lib/eazel-install-xml-package-list.c:
	(parse_package):
	Added a check so the strtol isn't a risk anymore
	
	* components/services/trilobite/idl/trilobite-service.idl:
	Added the interface for the password query hell.
	
	* components/services/trilobite/libtrilobite/Makefile.am:
	*
	components/services/trilobite/libtrilobite/trilobite-service-passwo
	rdquery-private.h:
	*
	components/services/trilobite/libtrilobite/trilobite-service-passwo
	rdquery-public.h:
	*
	components/services/trilobite/libtrilobite/trilobite-service-passwo
	rdquery.c: (trilobite_passwordquery_get_epv),
	(trilobite_passwordquery_destroy),
	(trilobite_passwordquery_set_arg),
	(trilobite_passwordquery_class_initialize),
	(trilobite_passwordquery_construct),
	(trilobite_passwordquery_create_corba_object),
	(trilobite_passwordquery_initialize),
	(trilobite_passwordquery_get_type), (trilobite_passwordquery_new):
	Did the initial passwordquery corba object by cp & s/x/y/ on
	trilobite-service*[ch].
	
	* data/emblems/Makefile.am:
	removed personal.png from _DATA, as it does not exists
	
	* icons/Makefile.am:
	removed emblem-personal.svg
	
	* icons/vector/Makefile.am:
	icons/Makefile.am
	
	* nautilus-installer/src/Makefile:
	* nautilus-installer/src/installer.c: (eazel_install_progress),
	(make_dirs), (installer):
	Now creates the /var/eazel/services dir. Sets the proper flags for
	the install object and again prints the package name during
	progress display.
	
	* nautilus-installer/src/interface.c: (create_window):
	Fiddled with the layout, everything doesn't jump around anymore,
	just a few things.
	
	* nautilus-installer/src/prescript:
	Inc'ed the version to 0.1d

2000-07-07  Andy Hertzfeld  <andy@eazel.com>

	* data/emblems/Makefile.am:
	* icons/Makefile.am:
	* icons/emblem-draft.svg:
	* icons/emblem-favorite.svg:
	* data/emblems/draft.png:
	* data/emblems/favorite.png:
	added, removed and updated emblems as first step of emblem
	clean-up; more changes coming soon.
	
2000-07-07  Darin Adler  <darin@eazel.com>

	* components/music/main.c: (music_view_make_object), (main):
	* components/services/install/nautilus-view/main.c: (main):
	Got rid of unneeded CORBA_Environment variable.

	* components/services/install/nautilus-view/nautilus-service-install-view.oafinfo:
	Fixed a typo that was making the view not work.
	
	* src/nautilus-applicable-views.c: (got_file_info_callback):
	Reformatted.
	
	* src/nautilus-window-manage-views.c:
	(nautilus_window_update_state): Added a FIXME for a place where an
	error happens and it's not reported.

	* src/nautilus-application.c: (nautilus_application_startup):
	Fixed a double-destroy problem with the CORBA object I just added.

2000-07-07  J Shane Culpepper  <pepper@eazel.com>

	* components/services/install/Makefile.am:
	* components/services/install/nautilus-view/.cvsignore:
	* components/services/install/nautilus-view/Makefile.am:
	* components/services/install/nautilus-view/main.c:
	(service_install_object_destroyed), (service_install_make_object),
	(main):
	* components/services/install/nautilus-view/nautilus-service-install-view.c:
	(generate_install_form), (generate_form_title),
	(nautilus_service_install_view_initialize_class),
	(nautilus_service_install_view_initialize),
	(nautilus_service_install_view_destroy),
	(nautilus_service_install_view_get_nautilus_view),
	(nautilus_service_install_view_load_uri),
	(service_install_load_location_callback):
	* components/services/install/nautilus-view/nautilus-service-install-view.h:
	* components/services/install/nautilus-view/nautilus-service-install-view.oafinfo:
	* components/services/install/nautilus-view/nautilus-service-install.c:
	(nautilus_service_install_download_progress_signal),
	(nautilus_service_install_progress_signal),
	(nautilus_service_install_download_failed),
	(nautilus_service_install_failed_helper),
	(nautilus_service_install_failed),
	(nautilus_service_install_dependency_check),
	(nautilus_service_install_done),
	(nautilus_service_install_view_install_package_callback),
	(nautilus_service_install_view_uninstall_package_callback):
	* components/services/install/nautilus-view/nautilus-service-install.h:

	Adding the skeleton for the eazel install view.

2000-07-07  Darin Adler  <darin@eazel.com>

	* components/hardware/nautilus-hardware-view.oafinfo:
	* components/help/help-contents.oafinfo:
	* components/help/help-index.oafinfo:
	* components/help/help-search.oafinfo:
	* components/history/nautilus-history-view.oafinfo:
	* components/html/ntl-web-browser.oafinfo:
	* components/loser/content/nautilus-content-loser.oafinfo:
	* components/loser/sidebar/nautilus-sidebar-loser.oafinfo:
	* components/mozilla/nautilus-mozilla-content-view.oafinfo:
	* components/music/nautilus-music-view.oafinfo:
	* components/notes/nautilus-notes.oafinfo:
	* components/rpmview/nautilus-rpm-view.oafinfo:
	* components/sample/nautilus-sample-content-view.oafinfo:
	* components/services/inventory/nautilus-view/nautilus-inventory-view.oafinfo:
	* components/services/login/nautilus-view/nautilus-login-view.oafinfo:
	* components/services/startup/nautilus-view/nautilus-service-startup-view.oafinfo:
	* components/services/summary/nautilus-view/nautilus-summary-view.oafinfo:
	* components/services/time/nautilus-view/trilobite-eazel-time-view.oafinfo:
	* components/services/trilobite/sample/nautilus-view/nautilus-sample-service-view.oafinfo:
	* components/shell/shell.oafinfo:
	* components/tree/nautilus-tree-view.oafinfo:
	* components/websearch/ntl-web-search.oafinfo:
	Removed the obsolete Nautilus/ContentView and Nautilus/MetaView.

	* components/services/install/command-line/.cvsignore:
	Added a generated file.
	
	* libnautilus-extensions/nautilus-directory-async.c:
	(metafile_read_done), (allow_metafile),
	(nautilus_directory_request_read_metafile): Another quick cut at
	leaving out metafiles for some schemes.
	(dequeue_pending_idle_callback): Get rid of "pending file info is
	NULL!" message and "approve" the change that made Maciej put it
	in.
	
	* libnautilus/nautilus-view.c: (nautilus_uri_list_from_g_list):
	Use CORBA_TRUE to truly use CORBA correctly.
	
	* src/nautilus-shell-interface.idl:
	* src/.cvsignore:
	* src/Makefile.am:
	* src/nautilus.oafinfo:
	* src/nautilus-shell.h:
	* src/nautilus-shell.c: (nautilus_shell_initialize_class),
	(nautilus_shell_get_epv), (nautilus_shell_get_vepv),
	(nautilus_shell_create_servant), (nautilus_shell_initialize),
	(destroy), (nautilus_shell_new), (display_caveat),
	(display_caveat_first_time), (open_window), (corba_open_windows),
	(corba_open_default_window), (corba_manage_desktop): Added a new
	CORBA file for the interface of the Nautilus shell itself and a
	class for a server side of it. Moved some code in here from
	NautilusApplication.
	
	* src/nautilus-application.c: (manufactures), (create_object),
	(create_factory), (nautilus_application_initialize),
	(nautilus_strv_length), (nautilus_make_uri_list_from_strv),
	(nautilus_application_startup): Moved the IID strings into
	constants for easier code reading. Added the code that can yield
	up the shell object, although it's not used yet. Changed startup
	code to use the NautilusShell object to do the work. This doesn't
	work cross-process yet, but it's ready to.
	
	* src/nautilus-window.h:
	* src/nautilus-window.c: (nautilus_window_initialize_class),
	(nautilus_window_initialize), (goto_uri_callback),
	(navigation_bar_mode_changed_callback),
	(nautilus_window_constructed), (nautilus_window_destroy),
	(nautilus_window_realize): Misc. cleanup, including getting rid of
	the strange old way of doing parent_class.
	
2000-07-07  Pavel Cisler <pavel@eazel.com>

	* libnautilus-extensions/nautilus-drag.c:
	(nautilus_drag_default_drop_action),
	(nautilus_drag_drop_action_ask):
	Clean fix up action handling - respect suggested actions, handle
	actions better if they are different than GDK_ACTION_COPY and GDK_ACTION_MOVE.

	* libnautilus-extensions/nautilus-drag.c:
	(nautilus_drag_default_drop_action):
	Fix a crash in the new drop context menu when Cancel gets selected.
	
	* libnautilus-extensions/nautilus-drag.h:
	* libnautilus-extensions/nautilus-icon-container.c:
	(start_stretching), (button_release_event), (motion_notify_event),
	(show_context_menu_callback), (handle_icon_button_press):
	* libnautilus-extensions/nautilus-icon-dnd.c:
	(nautilus_icon_container_receive_dropped_icons),
	(nautilus_icon_container_get_drop_action):
	* libnautilus-extensions/nautilus-icon-private.h:
	Fix 1551 - Make drop context menu show up when drag started with
	right click. Turned out to be a bit harder than estimated.
	To do this I made the right-click context menu come up with a slight
	delay - a drag may be started if the mouse is moved before the delay
	expires.
	Renamed and reworked the click/drag state machine a bit.

2000-07-07  Ali Abdin  <aliabdin@aucegypt.edu>

	* components/html/ntl-web-browser.c:
	(main) Ack! The gtkhtml crew just removed gtkhtmllib_init - Reverting
	my change (must read cvs-commits before commiting)

2000-07-07  Ali Abdin  <aliabdin@aucegypt.edu>

	* components/html/ntl-web-browser.c:
	(main) Add gtkhtmllib_init to make gtkhtml work again (it still needs
	 a lot of love though but at least not it works)

2000-07-07  Andy Hertzfeld  <andy@eazel.com>

	* libnautilus-extensions/nautilus-icon-factory.c:
	(load_specific_image), (nautilus_icon_factory_make_thumbnails):
	made it load custom icons for remote files, by using nautilus_gdk_pixbuf_load
	instead of gdk_pixbuf_new_from_file in load_specific_image.  Also, made 
	thumbnailing of svg files work by testing for the case and handling it in make_thumbnails.
	
2000-07-06  Andy Hertzfeld  <andy@eazel.com>

	* src/nautilus-property-browser.c: (make_drag_image),
	(make_color_label), (make_properties_from_xml_node):
	made the color properties have a label like Susan's design plus
	miscellaneous clean-ups
	
2000-07-06  Gene Z. Ragan  <gzr@eazel.com>
	
	Fixed bug 1571, Need titles in history list instead
	of just URIs.

	This was a result of sharing the NautilusWindow history list
	information over CORBA.

	* libnautilus/nautilus-view-component.idl:
	Create new interface, Nautilus::HistoryFrame
	Interface has method to get a sequence of 
	history information.  This sequence contains
	structs that contain uri and name history 
	information.

	* src/Makefile.am:
	Added new file, NautilusHistoryFrame.c, to makefile.
	 
	* src/nautilus-history-frame.c:
	* src/nautilus-history-frame.h:
	(impl_Nautilus_HistoryFrame__destroy),
	(impl_Nautilus_HistoryFrame__create),
	(impl_Nautilus_HistoryFrame_get_history_list):
	New files that implements the functionality of the 
	Nautilus::HistoryFrame.

	* components/history/nautilus-history-view.c:
	(get_bookmark_from_row), (get_uri_from_row),
	(history_view_frame_call_begin), (history_view_frame_call_end),
	(history_view_update_icons), (get_history_list),
	(hyperbola_navigation_history_load_location),
	(hyperbola_navigation_history_select_row), (do_destroy),
	(make_obj), (main):
	Changes in the way that the history list is maintained.
	We now use the info that is received by asking the view frame
	for history information.
		
	* src/nautilus-view-frame.c:
	* src/nautilus-view-frame.h:
	(nautilus_view_frame_initialize_class),
	(nautilus_view_frame_load_client),
	(nautilus_view_frame_get_history_list):
	Added new signal GET_HISTORY_LIST and new
	function that emits the signal when called.

	* src/nautilus-window.c:
	(nautilus_window_connect_view):
	Create and add history interface to connected view.
	
	(nautilus_window_get_history_list_callback):
	New signal handler that connects to the get_history_list
	signal of NautilusViewFrame.  Returns a Nautilus_HistoryList
	created from the history list data.
	
2000-07-06  Michael Engber  <engber@eazel.com>

	* src/nautilus-window.c: (nautilus_window_class_init):
	Added fixme for redundant parent_class slot (pavel's
	request since we puzzled over this for some time)

2000-07-06  Pavel Cisler  <pavel@eazel.com>

	* libnautilus-extensions/nautilus-icon-dnd.c:
	(nautilus_icon_container_get_drop_action):
	Fix a problem that I introduced with my recent change to 
	drag&drop - colors, background images, etc would no longet
	get accepted in the icon view.
	Made nautilus_icon_container_get_drop_action only check
	the selection list and the drop target if the dragged data
	is a file operation drag&drop.

2000-07-06  Andy Hertzfeld  <andy@eazel.com>

	* src/nautilus-sidebar-tabs.c: (nautilus_sidebar_tabs_remove_view):
	fixed long-standing bug where sidebar tabs would invoke the
	wrong views, by decrementing subsequent indexes when a panel is
	removed.
	* src/nautilus-sidebar.c: (nautilus_sidebar_initialize),
	(nautilus_sidebar_activate_panel),
	(nautilus_sidebar_deactivate_panel),
	(nautilus_sidebar_update_buttons):
	fixed problem of sidebar views changing their position as you
	navigate, and also gave them more space, by hiding the title
	info when a sidebar view is showing, allowing them to take up
	the entire space of the sidebar.
	* libnautilus-extensions/nautilus-horizontal-splitter.c:
	reduced the slop threshold and time threshold for toggling the
	sidebar so it doesn't happen accidentally
	* icons/backgrounds.png:
	* icons/colors.png:
	* icons/emblems.png:
	new images from Susan
	
2000-07-06  Michael Engber  <engber@eazel.com>

	* src/nautilus-zoom-control.c: (nautilus_zoom_control_destroy):
	NULL out preferred_zoom_levels in the destroy method (after
	freeing them) in case someone looks at them before finalize.

2000-07-05  Robin * Slomkowski <rslomkow@eazel.com>

	* nautilus.spec.in: removed refernce to some *.svg files
	and changed the dependancies

2000-07-05  Pavel Cisler  <pavel@eazel.com>

	* libnautilus-extensions/nautilus-list.c:
	(nautilus_list_initialize_class), (nautilus_list_button_press),
	(nautilus_list_button_release), (nautilus_list_drag_start):
	* libnautilus-extensions/nautilus-list.h:
	* src/file-manager/fm-list-view.c: (fm_list_drag_data_get),
	(fm_list_get_drag_pixmap), (create_list):
	Fixed 1095 - need to draw dragged icon when dragging from list view.

	* libnautilus-extensions/nautilus-gtk-extensions.c:
	* libnautilus-extensions/nautilus-gtk-extensions.h:
	(nautilus_gtk_marshal_NONE__POINTER_INT_POINTER_POINTER):
	I swore the next time I need a new marshaling function, I'll 
	set Nautilus to auto-generate them like the gtk build and here
	I am adding another one manually.

2000-07-05  Maciej Stachowiak  <mjs@eazel.com>

	* libnautilus-extensions/nautilus-search-async.c: include
	<libmedusa/medusa-search-service-private.h> until I change this to
	use the new API.

2000-07-05  Eskil Heyn Olsen  <eskil@eazel.com>

	* po/POTFILES.in:
	Removed ntl-web-search.c since it's no longer in the codebase.
	
	* components/rpmview/nautilus-rpm-view-install.c:
	(nautilus_rpm_view_install_package_callback):
	Fixed bug... eh, some number.
	
	* components/services/install/command-line/Makefile.am:
	* components/services/install/command-line/eazel-alt-install-corba.c:
	(set_parameters_from_command_line), (main):
	* components/services/install/command-line/eazel-gen-xml.c: (main):
	* components/services/install/command-line/eazel-uninstall.c:
	(uninstall_failed):
	* components/services/install/idl/trilobite-eazel-install.idl:
	* components/services/install/lib/eazel-install-corba-callback.c:
	(impl_dep_check), (impl_install_progress),
	(impl_uninstall_progress), (impl_install_failed),
	(impl_uninstall_failed), (eazel_install_callback_query):
	* components/services/install/lib/eazel-install-corba-types.c:
	(corba_packagedatastruct_from_packagedata),
	(packagedata_from_corba_packagedatastruct),
	(corba_category_list_from_categorydata_list),
	(categorydata_list_from_corba_categorystructlist),
	(xmlnode_from_packageData), (xml_from_packagedata):
	* components/services/install/lib/eazel-install-corba-types.h:
	* components/services/install/lib/eazel-install-corba.c:
	(impl_Eazel_Install_uninstall_packages),
	(impl_Eazel_Install_query), (eazel_install_get_epv):
	* components/services/install/lib/eazel-install-object.c:
	(eazel_install_class_initialize),
	(eazel_install_emit_install_progress_default),
	(eazel_install_emit_install_failed_default),
	(eazel_install_emit_uninstall_failed_default),
	(eazel_install_emit_dependency_check_default):
	* components/services/install/lib/eazel-install-protocols.c:
	(eazel_install_fetch_package):
	* components/services/install/lib/eazel-install-query.c:
	(eazel_install_simple_query):
	* components/services/install/lib/eazel-install-query.h:
	* components/services/install/lib/eazel-install-rpm-glue.c:
	(install_new_packages), (download_all_packages),
	(uninstall_packages), (do_rpm_install),
	(eazel_install_load_rpm_headers), (eazel_install_free_rpm_system),
	(eazel_install_prepare_rpm_system),
	(eazel_install_fetch_rpm_dependencies), (print_package_list),
	(eazel_install_do_dependency_check), (eazel_install_ensure_deps),
	(eazel_uninstall_upward_traverse),
	(eazel_uninstall_downward_traverse), (eazel_uninstall_globber):
	* components/services/install/lib/eazel-install-types.c:
	(packagedata_destroy_foreach), (rpmname_from_packagedata),
	(packagedata_equal), (packagedata_status_enum_to_str),
	(packagedata_status_str_to_enum):
	* components/services/install/lib/eazel-install-types.h:
	* components/services/install/lib/eazel-install-xml-package-list.c:
	(parse_package), (parse_category), (parse_shared),
	(parse_memory_xml_package_list), (parse_local_xml_package_list):
	* components/services/install/lib/eazel-install-xml-package-list.h:

	Muy work. Worked around orbit-idl's shortcommings, by packing the
	dependency trees for the (un)install_failed callbacks into
	xml. Uninstall now does the upwards traversel to detect packages
	that will break. Still not the downwards though. Installing a
	packge using the filename no longer results in a query for the
	file to the server, although we still download all missing deps.

	Most of the corbafication stuff is done.
	
	* nautilus-installer/src/Makefile:
	* nautilus-installer/src/installer.c: (installer):

	Compiles again. 

2000-07-05  Darin Adler  <darin@eazel.com>

	* components/services/trilobite/sample/service/.cvsignore:
	Stop ignoring some no-longer-generated files.

2000-07-05  Darin Adler  <darin@eazel.com>

	* check-headers-in-Makefile.pl: Wrote a script to check that the
	Makefile.am file matches what's actually in the directories.
	
	* components/html/main.c: Obsolete file.
	* components/services/time/command-line/Makefile.am: Removed
	mention of nonexistent trilobite-eazel-sample-service-common.c.
	* components/services/time/nautilus-view/Makefile.am: Removed
	mention of nonexistent trilobite-eazel-sample-service-common.c.
	* libnautilus-extensions/nautilus-icon-grid.c: Obsolete file.
	* libnautilus-extensions/nautilus-icon-grid.h: Obsolete	file.
	* nautilus-installer/src/Makefile.am: Fixed typo; it said
	"installer h" instead of "installer.h".
	* src/Makefile.am: Added nautilus-search-bar-private.h.
	* src/file-manager/fm-directory-list.h: Obsolete file.

2000-07-05  Ramiro Estrugo  <ramiro@eazel.com>

	* libnautilus-extensions/nautilus-user-level-manager.c:
	(user_level_manager_new):
	Initialize gconf if needed right before creating a gconf_client.
	
	* src/nautilus-first-time-druid.c: (user_level_selection_changed),
	(set_up_user_level_page):
	Set the user level when toggled by the user.  Also make sure the
	initiali user level is correct.
	
2000-07-05  Andy Hertzfeld  <andy@eazel.com>

	* src/nautilus-first-time-druid.c: (druid_finished),
	(nautilus_first_time_druid_show):
	made it launch services sign-up on "finish" if the
	user selected that.
	* src/nautilus-sidebar-title.c: (update_icon):
	At Susan request, used a larger icon in the sidebar
	
2000-07-05  Darin Adler  <darin@eazel.com>

	* components/music/nautilus-music-view.c: (fetch_play_time):
	Fix a divide-by-zero problem.
	(play_status_display), (slider_moved_callback),
	(slider_release_callback): Added FIXMEs at other possible
	divide-by-zero problems where I am less sure what the solution is.
	* libnautilus-extensions/nautilus-directory-async.c:
	(allow_metafile), (nautilus_directory_request_read_metafile),
	(nautilus_directory_request_write_metafile): Disable metafile
	reading and writing for "pipe:" URIs for now. This turns off the
	creation of alternate metafiles too. Hope this turns out to be
	good.
	(start_monitoring_file_list): Fixed a wrong assert.
	* libnautilus-extensions/nautilus-gnome-extensions.c:
	(nautilus_gnome_canvas_fill_with_gradient): Fixed a divide by zero
	bug in here.
	* src/file-manager/fm-icon-view.c: (fm_icon_view_destroy),
	(directory_view_font_family_changed_callback),
	(fm_icon_view_initialize): Changed spelling of "familiy" to the more
	standard "family".
	* src/nautilus-application.c: (nautilus_application_startup): Put
	in some more verbose detailed error messages; we'll have to do more
	iteration on these.

2000-07-05  Andy Hertzfeld  <andy@eazel.com>

	* libnautilus-extensions/nautilus-icon-factory.c,h:
	(nautilus_icon_factory_get_pixbuf_for_file),
	(nautilus_icon_factory_get_pixmap_and_mask_for_file):
	added modifier parameter to icon factory high level routines
	* components/tree/nautilus-tree-view.c:
	(nautilus_tree_view_insert_file):
	added extra parameter to get_pixmap call
	* src/file-manager/fm-list-view.c: (install_row_images):
	added extra parameter to get_pixmap call
	* src/file-manager/fm-properties-window.c:
	(get_pixmap_and_mask_for_properties_window):
	added extra parameter to get_pixmap call
	* icons/eazel/Makefile.am:
	* icons/eazel/i-directory-accept.svg:
	removed the .svg open folder, added bitmap ones
	changed the folder icons in eazel theme to Susan's new one
	* src/nautilus-sidebar-title.c: (update_icon):
	use the open folder in the sidebar
	
2000-07-05  Ramiro Estrugo  <ramiro@eazel.com>

	* libnautilus-extensions/nautilus-global-preferences.c:
	(global_preferences_get_sidebar_panel_view_identifiers):
	Remove an obsolete FIXME.
	
2000-07-05  Ramiro Estrugo  <ramiro@eazel.com>

	* libnautilus-extensions/nautilus-icon-container.c,
	* libnautilus-extensions/nautilus-icon-container.h:
	(destroy), (nautilus_icon_container_initialize),
	(nautilus_icon_container_new),
	(nautilus_icon_container_set_label_font_for_zoom_level),
	(nautilus_icon_container_set_single_click_mode):
	Implement missing set_single_click_mode function.

	Its up to users of this widget to setup click policy and other
	attributes. We shouldnt peek/poke nautilus specific preferences
	in the icon container widget.
	
	* libnautilus-extensions/nautilus-list.c:
	* libnautilus-extensions/nautilus-list.h,
	(nautilus_list_set_single_click_mode), (nautilus_list_initialize),
	(nautilus_list_destroy), (nautilus_list_clear):
	Implement missing set_single_click_mode function.

	Its up to users of this widget to setup click policy and other
	attributes. We shouldnt peek/poke nautilus specific preferences
	in the list widget.
	
	* src/file-manager/fm-icon-view.c: (fm_icon_view_destroy),
	(text_attribute_names_changed_callback),
	(click_policy_changed_callback),
	(anti_aliased_mode_changed_callback), (fm_icon_view_initialize),
	(fm_icon_view_update_click_mode),
	(fm_icon_view_update_anti_aliased_mode), (create_icon_container):
	Keep track of changes in preferences that affect the icon
	container and update it when needed.

	* src/file-manager/fm-list-view.c: (fm_list_view_initialize_class),
	(fm_list_view_initialize), (fm_list_view_destroy), (create_list),
	(update_icons), (fm_list_view_update_click_mode),
	(click_policy_changed_callback):
	Keep track of changes in preferences that affect the list and
	update it when needed.

2000-07-05  Ramiro Estrugo  <ramiro@eazel.com>

	* libnautilus-extensions/nautilus-icon-container.c,
	* libnautilus-extensions/nautilus-icon-container.h:
	(nautilus_icon_container_set_label_font_for_zoom_level):
	New function to set the font for a zoom level.

	(nautilus_icon_container_initialize),
	Initialize to fonts to a well known font.  Dont look at font
	preferences here.  Fonts should be suppied by the icon container
	user. 

	* src/file-manager/fm-icon-view.c: 
	(fm_icon_view_update_icon_container_fonts),
	New function to update the icon container's zoom level specific
	fonts.
	
	(directory_view_font_family_changed_callback),
	(fm_icon_view_initialize),
	(fm_icon_view_destroy),
	Keep track of font family preference changes and update the icon
	container fonts as needed.
	
	(create_icon_container):
	Update the fonts for the first time when the icon container is
	created. 
	
2000-07-05  Ramiro Estrugo  <ramiro@eazel.com>

	* libnautilus-extensions/nautilus-string-picker.c:
	(nautilus_string_picker_initialize_class),
	(nautilus_string_picker_initialize),
	(nautilus_string_picker_destroy), (option_menu_activate_callback),
	(nautilus_string_picker_set_string_list),
	(nautilus_string_picker_get_text),
	(nautilus_string_picker_set_text):
	* libnautilus-extensions/nautilus-string-picker.h:
	Changed string picker to use option menus instead of combo boxes.
	
	* test/test-nautilus-widgets.c: (test_string_picker),
	(string_picker_changed_callback):
	Changed widget test program to exercise more string picker
	functions. 
	
2000-07-05  Ramiro Estrugo  <ramiro@eazel.com>

	* components/services/install/command-line/.cvsignore:
	Ignore generated files.
	
2000-07-05  Ramiro Estrugo  <ramiro@eazel.com>

	* libnautilus-extensions/test-nautilus-preferences.c:
	* libnautilus-extensions/test-nautilus-widgets.c:
	* libnautilus-extensions/test-preferences.c:
	Moved widgets and preferences test to nautilus/test.
	
	* test/.cvsignore:
	* test/Makefile.am:
	* test/test-nautilus-preferences.c: (main),
	(test_preferences_item), (test_preferences_group),
	(create_enum_item), (register_global_preferences):
	* test/test-nautilus-widgets.c: (main), (test_radio_group),
	(test_caption_table), (test_string_picker), (test_text_caption),
	(test_authenticate_boink_callback),
	(string_picker_changed_callback), (text_caption_changed_callback),
	(test_password_dialog), (test_radio_changed_callback),
	(test_caption_table_activate_callback):
	Ressurect my widgets/preferences test over here.  They got whacked
	in the nautilus-widgets -> libnautilus-extensions renamings.
	
2000-07-05  Ramiro Estrugo  <ramiro@eazel.com>

	* libnautilus-extensions/nautilus-directory.c:
	(construct_alternate_metafile_uri):
	* libnautilus-extensions/nautilus-file-utilities.c:
	(nautilus_make_path), (nautilus_get_user_directory),
	(nautilus_get_desktop_directory),
	(nautilus_get_user_main_directory),
	(nautilus_get_pixmap_directory):
	* libnautilus-extensions/nautilus-file-utilities.h:
	* libnautilus-extensions/nautilus-global-preferences.c:
	(global_preferences_register_for_ui):
	* libnautilus-extensions/nautilus-icon-factory.c:
	(get_themed_icon_file_path):
	* libnautilus-extensions/nautilus-preferences-item.c:
	(add_icon_themes):
	* src/file-manager/fm-properties-window.c: (get_property_names):
	* src/nautilus-application.c:
	(nautilus_application_check_user_directories):
	* src/nautilus-bookmark-list.c:
	(nautilus_bookmark_list_get_file_path):
	* src/nautilus-desktop-window.c: (nautilus_desktop_window_new):
	* src/nautilus-first-time-druid.c: (druid_finished):
	* src/nautilus-property-browser.c:
	(nautilus_property_browser_drag_data_get), (make_drag_image),
	(remove_color), (remove_background), (remove_emblem),
	(get_xml_path), (add_background_to_browser), (add_color_to_file),
	(emblem_dialog_clicked), (make_properties_from_directory):
	Change file utilities special directory access functions to always
	return allocated strings.  Change all callers to match the new
	functions and free the results.

	Also change the file utilities functions to always create the
	special directories if needed.
	
2000-07-05  Ramiro Estrugo  <ramiro@eazel.com>

	* libnautilus-extensions/nautilus-global-preferences.c:
	(compare_view_identifiers), (global_preferences_create_dialog):
	Sort the sidebar panel names.
	
2000-07-05  Ramiro Estrugo  <ramiro@eazel.com>

	* components/Makefile.am:
	Dont install the currently broken components (websearch)
	
	* components/help/Makefile.am:
	* components/help/help-contents.oafinfo:
	* components/help/help-factory.oafinfo:
	* components/help/help-index.oafinfo:
	* components/help/help-search.oafinfo:
	* components/help/hyperbola.oafinfo:
	Split the oafinfo for help components into pieces so we can
	control which get intalled and which dont (like the broken onces)

	* configure.in:
	Fix a small dumb typo.
	
2000-07-05  J Shane Culpepper  <pepper@eazel.com>

	* components/services/startup/nautilus-view/nautilus-service-startup-view.c:
	(generate_startup_form):
	More changes to the progress meter.

2000-07-05  Pavel Cisler <pavel@eazel.com>

	* libnautilus-extensions/nautilus-drag.c:
	(nautilus_drag_modifier_based_action),
	(nautilus_drag_drop_action_ask):
	* libnautilus-extensions/nautilus-drag.h:
	* libnautilus-extensions/nautilus-icon-container.c:
	(motion_notify_event):
	* libnautilus-extensions/nautilus-icon-dnd.c:
	(nautilus_icon_container_receive_dropped_icons),
	(nautilus_icon_dnd_init):
	* libnautilus-extensions/nautilus-list.c:
	(nautilus_list_initialize), (nautilus_list_drag_start):
	* src/file-manager/fm-list-view.c: (fm_list_handle_dropped_icons):
	Did most of bug 1371:
	Implemented a drop context menu that allows users to choose between
	Copy, Move and link.
	Added the GDK_ACTION_ASK selector and added support for it.

2000-07-04  Andy Hertzfeld  <andy@eazel.com>

	First cut at the first-time preferences druid.  It's still
	not hooked-up yet, and it's appearance needs some work.
	
	* libnautilus-extensions/nautilus-file-utilities.c,h:
	(nautilus_user_main_directory_exists):
	added routine to test if the user main directory has been created
	* src/nautilus-application.c: (nautilus_application_startup):
	if the user main directory hasn't been created yet, run the
	first time druid instead of showing a Nautilus window.
	* src/Makefile.am:
	added new files: nautilus-first-time-druid.c and .h
	* src/nautilus-first-time-druid.c,h: (druid_cancel),
	(druid_finished), (set_up_background),
	(user_level_selection_changed), (signup_selection_changed),
	(set_up_user_level_page), (set_up_service_signup_page),
	(nautilus_first_time_druid_show):
	new, first-time druid asks for user level and service signup.
	
2000-07-04  J Shane Culpepper  <pepper@eazel.com>

	* components/services/startup/nautilus-view/nautilus-service-startup-view.c:
	(generate_startup_form), (show_feedback),
	(generate_form_title), (service_load_location_callback):
	More work on the progress meter for bootstraping and various ui
	enhancements.

2000-07-04  Pavel Cisler <pavel@eazel.com>

	* src/file-manager/dfos-xfer.c: (new_folder_xfer_callback):
	Fix 1042 - "untitled folder" will not work on file systems with
	8.3 names. Added code that handles GNOME_VFS_ERROR_NAME_TOO_LONG
	and supplies a name in the 8.3 scheme instead.
	
2000-07-04  Pavel Cisler <pavel@eazel.com>

	* src/file-manager/dfos-xfer-progress-dialog.c:
	* src/file-manager/dfos-xfer-progress-dialog.h:
	(handle_xfer_ok),
	(fs_xfer), (fs_move_to_trash), (fs_delete), (fs_empty_trash):
	* src/file-manager/dfos-xfer-progress-dialog.c:
	(dfos_xfer_progress_dialog_clear):
	Fixed 1215 - inter-volume move now removes the source files.
	Made it so that when an inter-volume copy has ended and source files
	are removed, the progress dialog updates. Added a new cleanup phase
	string.

	* src/file-manager/dfos-xfer-progress-dialog.c:
	(dfos_xfer_progress_dialog_new_file),
	(set_text_unescaped_trimmed):
	Added code to unescape paths in progress dialogs.
	
	* src/file-manager/dfos-xfer.c:
	* src/file-manager/dfos-xfer.h:
	(nautilus_convert_to_unescaped_string_for_display),
	(handle_xfer_vfs_error), (handle_xfer_overwrite):
	Added code to unescape paths in error dialogs.
	
	* libnautilus-extensions/nautilus-drag.c:
	(nautilus_drag_default_drop_action),
	(nautilus_drag_modifier_based_action):
	* libnautilus-extensions/nautilus-drag.h:
	* libnautilus-extensions/nautilus-icon-dnd.c:
	(handle_nonlocal_move), (nautilus_icon_container_find_drop_target),
	(nautilus_icon_container_receive_dropped_icons),
	(nautilus_icon_container_get_drop_action), (drag_motion_callback):
	* libnautilus-extensions/nautilus-list.c:
	(nautilus_list_drag_motion):
	Reworked a whole lot to allow me to update the default copy action
	based on the drag&drop context - an inter-volume drag&drop will now
	suggest a copy as a default.
	Moved out more sharable code into nautilus-drag.c.
	Added a common routine for figuring out the drop target.
	
	* src/file-manager/fm-directory-view.c: (fm_directory_is_trash),
	(fm_directory_can_move_to_trash):
	Fixed a bunch of asserts caused by unreffing NULL uris.

2000-07-04  Michael Meeks  <michael@helixcode.com>

	* libnautilus-extensions/bonobo-stream-vfs.c (vfs_read): update
	for new bonobo code; why is this code duplicated here in a worse
	condition to that in Bonobo/storage-modules ?

2000-07-04  J Shane Culpepper  <pepper@eazel.com>

	* components/services/startup/nautilus-view/icons/Makefile.am:
	components/services/startup/nautilus-view/nautilus-service-startup-view.c:
	(generate_startup_form), (progress_timeout_cb),
	(go_to_uri), (generate_form_title):

	Added the watch icon and a fake progress meter.  Still need to get
	the progress meter working right and work on the layout.

2000-07-03  Andy Hertzfeld  <andy@eazel.com>

	* src/nautilus-sidebar-tabs.c:
	(nautilus_sidebar_tabs_load_theme_data),
	(nautilus_sidebar_tabs_destroy), (draw_tab_piece),
	(draw_one_tab_themed), (draw_or_hit_test_all_tabs),
	(nautilus_sidebar_tabs_expose):
	more work on the themed tabs in the arlo theme
	* icons/arlo/arlo.xml:
	added more tab_piece rectangles
	
2000-07-03  J Shane Culpepper  <pepper@eazel.com>

	* components/services/login/nautilus-view/nautilus-login-view.c:
	(generate_login_form), (login_button_cb), (maintenance_button_cb),
	(go_to_uri), (generate_form_title):

	Finishing up the new ui for the login screen.  Bug # 1004.

2000-07-03  Maciej Stachowiak  <mjs@eazel.com>

	* components/tree/nautilus-tree-view.c
	(nautilus_tree_view_initialize): Only show scroll bars when needed
	in tree view.

	* components/tree/nautilus-tree-view.c:
	(tree_expand_callback): constness fixes
	(nautilus_tree_view_initialize, tree_select_row_callback):
	Navigate to selected location on row selection.

2000-07-03  Andy Hertzfeld  <andy@eazel.com>

	* src/nautilus-sidebar-tabs.c: (draw_or_hit_test_all_tabs):
	fixed bug where themed tabs weren't stacking correctly.  Fixed by
	using the actual tab height instead of the constant used by the
	default.
	* icons/arlo/sidebar_tab_pieces.png:
	replaced with newer version that has a background and edge piece.
	
2000-07-03  Andy Hertzfeld  <andy@eazel.com>

	* src/nautilus-sidebar-title.c:
	(nautilus_sidebar_title_initialize),
	(nautilus_sidebar_title_destroy), (nautilus_sidebar_title_new),
	(set_widget_color), (nautilus_sidebar_title_theme_changed):
	made the sidebar title text color themable.
	* icons/arlo/arlo.xml:
	made the arlo theme use white text for the sidebar title
	
2000-07-03  Eskil Heyn Olsen  <eskil@eazel.com>

	* components/services/install/lib/Makefile.am:
	Ensuring rpm build

2000-07-03  Seth Nickell  <seth@eazel.com>

	* libnautilus-extensions/nautilus-file.c:
	(nautilus_file_get_permissions_as_string),
	(nautilus_file_is_symbolic_link):
	* libnautilus-extensions/nautilus-icon-factory.c:
	(nautilus_icon_factory_get_icon_name_for_file):
	Necessary to make Nautilus compile after changing 
	GNOME_VFS_FILE_TYPE_BROKEN_SYMLINK to GNOME_VFS_FILE_TYPE_SYMBOLIC_LINK
	and removing the existing flag. See bug 1547 for more information on
	breakages in the way Nautilus handles symbolic links (caused by the
	GnomeVFS changes) such as detecting them in the first place.

2000-07-03  Andy Hertzfeld  <andy@eazel.com>

	* libnautilus-extensions/nautilus-background.c:
	(nautilus_background_draw_aa):
	implemented n-point gradients at Arlo's request.  Right now,
	they are only implemented for anti-aliased mode.
	* icons/arlo/arlo.xml:
	made the sidebar use a 3-point gradient

2000-07-03  Gene Z. Ragan  <gzr@eazel.com>

	* libnautilus-extensions/bonobo-stream-vfs.c:
	(bonobo_stream_vfs_class_init), (create_bonobo_stream_vfs):
	Fixed problem with previous change to this file.  Allocated 
	a static epv.  Assigned this epv to the servants epv and then
	alocated the individual elements in the structure.

2000-07-03  Pavel Cisler <pavel@eazel.com>

	* libnautilus-extensions/nautilus-list.c:
	(nautilus_list_drag_start), (nautilus_list_motion):
	Start adding support for dislaying dragged icon while dragging
	in a list view.

2000-07-02  J Shane Culpepper  <pepper@eazel.com>

	*
	components/services/startup/nautilus-view/nautilus-service-startup-
	view.c:
	*
	components/services/summary/nautilus-view/nautilus-summary-view.c:
	(generate_summary_form), (generate_form_title):

	Making summary view "I am just a view" until I can get the actual
	widget finished.

2000-07-02  Pavel Cisler <pavel@eazel.com>

	* components/help/help-method.c: (convert_file_to_uri):
	Make the help component build properly -- convert the call
	gnome_vfs_mime_type_of_file to the new 
	gnome_vfs_get_file_mime_type.
	
	* components/help/Makefile.am:
	Turn on -Werror that would have caught the problem earlier.


2000-07-02  Andy Hertzfeld  <andy@eazel.com>

	* src/nautilus-sidebar-tabs.c: (parse_rectangle_list),
	(nautilus_sidebar_tabs_load_theme_data),
	(nautilus_sidebar_tabs_initialize),
	(nautilus_sidebar_tabs_destroy), (draw_one_tab_plain),
	(draw_tab_piece), (draw_one_tab_themed),
	(draw_or_hit_test_all_tabs), (nautilus_sidebar_tabs_expose):
	made the sidebar tabs themable and implemented arlo-style tabs
	in the arlo theme.  This isn't finished yet, because I still have
	some details to work out with Arlo.
	* icons/arlo/arlo.xml:
	added sidebar tab stuff to the arlo theme
	* libnautilus-extensions/nautilus-theme.c,h:
	(nautilus_theme_get_image_path):
	added a routine to access themed images
	* src/nautilus-property-browser.c: (make_category_link):
	made it access pixmaps with nautilus_pixmap_file instead of gnome_pixmap_file
	* data/browser.xml:
	removed the "nautilus" from image references
	
2000-07-02  J Shane Culpepper  <pepper@eazel.com>

	* components/services/inventory/lib/.cvsignore:
	* components/services/vault/lib/.cvsignore:

	Fixing cvsignores.  I always forget that.

2000-07-02  J Shane Culpepper  <pepper@eazel.com>

	* components/services/Makefile.am:
	* components/services/login/nautilus-view/nautilus-login-view.c:
	(generate_form_title):
	* components/services/startup/lib/Makefile.am:
	* components/services/startup/lib/eazel-register.c:
	* components/services/startup/lib/eazel-register.h:
	* components/services/startup/nautilus-view/Makefile.am:
	* components/services/startup/nautilus-view/icons/Makefile.am:
	* components/services/startup/nautilus-view/main.c:
	(service_object_destroyed), (service_make_object), (main):
	*
	components/services/startup/nautilus-view/nautilus-service-startup-
	view.c: (generate_startup_form), (go_to_uri),
	(generate_form_title),
	(nautilus_service_startup_view_initialize_class),
	(nautilus_service_startup_view_initialize),
	(nautilus_service_startup_view_destroy),
	(nautilus_service_startup_view_get_nautilus_view), (is_location),
	(nautilus_service_startup_view_load_uri),
	(service_load_location_callback):
	*
	components/services/startup/nautilus-view/nautilus-service-startup-
	view.h:

	Have all of the eazel: views hooked into the build now.  Most of the
	backend parsing of eazel:login, eazel:inventory, eazel:summary,
	eazel:time, eazel:startup.  Most of these views don't look very good.
	That's the next task.

2000-07-01  Maciej Stachowiak  <mjs@eazel.com>

	* components/tree/main.c (main): Remove unnecessary debugging
	statement.
	
	* components/tree/nautilus-tree-view.c
	(nautilus_tree_view_insert_file): Partly fix bugzilla task 1524 -
	show icons in tree view. Still need to

2000-07-01  J Shane Culpepper  <pepper@eazel.com>

	* components/services/install/command-line/.cvsignore:
	* components/services/install/lib/.cvsignore:
	* components/services/login/lib/.cvsignore:
	* components/services/summary/lib/.cvsignore:

	cvsignore fixes.

2000-07-01  J Shane Culpepper  <pepper@eazel.com>

	* components/services/inventory/lib/Makefile.am:
	* components/services/inventory/lib/eazel-inventory-shared.c:
	(add_package_info), (read_proc_info), (add_info), (add_io_info),
	(add_hardware_info), (synchronize_configuration_metafile),
	(update_configuration_metafile), (create_configuration_metafile):
	* components/services/inventory/lib/eazel-inventory-shared.h:
	* components/services/inventory/nautilus-view/Makefile.am:
	*
	components/services/inventory/nautilus-view/nautilus-inventory-view
	.c: (generate_inventory_form), (gather_config_button_cb),
	(register_later_cb), (make_http_post_request), (go_to_uri),
	(get_home_uri), (update_now):

	Moving the inventory view to its new home to make way for the new
	bootstrap startup view.

2000-07-01  J Shane Culpepper  <pepper@eazel.com>

	* components/services/inventory/nautilus-view/Makefile.am:
	* components/services/inventory/nautilus-view/main.c:
	(inventory_object_destroyed), (inventory_make_object), (main):
	*
	components/services/inventory/nautilus-view/nautilus-inventory-view
	.c: (generate_inventory_form), (entry_changed_cb),
	(inventory_button_cb), (maintenance_button_cb), (show_feedback),
	(generate_form_title), (nautilus_inventory_view_initialize_class),
	(nautilus_inventory_view_initialize),
	(nautilus_inventory_view_destroy),
	(nautilus_inventory_view_get_nautilus_view),
	(nautilus_inventory_view_load_uri),
	(inventory_load_location_callback):
	*
	components/services/inventory/nautilus-view/nautilus-inventory-view
	.h:
	*
	components/services/inventory/nautilus-view/nautilus-inventory-view
	.oafinfo:
	* components/services/login/nautilus-view/Makefile.am:
	* components/services/login/nautilus-view/main.c:
	(login_make_object):
	* components/services/summary/nautilus-view/Makefile.am:
	* components/services/summary/nautilus-view/main.c:
	(summary_object_destroyed), (summary_make_object), (main):
	*
	components/services/summary/nautilus-view/nautilus-summary-view.c:
	(generate_summary_form), (entry_changed_cb), (summary_button_cb),
	(maintenance_button_cb), (show_feedback), (generate_form_title),
	(nautilus_summary_view_initialize_class),
	(nautilus_summary_view_initialize),
	(nautilus_summary_view_destroy),
	(nautilus_summary_view_get_nautilus_view),
	(nautilus_summary_view_load_uri), (summary_load_location_callback):
	*
	components/services/summary/nautilus-view/nautilus-summary-view.h:
	*
	components/services/summary/nautilus-view/nautilus-summary-view.oaf
	info:

	Simple framework for inventory and summary views.  Minor fixes to
	login view.  All are clones of the same basic widget right now. I'll
	be adding the real widgets soon.

2000-06-30  Ramiro Estrugo  <ramiro@eazel.com>

	* src/nautilus-application.c: (display_installation_wizard),
	(nautilus_application_startup):
	Add code to display an installation wizard using the new druid.
	Its #ifdefed out until we do more real work on it.
	
2000-06-30  Ramiro Estrugo  <ramiro@eazel.com>

	* configure.in:
	* cut-n-paste-code/widgets/Makefile.am:
	Build the new nautilus druid.
	
2000-06-30  Ramiro Estrugo  <ramiro@eazel.com>

	* configure.in:
	* src/Makefile.am:
	Adding canvas pixbuf item check and flags, which are needed in
	order to use the nautilus druid.
	
2000-06-30  Ramiro Estrugo  <ramiro@eazel.com>

	* cut-n-paste-code/widgets/nautilus-druid/nautilus-druid-page-edge.c:
	(nautilus_druid_page_edge_construct):
	* cut-n-paste-code/widgets/nautilus-druid/nautilus-druid-page-finish.c:
	(nautilus_druid_page_finish_configure_size),
	(nautilus_druid_page_finish_construct),
	(nautilus_druid_page_finish_set_logo),
	(nautilus_druid_page_finish_set_watermark):
	* cut-n-paste-code/widgets/nautilus-druid/nautilus-druid-page-standard.c:
	(nautilus_druid_page_standard_construct):
	* cut-n-paste-code/widgets/nautilus-druid/nautilus-druid-page-start.c:
	(nautilus_druid_page_start_construct):
	Update these items to properly use the canvas pixbuf beast.
	
2000-06-30  Ramiro Estrugo  <ramiro@eazel.com>

	* cut-n-paste-code/widgets/nautilus-druid/nautilus-druid-page-edge.c:
	* cut-n-paste-code/widgets/nautilus-druid/nautilus-druid-page-edge.h:
	* cut-n-paste-code/widgets/nautilus-druid/nautilus-druid-page-finish.c:
	* cut-n-paste-code/widgets/nautilus-druid/nautilus-druid-page-finish.h:
	* cut-n-paste-code/widgets/nautilus-druid/nautilus-druid-page-standard.c:
	* cut-n-paste-code/widgets/nautilus-druid/nautilus-druid-page-standard.h:
	* cut-n-paste-code/widgets/nautilus-druid/nautilus-druid-page-start.c:
	* cut-n-paste-code/widgets/nautilus-druid/nautilus-druid-page-start.h:
	* cut-n-paste-code/widgets/nautilus-druid/nautilus-druid-page.c:
	* cut-n-paste-code/widgets/nautilus-druid/nautilus-druid-page.h:
	* cut-n-paste-code/widgets/nautilus-druid/nautilus-druid.c:
	* cut-n-paste-code/widgets/nautilus-druid/nautilus-druid.h:
	Globally rename the GnomeDruid to NautilusDruid to prevent
	namespace clashing with the gnome-libs-1-0 druid.
	
2000-06-30  Ramiro Estrugo  <ramiro@eazel.com>

	* cut-n-paste-code/widgets/nautilus-druid/.cvsignore:
	* cut-n-paste-code/widgets/nautilus-druid/Makefile.am:
	* cut-n-paste-code/widgets/nautilus-druid/nautilus-druid-page-edge.c:
	* cut-n-paste-code/widgets/nautilus-druid/nautilus-druid-page-edge.h:
	* cut-n-paste-code/widgets/nautilus-druid/nautilus-druid-page-finish.c:
	* cut-n-paste-code/widgets/nautilus-druid/nautilus-druid-page-finish.h:
	* cut-n-paste-code/widgets/nautilus-druid/nautilus-druid-page-standard.c:
	* cut-n-paste-code/widgets/nautilus-druid/nautilus-druid-page-standard.h:
	* cut-n-paste-code/widgets/nautilus-druid/nautilus-druid-page-start.c:
	* cut-n-paste-code/widgets/nautilus-druid/nautilus-druid-page-start.h:
	* cut-n-paste-code/widgets/nautilus-druid/nautilus-druid-page.c:
	* cut-n-paste-code/widgets/nautilus-druid/nautilus-druid-page.h:
	* cut-n-paste-code/widgets/nautilus-druid/nautilus-druid.c:
	* cut-n-paste-code/widgets/nautilus-druid/nautilus-druid.h:
	Importing the gnome-libs HEAD druid to the cut-n-paste toxic
	dump.  Arlofication will proceed.
	
2000-06-30  Andy Hertzfeld  <andy@eazel.com>

	* libnautilus-extensions/nautilus-file-utilities.c:
	(nautilus_get_user_main_directory):
	use gnome_vfs_xfer instead of a 'cp' command to install the
	novice home directory.  This fixes bug 1285.
	
2000-06-30  Andy Hertzfeld  <andy@eazel.com>

	eliminated the separate toolbar icon theme; instead it's
	incorporated into the general theming mechanism
	
	* libnautilus-extensions/nautilus-global-preferences.h:
	got rid of NAUTILUS_PREFERENCES_TOOLBAR_ICON_THEME
	* libnautilus-extensions/nautilus-global-preferences.c:
	(global_preferences_create_dialog),
	(global_preferences_register_for_ui):
	got rid of the toolbar_icon preference and the associated widgetry
	* libnautilus-extensions/nautilus-preferences-item.c,h:
	(preferences_item_construct), (preferences_item_create_theme):
	got rid of the preference item for the toolbar icon theme
	* src/nautilus-window-toolbars.c: (setup_button),
	(setup_toolbar_images), (nautilus_window_initialize_toolbars),
	(nautilus_window_toolbar_remove_theme_callback):
	use the general theming framework to determine the toolbar icons
	to use
	* icons/vector/vector.xml:
	made the vector theme use Susan's toolbar icons
	* libnautilus-extensions/nautilus-background.c:
	(nautilus_background_draw):
	a little bit of clean-up
		
2000-06-30  Gene Z. Ragan  <gzr@eazel.com>

	* libnautilus-extensions/bonobo-stream-vfs.c:
	(create_bonobo_stream_vfs):
	A fix to make the setting of the vepv work.  The extern
	vepv is gone, so we now use the allocator functions.

2000-06-30  Andy Hertzfeld  <andy@eazel.com>

	* libnautilus-extensions/nautilus-background.c:
	(nautilus_background_draw):
	fixed bug where the combine mode implemented last night wasn't
	working for normal drawables by setting the fake CanvasBuf flags
	properly.  Now the sidebar in the arlo theme is working.
	
2000-06-30  Fatih Demir	<kabalak@gmx.net>
	
	* acconfig.h: Added masses of undefs for the wrapping
		function ( as mentioned down ).

	* configure.in: If a Bzip2 is found, define the Bzip2
		wrapping functions vie AC_DEFINE to get it into
		 config.h, so the rpm-component and the other
		  Bzip2-based components should now compile with
		   the new Bzip2 versions without problems.
	
2000-06-30  Andy Hertzfeld  <andy@eazel.com>

	* configure.in:
	* data/backgrounds/Makefile.am:
	* icons/Makefile.am:
	* icons/arlo/.cvsignore:
	* icons/arlo/Makefile.am:
	* icons/arlo/arlo.xml:
	added a new theme for Arlo
	* libnautilus-extensions/nautilus-background.c,h:
	(nautilus_background_get_combine_mode),
	(nautilus_background_set_combine_mode), (nautilus_background_draw),
	(nautilus_background_draw_aa):
	added "combine" mode where it draws a background overlayed with a
	semi-transparent image.
	* libnautilus-extensions/nautilus-directory-background.c:
	(directory_changed_callback), (background_reset_callback):
	set up combine_mode if necessary
	* src/nautilus-property-browser.c:
	(make_properties_from_directory_path):
	don't display images whose name starts with "."
	* src/nautilus-sidebar.c: (background_reset_callback),
	(nautilus_sidebar_update_info):
	set up combine mode if necessary

2000-06-29  Eskil Heyn Olsen  <eskil@eazel.com>

	* components/services/install/command-line/Makefile.am:
	* components/services/install/command-line/eazel-uninstall.c:
	(set_parameters_from_command_line), (progress_signal),
	(uninstall_failed), (dep_check), (create_package), (done), (main):
	* components/services/install/lib/Makefile.am:
	* components/services/install/lib/eazel-install-object.c:
	(eazel_install_uninstall_packages):
	* components/services/install/lib/eazel-install-rpm-glue.c:
	(uninstall_packages), (uninstall_a_package), (do_rpm_uninstall),
	(eazel_install_prepare_rpm_system), (eazel_install_add_to_rpm_set),
	(eazel_install_add_to_set), (eazel_install_fetch_rpm_dependencies),
	(eazel_install_do_dependency_check), (eazel_install_ensure_deps),
	(eazel_uninstall_upward_traverse),
	(eazel_uninstall_downward_traverse), (eazel_uninstall_globber):
	Doing a lot of slashing in the uninstall part.
	
	* nautilus-installer/src/Makefile:
	This is still checked in, as the installer isn't part of the build
	tree.
	
2000-06-29  Pavel Cisler  <pavel@eazel.com>

	Fixed some memory leaks.
	
	* libnautilus-extensions/nautilus-mime-actions.c:
	(nautilus_mime_get_short_list_components_for_uri):
	Fix a leaked string.

	* src/nautilus-zoom-control.c:
	(nautilus_zoom_control_set_preferred_zoom_levels):
	Fix a leaky setter call.

	* test/Makefile.am:
	Add a make target for a leak checker tester.
	
	* test/nautilus-leak-checker.c:
	(nautilus_leak_allocation_record_init),
	(nautilus_leak_record_malloc), (nautilus_leak_record_realloc),
	(nautilus_leak_record_free), (print_one_leak),
	(nautilus_leak_print_leaks), (allocate_lots), (leak_mem2),
	(leak_mem), (main):
	* test/nautilus-leak-symbol-lookup.c:
	(nautilus_leak_print_symbol_address):
	Tweak the leak checker output a bit to make it more nicer and
	indicate the level of stack frame grouping.

	* src/nautilus-main.c: (print_leaks):
	Tweak the parameters a bit to print more leaks.

2000-06-29  Maciej Stachowiak  <mjs@eazel.com>

	* components/tree/Makefile.am: Add VFS_CFLAGS

	* components/tree/main.c (main): Initialize more libraries.
	
	* components/tree/nautilus-tree-view.h,
	components/tree/nautilus-tree-view.c: Many changes. The upshot is
	that basic tree loading now works, but many details remain to be
	fleshed out (individual bugs were filed on these).

	* libnautilus-extensions/nautilus-directory-async.c:
	(dequeue_pending_idle_callback), (directory_load_done): Try to
	emit done signal exactly once when a monitor load is complete. But
	I think this might be questionable, see below.

	* libnautilus-extensions/nautilus-directory-private.h,
	libnautilus-extensions/nautilus-directory.h,
	libnautilus-extensions/nautilus-directory.c: Add the
	"done_loading" signal for when a load initiated by monitoring is
	done. I just realized this does the wrong thing when more than one
	thing is monitoring at the same time (both get the signal), so
	maybe it should be changed to a callback function passed to
	nautilus_file_monitor_add, but that would be harder to implement.

	(nautilus_directory_emit_done_loading): Function so the async code
	can emit it.

2000-06-29  Ramiro Estrugo  <ramiro@eazel.com>

	* components/mozilla/Makefile.am:
	* components/mozilla/mozilla-preferences.cpp:
	* components/mozilla/mozilla-preferences.h:
	Add a small C wrapper for poking mozilla preferences.

	* components/mozilla/nautilus-mozilla-content-view.c:
	(nautilus_mozilla_content_view_initialize):
	Poke some interesting preferences.
	
	* configure.in:
	If the mozilla component is being built, add a check for the c++
	compiler which is needed by the mozilla preferences C wrapper.
	
2000-06-29  Ali Abdin <aliabdin@aucegypt.edu

	* components/help/Makefile.am: Install the libvfs-help.so module
	in the right place. Closes Bug #919. (will not work though
	if Nautilus prefix != gnome-vfs prefix (unless a fix goes into
	gnome-vfs))

	* components/websearch/ntl-web-search.c:
	(web_search_populate_engines): Fix to make it look in the right
	place (WEB_SEARCH_DATADIR "/standard.eng" instead of
	WEB SEARCH_DATADIR "/ntl-web-search/standard.eng")

2000-06-29  Ramiro Estrugo  <ramiro@eazel.com>

	* components/mozilla/nautilus-mozilla-content-view.oafinfo:
	Expose the fact that this component can grok file: and ftp: uris.
	
2000-06-29  Andy Hertzfeld  <andy@eazel.com>

	* libnautilus-extensions/nautilus-directory-background.c,h:
	(directory_changed_callback),
	(nautilus_directory_background_is_set),
	(nautilus_connect_background_to_directory_metadata):
	added nautilus_directory_background_is_set, and some cleanups
	* src/file-manager/fm-directory-view.c: (compute_menu_item_info),
	(fm_directory_view_real_update_menus):
	used nautilus_directory_background_is_set to enable/disable item
	
2000-06-29  Pavel Cisler <pavel@eazel.com>

	* libnautilus-extensions/nautilus-icon-dnd.h:
	* libnautilus-extensions/nautilus-icon-dnd.c:
	(nautilus_icon_dnd_init),
	(nautilus_icon_dnd_begin_drag), (drag_motion_callback),
	(drag_drop_callback):
	* libnautilus-extensions/nautilus-icon-container.c:
	(motion_notify_event), (key_press_event):
	Got rid of the crufty old way drag&drop motion used to handle
	updating the drop action.

	* libnautilus-extensions/nautilus-drag.h:
	* libnautilus-extensions/nautilus-icon-dnd.c:
	* libnautilus-extensions/nautilus-drag.c:
	(nautilus_drag_modifier_based_action):
	Moved to the common drag&drop file so I can share it
	between the list and icon view.
	
	* libnautilus-extensions/nautilus-list.c:
	(nautilus_list_initialize), (nautilus_list_motion),
	(nautilus_list_drag_motion):

	* libnautilus-extensions/nautilus-icon-dnd.c:
	(confirm_switch_to_manual_layout):
	Reformatted a bit.

2000-06-29  Rebecca Schulman  <rebecka@eazel.com>

	* src/nautilus-complex-search-bar.c:
	(nautilus_complex_search_bar_initialize_class),
	(nautilus_complex_search_bar_set_search_controls):
	Fixed assertion problem by adding set_search_controls
	method

2000-06-28  Andy Hertzfeld  <andy@eazel.com>

	* libnautilus-extensions/nautilus-directory-background.c:
	(local_data_file_to_uri), (directory_changed_callback),
	(nautilus_directory_background_theme_changed),
	(background_reset_callback), (background_destroyed_callback),
	(nautilus_connect_background_to_directory_metadata):
	made directory backgrounds use the current theme to determine their
	default background.  Made reset restore the default background. Receive
	notification when the theme changes, and change the background if necessary.
	* src/file-manager/fm-directory-view.c:
	(fm_directory_view_real_merge_menus):
	removed the "reset background" menu item.
	* src/nautilus-sidebar.c: (map_local_data_file),
	(nautilus_sidebar_read_theme), (nautilus_sidebar_update_info):
	cleaned up dealing with local filenames
	* icons/vector/vector.xml:
	changed the main background of the vector theme

2000-06-28  Andy Hertzfeld  <andy@eazel.com>

	* components/music/mp3head.c,h: (get_bitrate), (get_mpgver),
	(get_stereo):
	integrated Erik Gustavsson's patches to make the slider
	work correctly at arbitrary bit-rates
	* components/music/nautilus-music-view.c:
	(nautilus_music_view_initialize), (strip_trailing_blanks),
	(fetch_song_info), (play_status_display), (play_current_file),
	(slider_moved_callback), (slider_release_callback),
	(nautilus_music_view_update_from_uri):
	more of Erik's patchs, plus made the music view use
	nautilus_directory_background to save code and to use the same
	background as the other views.
	* libnautilus-extensions/nautilus-directory-background.c:
	(background_destroyed_callback), (dummy_callback),
	(nautilus_connect_background_to_directory_metadata),
	(nautilus_connect_background_to_directory_metadata_by_uri):
	arranged for users of nautilus-directory-background to receive
	metadata, by call nautilus_directory_file_monitor_add and remove
	* src/file-manager/fm-list-view.c:
	removed an unused define for DEFAULT_BACKGROUND_COLOR

2000-06-28  Rebecca Schulman  <rebecka@eazel.com>

	* libnautilus-extensions/nautilus-search-uri.c:
	(nautilus_simple_search_criteria_to_search_uri):
	(add facility to make search uri's from simple
	search queries )
	* src/nautilus-complex-search-bar.c:
	(nautilus_complex_search_bar_initialize_class),
	(nautilus_complex_search_bar_initialize), (more_options_callback),
	(add_file_type_search_criterion_callback),
	(add_file_name_search_criterion_callback),
	(add_file_location_search_criterion_callback),
	(add_content_search_criterion_callback),
	(add_size_search_criterion_callback),
	(add_date_modified_search_criterion_callback),
	(add_notes_search_criterion_callback),
	(nautilus_complex_search_bar_get_location):
	added ability to add more criterion (still incomplete)
	* src/nautilus-complex-search-bar.h:
	* src/nautilus-search-bar-criterion.c:
	(nautilus_search_bar_criterion_file_type_new),
	(nautilus_search_bar_criterion_file_name_new),
	(nautilus_search_bar_criterion_location_new),
	(nautilus_search_bar_criterion_content_new),
	(nautilus_search_bar_criterion_size_new),
	(nautilus_search_bar_criterion_add_to_search_bar),
	(nautilus_search_bar_criterion_show):
	added code to actually create various search
	button criterion sets.
	* src/nautilus-search-bar-criterion.h:
	* src/nautilus-simple-search-bar.c:
	(nautilus_simple_search_bar_initialize_class),
	(nautilus_simple_search_bar_get_location),
	(editable_activated_callback):
	* src/nautilus-simple-search-bar.h:
	Updated so that the search location 
	is done correctly.  Adjustments to
	the nautilus-directory should
	be all that is needed to make all of
	this stuff work.
	* src/nautilus-switchable-search-bar.c:
	(nautilus_switchable_search_bar_initialize),
	(nautilus_switchable_search_bar_get_location),
	(nautilus_switchable_search_bar_set_search_controls):
	Some widget changes, and search get_location
	calls respective simple or complex search bar 
	get_location functions

2000-06-28  Michael Engber  <engber@eazel.com>

	* libnautilus/nautilus-zoomable.c:
	(nautilus_g_list_from_ZoomLevelList),
	(nautilus_ZoomLevelListBuffer_from_zoom_levels),
	(impl_Nautilus_Zoomable__get_preferred_zoom_level_list),
	(nautilus_zoomable_initialize_class), (nautilus_zoomable_set_arg),
	(nautilus_zoomable_get_arg),
	(nautilus_zoomable_new_from_bonobo_control):
	* src/nautilus-view-frame.c:
	(nautilus_view_frame_get_preferred_zoom_levels):
	* src/nautilus-zoom-control.c:
	(nautilus_zoom_control_class_initialize),
	(nautilus_zoom_control_destroy),
	(nautilus_zoom_control_initialize), (create_zoom_menu_item):
	Fixed 1497 - problems with freeing the CORBA returned preferred
	zoom level lists. Finally done with 1425 - decoupling the zoom
	control from insider knowledge of the icon/list views.

2000-06-28  Darin Adler  <darin@eazel.com>

	* components/music/nautilus-music-view.c:
	(nautilus_music_view_drag_data_received):
	* libnautilus-extensions/nautilus-icon-dnd.c:
	(receive_dropped_tile_image):
	* src/nautilus-sidebar.c: (receive_dropped_uri_list):
	Changed to use new call that's for receiving dropped images.
	
	* src/nautilus-sidebar.c: (background_settings_changed_callback),
	(background_appearance_changed_callback),
	(background_reset_callback), (nautilus_sidebar_update_info):
	Changed signal handlers to use the normal form instead of
	connect_object. Changed the reset callback to stop the reset
	signal from going any further now that there's a default handler
	for reset.

	* libnautilus-extensions/nautilus-directory-background.c:
	(background_reset_callback): Add a call to stop the reset signal
	from going any further now that there's a default handler for
	reset.

	* libnautilus-extensions/nautilus-background.h:
	* libnautilus-extensions/nautilus-background.c:
	(nautilus_background_initialize_class),
	(nautilus_background_receive_dropped_background_image),
	(nautilus_background_set_tile_image_uri),
	(nautilus_background_reset), (nautilus_background_real_reset):
	Made nautilus_background_reset set the color and image to NULL by
	default instead of doing nothing. Also added a new call to receive
	a dropped background image and only pay attention to the special
	"reset" image name there instead of hacking it into
	_set_tile_image_uri itself.
	
	* libnautilus-extensions/nautilus-stock-dialogs.h:
	* libnautilus-extensions/nautilus-stock-dialogs.c:
	(find_message_label), (find_message_label_callback),
	(show_message_box), (show_ok_box), (nautilus_info_dialog),
	(nautilus_warning_dialog), (nautilus_error_dialog),
	(clicked_callback), (nautilus_error_dialog_with_details),
	(nautilus_yes_no_dialog): Change the API for stock dialogs
	to be a little simpler, getting rid of the separate parented
	variant. Also added a new dialog for errors that have a second
	more detailed error message.
	
	* libnautilus-extensions/nautilus-program-chooser.c:
	(nautilus_program_chooser_show_no_choices_message):
	* libnautilus-extensions/nautilus-program-choosing.c:
	(nautilus_launch_application_parented):
	* src/file-manager/fm-error-reporting.c:
	(fm_report_error_renaming_file), (fm_report_error_setting_group),
	(fm_report_error_setting_owner),
	(fm_report_error_setting_permissions):
	* src/nautilus-property-browser.c: (emblem_image_file_changed),
	(add_background_to_browser):
	* src/nautilus-window-manage-views.c:
	(handle_unreadable_location),
	(nautilus_window_end_location_change_callback),
	(report_content_view_failure_to_user),
	(report_sidebar_panel_failure_to_user):
	* src/nautilus-window-menus.c: (show_bogus_bookmark_window):
	Change to use new API for stock dialogs.
	
	* src/nautilus-application.c: (create_factory),
	(nautilus_application_initialize),
	(nautilus_application_check_user_directories),
	(nautilus_application_startup):
	Moved OAF registration to application_startup and added some
	error handling for the case where we have two copies of Nautilus.
	
	* libnautilus-extensions/nautilus-file.h: Move get_mapped_uri
	out of the "good part" of the header and add a FIXME.
	
	* components/services/install/lib/.cvsignore:
	Ignore some new generated files. Maybe some day I can get Eskil to
	make these himself as he adds new things.
	
2000-06-28  John Sullivan  <sullivan@eazel.com>

	* libnautilus-extensions/nautilus-file.c:
	(get_user_and_real_name_from_id):
	* src/file-manager/fm-properties-window.c:
	(create_owner_menu_item):
	Changed format of reporting username/real name
	to match Arlo's design.

2000-06-28  John Sullivan  <sullivan@eazel.com>

	* src/file-manager/fm-properties-window.c: (create_basic_page),
	(add_special_execution_flags), (create_permissions_page):
	Changed some layout and wording to match Arlo's design. More
	layout changes to come later.

	* src/nautilus-window-manage-views.c:
	(report_sidebar_panel_failure_to_user),
	(nautilus_window_update_state): Added this function as
	placeholder for potentially useful error message.

2000-06-28  John Sullivan  <sullivan@eazel.com>

	* src/nautilus-window-manage-views.c:
	(report_content_view_failure_to_user),
	(nautilus_window_update_state): Put up a dialog box
	when the content view fails. The dialog box tells the
	user they can switch to another view or go to another
	location.

2000-06-28  Andy Hertzfeld <andy@eazel.com>

	* icons/eazel/i-regular-12.png:
	* icons/eazel/i-regular-24.png:
	* icons/eazel/i-regular-36.png:
	* icons/eazel/i-regular.png:
	* icons/eazel/i-regular-72.png:
	* icons/eazel/i-regular-96.png:
	new document icons from Susan
	
2000-06-28  John Sullivan  <sullivan@eazel.com>

	Made the view-failure-handling code only execute
	when a view fails, instead of also executing during
	a normal quit. This is a starting point for putting
	some UI at the failure.

	* src/nautilus-window.c: 
	(nautilus_window_disconnect_view): New function to disconnect
	the signal handlers on a view that were established in
	nautilus_window_connect_view.
	(view_disconnect): foreach-style wrapper for _disconnect_view.
	(nautilus_window_destroy): Call _disconnect_view on each
	sidebar panel, and on the content view.
	(nautilus_window_connect_view): Added comment and updated
	for a name change.
	(nautilus_window_connect_content_view): Removed this wrapper
	for _connect_view, which no longer did anything other than
	call through.
	* src/nautilus-window-manage-views.c:
	(nautilus_window_view_failed): Renamed from
	"nautilus_window_view_destroyed" since it's (now) only
	called in the case of a failure.
	(nautilus_window_has_really_changed): Call _disconnect_view.
	(nautilus_window_load_content_view): Replaced 
	_connect_content_view with _connect_view.
	* src/nautilus-window-private.h: updated prototypes to match
	previously-mentioned changes.

2000-06-28  John Sullivan  <sullivan@eazel.com>

	* src/nautilus-sidebar-title.c: (nautilus_sidebar_title_set_uri),
	* src/nautilus-sidebar.c: (nautilus_sidebar_update_info): Added
	a couple of NULL uri checks to get us cleanly past the case where
	the URI is temporarily null at startup time when the theme is set.

2000-06-28  Maciej Stachowiak  <mjs@eazel.com>

	* libnautilus-extensions/nautilus-mime-actions.c:
	(nautilus_mime_get_default_component_for_uri_internal): Fixed FIXME
	number.

2000-06-28  Andy Hertzfeld  <andy@eazel.com>

	* libnautilus-extensions/Makefile.am:
	added nautilus-theme.c and nautilus-theme.h
	* libnautilus-extensions/nautilus-theme.c,h:
	(nautilus_theme_get_theme), (nautilus_theme_set_theme),
	(load_theme_document), (nautilus_theme_get_theme_data):
	added theme framework that allows clients to access theme information
	without knowing the underlying implementation
	* src/nautilus-sidebar.c: (nautilus_sidebar_read_theme):
	made the sidebar use the new theme framework	
	* icons/default.xml:
	* icons/eazel/eazel.xml:
	* icons/vector/vector.xml:
	changed the icon container keyword for new framework

2000-06-27  Eskil Heyn Olsen  <eskil@eazel.com>

	* src/nautilus-view-frame.c:
	(nautilus_view_frame_get_preferred_zoom_levels):
	Commented out a CORBA_free that causes sigsegv (noted by
	Carbamide). Filed a bug report (1497) on it. 
	
2000-06-27  Eskil Heyn Olsen  <eskil@eazel.com>

	* components/services/install/lib/eazel-install-public.h:
	Eeek, evil.h is no longer there.
	
2000-06-27  Eskil Heyn Olsen  <eskil@eazel.com>

	* components/rpmview/nautilus-rpm-view-install.c:
	(nautilus_rpm_view_install_done),
	(nautilus_rpm_view_install_package_callback),
	(nautilus_rpm_view_uninstall_package_callback):
	* components/rpmview/nautilus-rpm-view-install.h:
	* components/rpmview/nautilus-rpm-view.c:
	(nautilus_rpm_view_initialize),
	(nautilus_rpm_view_update_from_uri):
	* components/rpmview/nautilus-rpm-view.h:
	Hooked up the uninstall button, and made the install's done
	callback signal update the view.
	
	* components/services/install/lib/eazel-install-corba-callback.c:
	(eazel_install_callback_uninstall_packages):
	* components/services/install/lib/eazel-install-corba-callback.h:
	* components/services/install/lib/eazel-install-corba-types.c:
	(categorydata_list_from_corba_categorystructlist):
	* components/services/install/lib/eazel-install-corba-types.h:
	* components/services/install/lib/eazel-install-corba.c:
	(impl_Eazel_Install_install_packages),
	(impl_Eazel_Install_uninstall_packages):
	* components/services/install/lib/eazel-install-object.c:
	(eazel_install_uninstall_packages):
	* components/services/install/lib/eazel-install-public.h:
	* components/services/install/lib/eazel-install-rpm-glue.c:
	(uninstall_packages), (uninstall_a_package):
	* components/services/install/lib/eazel-install-rpm-glue.h:
	Made the uninstall work, still missing all the dep stuff
	(bugzilla.eazel.com 1478)	
	
	* components/services/install/lib/Makefile.am:
	* components/services/install/lib/makefile.staticlib.in:
	I decided the other makefile.am I had made was too evil, so now I
	just have a standard makefile to generate the static lib for the
	nautilus bootstrapper.
	
	* configure.in:
	Generate the components/services/install/lib/makefile.staticlib
	
	* nautilus-installer/src/HACKING:
	* nautilus-installer/src/Makefile:
	* nautilus-installer/src/Makefile.am:
	* nautilus-installer/src/installer.c: (installer):
	* nautilus-installer/src/interface.c: (create_window):
	* nautilus-installer/src/link.sh:
	* nautilus-installer/src/main.c: (main):
	Preparing for Bud's request about being able to install a "stable"
	nautilus and a set of rpm's from HEAD.
	Also made link.sh recompile libeazelinstall_minimal using the
	makefile.staticlib.

2000-06-27  Robin * Slomkowski <rslomkow@eazel.com>

	* nautilus-clean.sh: nautilus-tree=voew changed to
	nautilus-tree-view

2000-06-27  Andy Hertzfeld  <andy@eazel.com>

	* libnautilus-extensions/nautilus-file-utilities.c,h:
	(nautilus_is_remote_uri):
	added a utility routine to determine if a string represents
	a remote uri.
	* libnautilus-extensions/nautilus-link.c:
	(nautilus_link_get_image_uri):
	made it use nautilus_is_remote_uri
	* src/nautilus-sidebar.c: (uri_is_local_image),
	(add_command_buttons):
	fixed bug 1494, can't set up custom icon to directories with
	blanks in their name, by escaping and unescaping when we translate
	between paths and uris.  Also, fixed bug 607 by using is_remote_uri.
	
2000-06-27  Michael Engber  <engber@eazel.com>

	* libnautilus/nautilus-view-component.idl:
	* libnautilus/nautilus-zoomable.c:
	(nautilus_g_list_from_ZoomLevelList),
	(nautilus_ZoomLevelList_from_zoom_levels),
	(impl_Nautilus_Zoomable__get_is_continuous),
	(impl_Nautilus_Zoomable__get_preferred_zoom_level_list),
	(nautilus_zoomable_initialize_class), (nautilus_zoomable_set_arg),
	(nautilus_zoomable_get_arg), (nautilus_zoomable_new),
	(nautilus_zoomable_new_from_bonobo_control),
	(nautilus_zoomable_destroy):
	* libnautilus/nautilus-zoomable.h:
	* src/file-manager/fm-directory-view.c:
	(fm_directory_view_initialize):
	* src/nautilus-view-frame.c:
	(nautilus_view_frame_get_max_zoom_level),
	(nautilus_view_frame_get_preferred_zoom_levels):
	* src/nautilus-view-frame.h:
	* src/nautilus-window.c:
	(nautilus_window_zoom_level_changed_callback):
	* src/nautilus-zoom-control.c: (nautilus_zoom_control_initialize),
	(create_zoom_menu_item), (create_zoom_menu),
	(nautilus_zoom_control_set_max_zoom_level),
	(nautilus_zoom_control_set_preferred_zoom_levels):
	* src/nautilus-zoom-control.h:
	Added get_preferred_zoom_levels. Fixed zoom-control to
	use this info to generate it's right click menu.

2000-06-27  Andy Hertzfeld  <andy@eazel.com>

	* libnautilus-extensions/nautilus-icon-factory.c:
	(make_thumbnail_path), (nautilus_icon_factory_make_thumbnails):
	fixed bug 1491, can't make thumbnails if enclosing directory has
	a blank, by escaping and unescaping properly when we translate
	between paths and uris.
	
2000-06-27  Andy Hertzfeld  <andy@eazel.com>

	* libnautilus-extensions/nautilus-directory-background.c:
	(background_reset_callback),
	(nautilus_connect_background_to_directory_metadata):
	made the background reset command work in directory views again,
	by attaching to the background reset signal.  It's still not
	respecting the theme, but will soon.
	
2000-06-27  Andy Hertzfeld  <andy@eazel.com>

	made the sidebar draw the background determined by the current
	theme when reset. 
	
	* libnautilus-extensions/nautilus-background.c,h:
	(nautilus_background_initialize_class),
	(nautilus_background_set_tile_image_uri),
	(nautilus_background_reset):
	added a "reset" signal to nautilus_background, which fires when
	the background is reset.
	* libnautilus-extensions/nautilus-background.h:
	* src/nautilus-sidebar.c: (nautilus_sidebar_background_is_default),
	(nautilus_sidebar_create_context_menu),
	(nautilus_sidebar_appearance_changed),
	(nautilus_sidebar_background_reset),
	(nautilus_sidebar_update_info):
	attach to the background reset signal and handle it properly
	
2000-06-27  Michael Engber  <engber@eazel.com>

	* libnautilus/nautilus-view-component.idl:
	* libnautilus/nautilus-zoomable.c:
	(impl_Nautilus_Zoomable__get_is_continuous),
	(nautilus_zoomable_initialize_class), (nautilus_zoomable_get_arg),
	(nautilus_zoomable_ensure_zoomable_frame):
	* src/file-manager/fm-directory-view.c:
	(fm_directory_view_initialize), (zoomable_zoom_to_fit_callback),
	(fm_directory_view_set_zoom_level):
	* src/file-manager/fm-directory-view.h:
	* src/file-manager/fm-icon-view.c: (fm_icon_view_begin_loading),
	(fm_icon_view_set_zoom_level), (fm_icon_view_bump_zoom_level),
	(fm_icon_view_zoom_to_level),
	(fm_icon_view_restore_default_zoom_level):
	* src/file-manager/fm-list-view.c: (fm_list_view_bump_zoom_level),
	(fm_list_view_zoom_to_level),
	(fm_list_view_restore_default_zoom_level),
	(fm_list_view_begin_loading), (fm_list_view_set_zoom_level):
	* src/nautilus-view-frame.c:
	(nautilus_view_frame_initialize_class),
	(nautilus_view_frame_zoom_level_changed):
	* src/nautilus-view-frame.h:
	* src/nautilus-window.c: (zoom_to_fit_callback),
	(nautilus_window_constructed),
	(nautilus_window_zoom_level_changed_callback),
	(nautilus_window_connect_view):
	* src/nautilus-zoom-control.c:
	(nautilus_zoom_control_class_initialize),
	(nautilus_zoom_control_initialize),
	(nautilus_zoom_control_button_press_event):
	* src/nautilus-zoom-control.h:
	* src/nautilus-zoomable-frame-corba.c:
	(impl_Nautilus_ZoomableFrame_report_zoom_level_changed):
	Removed zoom_to_default and zoom_parameters_changed.
	The nautilus-window now queries the zoomable for max
	and min before showing the zoom control.

2000-06-27  J Shane Culpepper  <pepper@eazel.com>

	* components/rpmview/Makefile.am:
	Added components/services/trilobite to the includes in order for a
	clean build to find some header files.

2000-06-27  John Sullivan  <sullivan@eazel.com>

	Finished task 461 (bookmarks to "Bad URI" should have
	an icon). I picked arbitrary existing icons (gnome foot
	for "generic bookmark", gnome-foot-question-mark for
	"bookmark with known-bad URI"); Arlo and/or Susan will
	have to come up with real ones. I'll write a separate
	bug report about that.

	* icons/i-bookmark.png:
	* icons/i-bookmark-20.png:
	* icons/i-bookmark-missing.png:
	* icons/i-bookmark-missing-20.png: New icons to use
	for bookmarks. I supplied the base size and the 20
	pixel size because that's the one used in menus, where
	bookmarks usually appear. These need to be replaced with
	better images.
	
	* icons/Makefile.am: Add new icons to installed set.
	
	* libnautilus-extensions/nautilus-bookmark.h,
	* libnautilus-extensions/nautilus-bookmark.c:
	(nautilus_bookmark_uri_known_not_to_exist): New public
	function, moved some code from elsewhere to encapsulate this.
	(nautilus_bookmark_set_icon_to_default): Choose between the
	generic and bad-URI icon if there's no better icon.

	* src/nautilus-window-menus.c: (activate_bookmark_in_menu_item):
	Now calls nautilus_bookmark_uri_known_not_to_exist instead
	of doing the work here.

2000-06-27  J Shane Culpepper  <pepper@eazel.com>

	* components/services/startup/nautilus-view/Makefile.am:
	Fixing gnome-vfs header bustage.

2000-06-26  Eskil Heyn Olsen  <eskil@eazel.com>

	* components/services/install/lib/Makefile.am:
	automake, beautifull and yet so nasty. Orbit-idl fix again.

2000-06-26  Eskil Heyn Olsen  <eskil@eazel.com>

	* helper-utilities/authenticate/Makefile.am:
	Seems that libnautilus-extensions dep on libnautilus that dep on
	bonobo, thus this needed BONOBO_LIBS as well.

2000-06-26  Eskil Heyn Olsen  <eskil@eazel.com>

	* components/services/time/service/Makefile.am:
	* components/services/install/command-line/Makefile.am:
	* components/services/install/server/Makefile.am:
	* components/services/trilobite/sample/service/Makefile.am:
	And suddenly the bonobo libs went *poof*

2000-06-26  Eskil Heyn Olsen  <eskil@eazel.com>

	* components/services/install/lib/libeazelinstall.h:
	Missed a file.
	
2000-06-26  Eskil Heyn Olsen  <eskil@eazel.com>

	* components/Makefile.am:
	Rearranged so libeazelinstall is built before rpmview

	* components/help/Makefile.am:
	Added a missing .h file so make dist works
	
	* components/rpmview/Makefile.am:
	* components/rpmview/nautilus-rpm-view-install.c:
	(nautilus_rpm_view_download_progress_signal),
	(nautilus_rpm_view_install_progress_signal),
	(nautilus_rpm_view_download_failed),
	(nautilus_rpm_view_install_failed_helper),
	(nautilus_rpm_view_install_failed),
	(nautilus_rpm_view_dependency_check),
	(nautilus_rpm_view_install_done),
	(nautilus_rpm_view_install_package_callback):
	* components/rpmview/nautilus-rpm-view-install.h:
	* components/rpmview/nautilus-rpm-view.c:
	(nautilus_rpm_view_initialize):
	Added a callback and some skeleton code to the install
	button. So it now does rpm installs.
	
	* components/services/install/lib/Makefile.am:
	* components/services/install/command-line/Makefile.am:
	Changed the libnames.
	*
	components/services/install/command-line/eazel-alt-install-corba.c:
	(done), (main):
	* components/services/install/lib/eazel-install-corba-callback.c:
	(eazel_install_callback_destroy),
	(eazel_install_callback_initialize), (eazel_install_callback_new),
	(eazel_install_callback_corba_objref),
	(eazel_install_callback_install_packages),
	(eazel_install_callback_query):
	* components/services/install/lib/eazel-install-corba-callback.h:
	* components/services/install/lib/eazel-install-corba-types.h:
	* components/services/install/lib/eazel-install-protocols.c:
	(get_search_url_for_package):
	* components/services/install/server/Makefile.am:
	* components/services/install/server/main.c:
	Changed the object destroction scheme, so eazel_install_callback
	now unrefs and destroys the bonobo object.
	
	* components/services/trilobite/sample/lib/Makefile.am:
	Fixed to pass make dist
		
	* nautilus-installer/src/Makefile:
	* nautilus-installer/src/Makefile.am:
	Patching so it works with the new installer libs (and still some
	stroking because of the static stuff)
	
	* nautilus.spec.in:
	* po/POTFILES.in:
	* test/Makefile.am:
	Slice and dice so make dist and rpm -ta works again.

2000-06-26  Andy Hertzfeld  <andy@eazel.com>

	* src/nautilus-sidebar.c: (nautilus_sidebar_update_info):
	fixed sidebar background theming by adding a gtk_signal_block_by_func
	call (and the corresponding unblock) when we set up the background
	in update_info, so the new background data isn't written out to the
	metafile, since no explicit change was made.

2000-06-26  Michael Engber  <engber@eazel.com>

	* libnautilus-extensions/nautilus-gtk-extensions.c:
	(nautilus_gtk_marshal_NONE__DOUBLE_DOUBLE_DOUBLE):
	* libnautilus-extensions/nautilus-gtk-extensions.h:
	* libnautilus/nautilus-view-component.idl:
	* libnautilus/nautilus-zoomable.c:
	(nautilus_zoomable_set_parameters),
	(nautilus_zoomable_set_zoom_level):
	* libnautilus/nautilus-zoomable.h:
	* src/file-manager/fm-directory-view.c:
	(fm_directory_view_set_zoom_level),
	(fm_directory_view_set_zoom_parameters):
	* src/file-manager/fm-directory-view.h:
	* src/file-manager/fm-icon-view.c: (fm_icon_view_begin_loading),
	(fm_icon_view_set_zoom_level), (fm_icon_view_init_zoom_params),
	(fm_icon_view_bump_zoom_level), (fm_icon_view_zoom_to_level),
	(fm_icon_view_restore_default_zoom_level):
	* src/file-manager/fm-list-view.c: (fm_list_view_bump_zoom_level),
	(fm_list_view_zoom_to_level),
	(fm_list_view_restore_default_zoom_level),
	(fm_list_view_begin_loading), (fm_list_view_set_zoom_level),
	(fm_list_view_init_zoom_params):
	* src/nautilus-view-frame-private.h:
	* src/nautilus-view-frame.c:
	(nautilus_view_frame_initialize_class),
	(nautilus_view_frame_zoom_parameters_changed):
	* src/nautilus-view-frame.h:
	* src/nautilus-window.c:
	(nautilus_window_zoom_level_changed_callback),
	(nautilus_window_zoom_parameters_changed_callback),
	(nautilus_window_connect_view):
	* src/nautilus-zoom-control.c: (nautilus_zoom_control_initialize),
	(draw_number_and_disable_arrows), (zoom_menu_callback),
	(create_zoom_menu_item),
	(nautilus_zoom_control_button_press_event),
	(nautilus_zoom_control_set_zoom_level),
	(nautilus_zoom_control_set_min_zoom_level),
	(nautilus_zoom_control_set_max_zoom_level),
	(nautilus_zoom_control_get_zoom_level),
	(nautilus_zoom_control_get_min_zoom_level),
	(nautilus_zoom_control_get_max_zoom_level):
	* src/nautilus-zoom-control.h:
	* src/nautilus-zoomable-frame-corba.c:
	(impl_Nautilus_ZoomableFrame_report_zoom_level_changed),
	(impl_Nautilus_ZoomableFrame_report_zoom_parameters_changed):
	Added report_zoom_parameters_changed to the zoomable
	interface. This allows the zoom control to get min/max
	from the zoomable (as opposed to hard coding in values)
	Also fixed the zoom control to now use just doubles.
	Renamed the zoom_level_changed message to be report_zoom_level_changed
	in accordance with convention.

2000-06-26  John Sullivan  <sullivan@eazel.com>

	Finished task 876 (owner and group should be changeable
	in Properties window). The only part I didn't get done was
	using asynch gnome-vfs calls. I made that part of bug 845.

	* libnautilus-extensions/nautilus-string.h,
	* libnautilus-extensions/nautilus-string.c: 
	(nautilus_strcasecmp): New NULL-handling form of
	strcasecmp.

	* libnautilus-extensions/nautilus-glib-extensions.h,
	* libnautilus-extensions/nautilus-glib-extensions.c:
	(nautilus_g_str_list_sort),	
	(nautilus_g_str_list_sort_case_insensitive): New functions
	to sort a list of strings.
	(compare_strings), (compare_strings_case_insensitive):
	New helper routines used by the new _sort calls.

	* src/nautilus-window-manage-views.c:
	(nautilus_window_report_selection_change): Use 
	nautilus_g_str_list_sort.

	* libnautilus-extensions/nautilus-file.h,
	* libnautilus-extensions/nautilus-file.c: 
	(user_has_real_name): New helper function, returns TRUE
	if a password-file-entry user has a real name distinguishable
	from the username.

	(get_user_name_from_id), (get_user_and_real_name_from_id),
	(get_group_id_from_group_name), (get_ids_from_user_name),
	(get_user_id_from_user_name), (get_group_id_from_user_name):
	New helper functions for converting between user & group 
	names & ids.
	
	(get_id_from_digit_string): New helper function for converting 
	between	an integer as text and an integer.

	(nautilus_get_user_names): New public function for getting the
	list of all user names, with the real name (if distinguishable)
	thrown in for good measure.

	(nautilus_get_group_names): New public function for getting the
	list of all group names.
	
	(nautilus_file_can_get_owner), (nautilus_file_get_owner_name), 
	(nautilus_file_can_set_owner), (nautilus_file_set_owner), 
	(nautilus_file_can_get_group), (nautilus_file_get_group_name),
	(nautilus_file_can_set_group), (nautilus_file_set_group): 
	New public functions for reading and setting the group and owner.
	The setters define an asynch API though currently they're
	using non-asynch calls internally.

	(nautilus_file_get_settable_group_names): New public function
	returning a list of all group names that the current user can
	set this file's group to.

	(group_includes_user), (nautilus_get_group_names_including):
	New helper functions used by _get_settable_group_names.
	
	(nautilus_file_get_owner_as_string): Now optionally includes
	real name in result.
	
	(nautilus_file_get_string_attribute): Changed to call
	_get_owner_as_string with the real name included.

	* src/file-manager/fm-error-reporting.h:
	* src/file-manager/fm-error-reporting.c:
	(fm_report_error_setting_group), (fm_report_error_setting_owner):
	Error messages for when our predictions fail for whether a
	group or owner-setting operation will succeed.
	
	* src/file-manager/fm-properties-window.c: 
	(file_name_pair_new), (file_name_pair_free): New helper functions
	for passing around a file and string together (used in callbacks).

	(group_change_callback), (activate_group_callback), 
	(create_group_menu_item), (synch_groups_menu), 
	(attach_group_menu), (owner_change_callback),
	(activate_owner_callback), (create_owner_menu_item),
	(synch_user_menu), (attach_owner_menu): New functions for setting
	up widgets for display and control of owner and group.

	(add_special_execution_flags): Use attach_title_field instead of
	add_permissions_row_label.

	(permissions_label_update), (add_permissions_row_label): Removed
	these no-longer-needed functions.
	
	(add_permissions_column_label): Change row number constants to 
	match new layout.

	(create_permissions_page): Use static text for owner & group if
	non-editable, option menu if editable.

	(get_property_names): Now calls nautilus_g_str_list_sort.
	
2000-06-26  Darin Adler  <darin@eazel.com>

	* components/hardware/nautilus-hardware-view.c:
	(nautilus_hardware_view_destroy):
	* components/loser/content/nautilus-content-loser.c:
	(nautilus_content_loser_destroy):
	* components/loser/sidebar/nautilus-sidebar-loser.c:
	(nautilus_sidebar_loser_destroy):
	* components/mozilla/nautilus-mozilla-content-view.c:
	(nautilus_mozilla_content_view_destroy):
	* components/music/nautilus-music-view.c:
	(nautilus_music_view_destroy):
	* components/rpmview/nautilus-rpm-view.c:
	(nautilus_rpm_view_destroy):
	* components/sample/nautilus-sample-content-view.c:
	(nautilus_sample_content_view_destroy):
	* components/services/time/nautilus-view/trilobite-eazel-time-view.c:
	(trilobite_eazel_time_view_destroy):
	* components/tree/nautilus-tree-view.c:
	(nautilus_tree_view_destroy):
	Removed a bunch of incorrect calls to bonobo_object_unref.
	An error in the sample can be an insidious thing.
	
	* components/tree/main.c: (tree_object_destroyed),
	(tree_make_object), (main): Removed some stray debugging stuff.
	
	* libnautilus-extensions/Makefile.am: Got rid of the grid
	* libnautilus-extensions/nautilus-icon-private.h: Got rid of the
	grid.
	* libnautilus-extensions/nautilus-icon-container.c:
	(keyboard_icon_reveal_timeout_callback): Took out unneeded use of
	thread locking macros. Maybe someday I'll regret this, but we can
	add them back then.
	(get_all_icon_bounds): Added shared function.
	(update_scroll_region): Renamed set_scroll_region and made it use
	the shared function. Also got rid of grid code.
	(resort): Got rid of grid code.
	(lay_down_icons): Got rid of grid code.
	(relayout): Made it lay down new icons before doing any layout
	work. Also made sure it doesn't do the resort while stretching.
	(reload_icon_positions): Got rid of grid code.
	(rubberband_select): Got rid of grid code. This was the one place
	that it might have made things a little faster but probably not
	due to the complexity of what it was doing.
	(rubberband_timeout_callback): Took out unneeded use of thread
	locking macros. Maybe someday I'll regret this, but we can add
	them back then.
	(destroy): Got rid of grid code.
	(world_width_changed): Got rid of grid code.
	(nautilus_icon_container_initialize): Got rid of grid code and
	an extra idle cycle that wasn't needed.
	(nautilus_icon_container_clear): Got rid of grid code and added
	code to update the scroll region on clear.
	(icon_destroy): Got rid of grid code.
	(assign_icon_position), (finish_adding_icon),
	(finish_adding_new_icons), (finish_adding_new_icons_callback),
	(nautilus_icon_container_add): Replaced old idle code with
	something specific to adding new icons. This does the proper
	layout for manual as well as automatic layout cases.
	
	* libnautilus-extensions/nautilus-background.h:
	* libnautilus-extensions/nautilus-background.c:
	(nautilus_background_initialize_class): Made two signals instead
	of one. One for when the background's settings change and another
	for when the appearance changes.
	(nautilus_background_set_color): Emit both signals.
	(load_image_callback): Emit only the appearance change signal.
	(nautilus_background_set_tile_image_uri): Emit both signals.
	(nautilus_get_widget_background): Connect to the
	appearance_changed signal.
	* libnautilus-extensions/nautilus-directory-background.c:
	(nautilus_connect_background_to_directory_metadata):
	Connect to the settings_changed signal.
	* src/file-manager/fm-directory-view.c:
	(fm_directory_view_real_merge_menus): Connect to the
	settings_changed signal.
	* src/nautilus-sidebar.c: (nautilus_sidebar_update_info): Connect
	to the appearance_changed signal.
	* components/music/nautilus-music-view.c:
	(nautilus_music_view_set_up_background): Connect to the
	settings_changed signal.
	
	* HACKING: Gratuitious reformatting.
	* RENAMING: Added notes about how we do renaming, at the request
	of one of the hackers.
	
	* nautilus-clean.sh: Added nautilus-tree-view to the things that
	are killed, and made gratuitous changes to the script.

Mon Jun 26 15:50:57 2000  George Lebl <jirka@5z.com>

	* components/hardware/Makefile.am, components/help/Makefile.am,
	  components/history/Makefile.am, components/html/Makefile.am,
	  components/music/Makefile.am, components/notes/Makefile.am,
	  components/rpmview/Makefile.am, src/file-manager/Makefile.am: 
	Add $(VFS_CFLAGS) to the includes as it is necessary for
	gnome-vfs

2000-06-26  Andy Hertzfeld  <andy@eazel.com>

	* icons/eazel/Makefile.am:
	* icons/eazel/i-regular-12.png
	* icons/eazel/i-regular-24.png
	* icons/eazel/i-regular-36.png
	* icons/eazel/i-regular.png
	* icons/eazel/i-regular-72.png
	* icons/eazel/i-regular-96.png
	* icons/vector/i-directory-accept.svg:
	* icons/vector/i-directory.svg:
	newer icons from Susan
	
2000-06-26  Andy Hertzfeld  <andy@eazel.com>

	* components/music/Makefile.am:
	* components/music/mp3head.c,h: (extractI4), (is_mphead), (is_xhead),
	(get_bitrate), (get_samprate), (get_mpgver):
	* components/music/mp3head.h:
	integrated Erik Gustavsson's patch to support variable bit rate
	file properly in the music view.
	* components/music/nautilus-music-view.c: (is_mp3_file),
	(strip_trailing_blanks), (read_id_tag), (extract_number),
	(fetch_song_info):
	fixed bug 1281, music view should use mime types instead of
	extensions, by using the mime type in is_mp3_file.  Also, cleaned
	up Erik's patch for removing trailing blanks and integrated it.
	
2000-06-26  Kjartan Maraas  <kmaraas@gnome.org>

	* HACKING: Move bonobo after gnome-vfs since it now
	depends on it for bonobo-storage-vfs.c to build.
	
2000-06-26  Darin Adler  <darin@eazel.com>

	* libnautilus-extensions/nautilus-directory-metafile.c:
	(set_metadata_eat_value): Fixed use of hash table in here. The
	old code would destroy the wrong key. (Thanks to Ian for pointing
	that when you insert a value into GHashTable it keeps the old key
	instead of overwriting with the new one.)
	
	* libnautilus-extensions/nautilus-gtk-extensions.c:
	(nautilus_gtk_signal_connect_free_data):
	* src/file-manager/fm-properties-window.c: (attach_value_field),
	(create_emblems_page), (add_permissions_row_label):
	* src/nautilus-link-set-window.c: (make_link_set_check_box):
	* src/nautilus-property-browser.c:
	(make_properties_from_directory_path),
	(make_properties_from_xml_node), (make_category_link):
	* src/nautilus-sidebar.c: (nautilus_sidebar_add_panel_items):
	Got rid of unnecessary casts to (GtkDestroyNotify).

2000-06-26  Darin Adler  <darin@eazel.com>

	* components/services/install/command-line/.cvsignore:
	* components/services/install/lib/.cvsignore:
	Ignore some additional generated files.
	
	* libnautilus-extensions/nautilus-gnome-extensions.h:
	* libnautilus-extensions/nautilus-gnome-extensions.c:
	Moved stock dialog functions to nautilus-stock-dialogs.[ch].
	(nautilus_gnome_canvas_item_request_update_deep),
	(nautilus_gnome_canvas_request_update_all),
	(nautilus_gnome_canvas_set_scroll_region),
	(nautilus_gnome_canvas_set_scroll_region_left_justify):
	Added a bunch of functions that were previously private inside
	NautilusIconContainer.
	
	* libnautilus-extensions/nautilus-gtk-extensions.h:
	* libnautilus-extensions/nautilus-gtk-extensions.c:
	(nautilus_gtk_adjustment_set_value),
	(nautilus_gtk_adjustment_clamp_value):
	Added functions that treat the value range in a GtkAdjustment the
	same way scroll bars do, taking the page size into account.
	
	* libnautilus-extensions/nautilus-horizontal-splitter.h:
	* libnautilus-extensions/nautilus-horizontal-splitter.c:
	(nautilus_horizontal_splitter_initialize),
	(toggle_splitter_position),
	(nautilus_horizontal_splitter_button_press),
	(nautilus_horizontal_splitter_button_release):
	Fixed logic so that splitter will only open or close if you both
	click and release within the splitter itself.
	
	* libnautilus-extensions/nautilus-icon-private.h:
	* libnautilus-extensions/nautilus-icon-container.c:
	(icon_toggle_selected): Move icons to front when they are selected.
	(set_scroll_region): Moved workaround that sets scroll region to
	be large enough to fill the widget allocation into a function in
	nautilus-gnome-extensions.h. In the process, I fixed the problem
	where it would do the job wrong when the view was zoomed.
	(lay_down_icons), (relayout), (reload_icon_positions):
	Started work on sharing code between automatic layout of the entire
	container and layout of new icons as the arrive.
	(nautilus_icon_container_clear), (nautilus_icon_container_add):
	Got started on the mechanism for laying out new icons as they arrive
	in bunches instead of one at a time.
	
	* libnautilus-extensions/nautilus-icon-dnd.c:
	* libnautilus-extensions/nautilus-program-chooser.c:
	* libnautilus-extensions/nautilus-program-choosing.c:
	* src/file-manager/dfos-xfer.c:
	* src/file-manager/fm-directory-view.c:
	* src/file-manager/fm-error-reporting.c:
	* src/nautilus-application.c:
	* src/nautilus-location-bar.c:
	* src/nautilus-property-browser.c:
	* src/nautilus-window-manage-views.c:
	* src/nautilus-window-menus.c:
	Added includes to source files that use the stock dialogs.
	
	* libnautilus-extensions/nautilus-stock-dialogs.h:
	* libnautilus-extensions/nautilus-stock-dialogs.c:
	(nautilus_timed_wait_stop), (convert_varargs_to_name_array),
	(nautilus_simple_dialog), (turn_on_line_wrap_flag),
	(turn_on_line_wrap_flag_callback), (show_ok_box),
	(show_yes_no_box), (nautilus_info_dialog),
	(nautilus_info_dialog_parented), (nautilus_warning_dialog),
	(nautilus_warning_dialog_parented), (nautilus_error_dialog),
	(nautilus_error_dialog_parented), (nautilus_yes_no_dialog),
	(nautilus_yes_no_dialog_parented):
	Moved all the stock dialog code in here.
	
	* src/nautilus-sidebar-title.c: (update_icon): Only display the
	icon when it's ready, instead of showing generic document icon
	before that time.
	(update_title), (update_more_info), (update_emblems),
	(update_notes): Added FIXMEs about doing the same with other info.
	(nautilus_sidebar_title_button_press_event): Added a FIXME to the
	half-baked code in here.

2000-06-26  Fatih Demir	<kabalak@gmx.net>

	* Makefile.am: Added the previous ChangeLogs to
	the EXTRA_DIST target.
	
	* configure.in: Cosmetics and a configuration summary at the end
	of the ./configure process.
	
	* helper-utilities/authenticate/nautilus-authenticate.h:
	Include <stdlib.h> for compiling with -Werror without error.
	
2000-06-26  Pavel Cisler <pavel@eazel.com>

	* acconfig.h:
	* configure.in:
	Fix build breakage caused recent changes to make GnomeVFS compile
	without OAF support. Some GnomeVFS headers now require USING_OAF
	to be defined and when included from Nautilus, this define was
	missing. Not sure this is the 100% correct way to do this but
	this should at least prevent people from being stuck with a broken
	build.

2000-06-26  Andy Hertzfeld  <andy@eazel.com>

	Added XML-based theme mechanism and used it for the sidebar
	background, which isn't entirely working yet.
	
	* icons/Makefile.am:
	* icons/default.xml:
	* icons/eazel/Makefile.am:
	* icons/eazel/eazel.xml:
	* icons/vector/Makefile.am:
	* icons/vector/vector.xml:
	New XML-based theme files.
	* libnautilus-extensions/nautilus-global-preferences.c,h:
	(global_preferences_create_dialog),
	(global_preferences_register_for_ui):
	Changed "icon_theme" preference to general "theme".
	* libnautilus-extensions/nautilus-icon-factory.c:
	(nautilus_get_current_icon_factory),
	(nautilus_icon_factory_destroy), (icon_theme_changed_callback):
	Changed from "icon_theme" to "theme".
	* libnautilus-extensions/nautilus-preferences-item.c,h:
	(preferences_item_construct), (preferences_item_create_theme):
	Changed from "icon_theme" to "theme".
	* libnautilus-extensions/nautilus-xml-extensions.c,h:
	(nautilus_xml_get_child_by_name):
	Added a routine to access child nodes.
	* src/nautilus-sidebar.c: (nautilus_sidebar_initialize),
	(nautilus_sidebar_destroy), (nautilus_sidebar_read_theme),
	(nautilus_sidebar_theme_changed),
	(nautilus_sidebar_background_changed),
	(nautilus_sidebar_update_info):
	Made the sidebar get its default values from an XML-based theme
	file, and reload them when the theme changes.

2000-06-25  Andy Hertzfeld  <andy@eazel.com>

	* libnautilus-extensions/nautilus-link.c:
	(free_icon_notification_info), (icon_read_done_callback),
	(is_remote_uri), (nautilus_link_get_image_uri):
	Linksets now use gnome-vfs to load load icons over http instead of
	ghttp, using Darin's new utility routines.  Also, made it load
	them asynchronously.
	
	* libnautilus-extensions/nautilus-icon-factory.c:
	(nautilus_icon_factory_get_pixbuf_for_icon):
	Made get_pixbuf_for_icon set the custom boolean when it calls
	get_icon_from_cache if necessary.
	
2000-06-25  Fatih Demir	<kabalak@gmx.net>
	
	* ChangeLog: This is the fresh one.
	* ChangeLog-20000625: Split up the ChangeLog.
