2000-07-07  Ali Abdin  <aliabdin@aucegypt.edu>

	* components/html/ntl-web-browser.c:
	(main) Add gtkhtmllib_init to make gtkhtml work again (it still needs
	 a lot of love though but at least not it works)

2000-07-07  Andy Hertzfeld  <andy@eazel.com>

	* libnautilus-extensions/nautilus-icon-factory.c:
	(load_specific_image), (nautilus_icon_factory_make_thumbnails):
	made it load custom icons for remote files, by using nautilus_gdk_pixbuf_load
	instead of gdk_pixbuf_new_from_file in load_specific_image.  Also, made 
	thumbnailing of svg files work by testing for the case and handling it in make_thumbnails.
	
2000-07-06  Andy Hertzfeld  <andy@eazel.com>

	* src/nautilus-property-browser.c: (make_drag_image),
	(make_color_label), (make_properties_from_xml_node):
	made the color properties have a label like Susan's design plus
	miscellaneous clean-ups
	
2000-07-06  Gene Z. Ragan  <gzr@eazel.com>
	
	Fixed bug 1571, Need titles in history list instead
	of just URIs.

	This was a result of sharing the NautilusWindow history list
	information over CORBA.

	* libnautilus/nautilus-view-component.idl:
	Create new interface, Nautilus::HistoryFrame
	Interface has method to get a sequence of 
	history information.  This sequence contains
	structs that contain uri and name history 
	information.

	* src/Makefile.am:
	Added new file, NautilusHistoryFrame.c, to makefile.
	 
	* src/nautilus-history-frame.c:
	* src/nautilus-history-frame.h:
	(impl_Nautilus_HistoryFrame__destroy),
	(impl_Nautilus_HistoryFrame__create),
	(impl_Nautilus_HistoryFrame_get_history_list):
	New files that implements the functionality of the 
	Nautilus::HistoryFrame.

	* components/history/nautilus-history-view.c:
	(get_bookmark_from_row), (get_uri_from_row),
	(history_view_frame_call_begin), (history_view_frame_call_end),
	(history_view_update_icons), (get_history_list),
	(hyperbola_navigation_history_load_location),
	(hyperbola_navigation_history_select_row), (do_destroy),
	(make_obj), (main):
	Changes in the way that the history list is maintained.
	We now use the info that is received by asking the view frame
	for history information.
		
	* src/nautilus-view-frame.c:
	* src/nautilus-view-frame.h:
	(nautilus_view_frame_initialize_class),
	(nautilus_view_frame_load_client),
	(nautilus_view_frame_get_history_list):
	Added new signal GET_HISTORY_LIST and new
	function that emits the signal when called.

	* src/nautilus-window.c:
	(nautilus_window_connect_view):
	Create and add history interface to connected view.
	
	(nautilus_window_get_history_list_callback):
	New signal handler that connects to the get_history_list
	signal of NautilusViewFrame.  Returns a Nautilus_HistoryList
	created from the history list data.
	
2000-07-06  Michael Engber  <engber@eazel.com>

	* src/nautilus-window.c: (nautilus_window_class_init):
	Added fixme for redundant parent_class slot (pavel's
	request since we puzzled over this for some time)

2000-07-06  Pavel Cisler  <pavel@eazel.com>

	* libnautilus-extensions/nautilus-icon-dnd.c:
	(nautilus_icon_container_get_drop_action):
	Fix a problem that I introduced with my recent change to 
	drag&drop - colors, background images, etc would no longet
	get accepted in the icon view.
	Made nautilus_icon_container_get_drop_action only check
	the selection list and the drop target if the dragged data
	is a file operation drag&drop.

2000-07-06  Andy Hertzfeld  <andy@eazel.com>

	* src/nautilus-sidebar-tabs.c: (nautilus_sidebar_tabs_remove_view):
	fixed long-standing bug where sidebar tabs would invoke the
	wrong views, by decrementing subsequent indexes when a panel is
	removed.
	* src/nautilus-sidebar.c: (nautilus_sidebar_initialize),
	(nautilus_sidebar_activate_panel),
	(nautilus_sidebar_deactivate_panel),
	(nautilus_sidebar_update_buttons):
	fixed problem of sidebar views changing their position as you
	navigate, and also gave them more space, by hiding the title
	info when a sidebar view is showing, allowing them to take up
	the entire space of the sidebar.
	* libnautilus-extensions/nautilus-horizontal-splitter.c:
	reduced the slop threshold and time threshold for toggling the
	sidebar so it doesn't happen accidentally
	* icons/backgrounds.png:
	* icons/colors.png:
	* icons/emblems.png:
	new images from Susan
	
2000-07-06  Michael Engber  <engber@eazel.com>

	* src/nautilus-zoom-control.c: (nautilus_zoom_control_destroy):
	NULL out preferred_zoom_levels in the destroy method (after
	freeing them) in case someone looks at them before finalize.

2000-07-05  Robin * Slomkowski <rslomkow@eazel.com>

	* nautilus.spec.in: removed refernce to some *.svg files
	and changed the dependancies

2000-07-05  Pavel Cisler  <pavel@eazel.com>

	* libnautilus-extensions/nautilus-list.c:
	(nautilus_list_initialize_class), (nautilus_list_button_press),
	(nautilus_list_button_release), (nautilus_list_drag_start):
	* libnautilus-extensions/nautilus-list.h:
	* src/file-manager/fm-list-view.c: (fm_list_drag_data_get),
	(fm_list_get_drag_pixmap), (create_list):
	Fixed 1095 - need to draw dragged icon when dragging from list view.

	* libnautilus-extensions/nautilus-gtk-extensions.c:
	* libnautilus-extensions/nautilus-gtk-extensions.h:
	(nautilus_gtk_marshal_NONE__POINTER_INT_POINTER_POINTER):
	I swore the next time I need a new marshaling function, I'll 
	set Nautilus to auto-generate them like the gtk build and here
	I am adding another one manually.

2000-07-05  Maciej Stachowiak  <mjs@eazel.com>

	* libnautilus-extensions/nautilus-search-async.c: include
	<libmedusa/medusa-search-service-private.h> until I change this to
	use the new API.

2000-07-05  Eskil Heyn Olsen  <eskil@eazel.com>

	* po/POTFILES.in:

	Removed ntl-web-search.c since it's no longer in the codebase.
	
	* components/rpmview/nautilus-rpm-view-install.c:
	(nautilus_rpm_view_install_package_callback):
	Fixed bug... eh, some number.
	
	* components/services/install/command-line/Makefile.am:
	*
	components/services/install/command-line/eazel-alt-install-corba.c:
	(set_parameters_from_command_line), (main):
	* components/services/install/command-line/eazel-gen-xml.c: (main):
	* components/services/install/command-line/eazel-uninstall.c:
	(uninstall_failed):
	* components/services/install/idl/trilobite-eazel-install.idl:
	* components/services/install/lib/eazel-install-corba-callback.c:
	(impl_dep_check), (impl_install_progress),
	(impl_uninstall_progress), (impl_install_failed),
	(impl_uninstall_failed), (eazel_install_callback_query):
	* components/services/install/lib/eazel-install-corba-types.c:
	(corba_packagedatastruct_from_packagedata),
	(packagedata_from_corba_packagedatastruct),
	(corba_category_list_from_categorydata_list),
	(categorydata_list_from_corba_categorystructlist),
	(xmlnode_from_packageData), (xml_from_packagedata):
	* components/services/install/lib/eazel-install-corba-types.h:
	* components/services/install/lib/eazel-install-corba.c:
	(impl_Eazel_Install_uninstall_packages),
	(impl_Eazel_Install_query), (eazel_install_get_epv):
	* components/services/install/lib/eazel-install-object.c:
	(eazel_install_class_initialize),
	(eazel_install_emit_install_progress_default),
	(eazel_install_emit_install_failed_default),
	(eazel_install_emit_uninstall_failed_default),
	(eazel_install_emit_dependency_check_default):
	* components/services/install/lib/eazel-install-protocols.c:
	(eazel_install_fetch_package):
	* components/services/install/lib/eazel-install-query.c:
	(eazel_install_simple_query):
	* components/services/install/lib/eazel-install-query.h:
	* components/services/install/lib/eazel-install-rpm-glue.c:
	(install_new_packages), (download_all_packages),
	(uninstall_packages), (do_rpm_install),
	(eazel_install_load_rpm_headers), (eazel_install_free_rpm_system),
	(eazel_install_prepare_rpm_system),
	(eazel_install_fetch_rpm_dependencies), (print_package_list),
	(eazel_install_do_dependency_check), (eazel_install_ensure_deps),
	(eazel_uninstall_upward_traverse),
	(eazel_uninstall_downward_traverse), (eazel_uninstall_globber):
	* components/services/install/lib/eazel-install-types.c:
	(packagedata_destroy_foreach), (rpmname_from_packagedata),
	(packagedata_equal), (packagedata_status_enum_to_str),
	(packagedata_status_str_to_enum):
	* components/services/install/lib/eazel-install-types.h:
	* components/services/install/lib/eazel-install-xml-package-list.c:
	(parse_package), (parse_category), (parse_shared),
	(parse_memory_xml_package_list), (parse_local_xml_package_list):
	* components/services/install/lib/eazel-install-xml-package-list.h:

	Muy work. Worked around orbit-idl's shortcommings, by packing the
	dependency trees for the (un)install_failed callbacks into
	xml. Uninstall now does the upwards traversel to detect packages
	that will break. Still not the downwards though. Installing a
	packge using the filename no longer results in a query for the
	file to the server, although we still download all missing deps.

	Most of the corbafication stuff is done.
	
	* nautilus-installer/src/Makefile:
	* nautilus-installer/src/installer.c: (installer):

	Compiles again. 

2000-07-05  Darin Adler  <darin@eazel.com>

	* components/services/trilobite/sample/service/.cvsignore:
	Stop ignoring some no-longer-generated files.

2000-07-05  Darin Adler  <darin@eazel.com>

	* check-headers-in-Makefile.pl: Wrote a script to check that the
	Makefile.am file matches what's actually in the directories.
	
	* components/html/main.c: Obsolete file.
	* components/services/time/command-line/Makefile.am: Removed
	mention of nonexistent trilobite-eazel-sample-service-common.c.
	* components/services/time/nautilus-view/Makefile.am: Removed
	mention of nonexistent trilobite-eazel-sample-service-common.c.
	* libnautilus-extensions/nautilus-icon-grid.c: Obsolete file.
	* libnautilus-extensions/nautilus-icon-grid.h: Obsolete	file.
	* nautilus-installer/src/Makefile.am: Fixed typo; it said
	"installer h" instead of "installer.h".
	* src/Makefile.am: Added nautilus-search-bar-private.h.
	* src/file-manager/fm-directory-list.h: Obsolete file.

2000-07-05  Ramiro Estrugo  <ramiro@eazel.com>

	* libnautilus-extensions/nautilus-user-level-manager.c:
	(user_level_manager_new):
	Initialize gconf if needed right before creating a gconf_client.
	
	* src/nautilus-first-time-druid.c: (user_level_selection_changed),
	(set_up_user_level_page):
	Set the user level when toggled by the user.  Also make sure the
	initiali user level is correct.
	
2000-07-05  Andy Hertzfeld  <andy@eazel.com>

	* src/nautilus-first-time-druid.c: (druid_finished),
	(nautilus_first_time_druid_show):
	made it launch services sign-up on "finish" if the
	user selected that.
	* src/nautilus-sidebar-title.c: (update_icon):
	At Susan request, used a larger icon in the sidebar
	
2000-07-05  Darin Adler  <darin@eazel.com>

	* components/music/nautilus-music-view.c: (fetch_play_time):
	Fix a divide-by-zero problem.
	(play_status_display), (slider_moved_callback),
	(slider_release_callback): Added FIXMEs at other possible
	divide-by-zero problems where I am less sure what the solution is.
	* libnautilus-extensions/nautilus-directory-async.c:
	(allow_metafile), (nautilus_directory_request_read_metafile),
	(nautilus_directory_request_write_metafile): Disable metafile
	reading and writing for "pipe:" URIs for now. This turns off the
	creation of alternate metafiles too. Hope this turns out to be
	good.
	(start_monitoring_file_list): Fixed a wrong assert.
	* libnautilus-extensions/nautilus-gnome-extensions.c:
	(nautilus_gnome_canvas_fill_with_gradient): Fixed a divide by zero
	bug in here.
	* src/file-manager/fm-icon-view.c: (fm_icon_view_destroy),
	(directory_view_font_family_changed_callback),
	(fm_icon_view_initialize): Changed spelling of "familiy" to the more
	standard "family".
	* src/nautilus-application.c: (nautilus_application_startup): Put
	in some more verbose detailed error messages; we'll have to do more
	iteration on these.

2000-07-05  Andy Hertzfeld  <andy@eazel.com>

	* libnautilus-extensions/nautilus-icon-factory.c,h:
	(nautilus_icon_factory_get_pixbuf_for_file),
	(nautilus_icon_factory_get_pixmap_and_mask_for_file):
	added modifier parameter to icon factory high level routines
	* components/tree/nautilus-tree-view.c:
	(nautilus_tree_view_insert_file):
	added extra parameter to get_pixmap call
	* src/file-manager/fm-list-view.c: (install_row_images):
	added extra parameter to get_pixmap call
	* src/file-manager/fm-properties-window.c:
	(get_pixmap_and_mask_for_properties_window):
	added extra parameter to get_pixmap call
	* icons/eazel/Makefile.am:
	* icons/eazel/i-directory-accept.svg:
	removed the .svg open folder, added bitmap ones
	changed the folder icons in eazel theme to Susan's new one
	* src/nautilus-sidebar-title.c: (update_icon):
	use the open folder in the sidebar
	
2000-07-05  Ramiro Estrugo  <ramiro@eazel.com>

	* libnautilus-extensions/nautilus-global-preferences.c:
	(global_preferences_get_sidebar_panel_view_identifiers):
	Remove an obsolete FIXME.
	
2000-07-05  Ramiro Estrugo  <ramiro@eazel.com>

	* libnautilus-extensions/nautilus-icon-container.c,
	* libnautilus-extensions/nautilus-icon-container.h:
	(destroy), (nautilus_icon_container_initialize),
	(nautilus_icon_container_new),
	(nautilus_icon_container_set_label_font_for_zoom_level),
	(nautilus_icon_container_set_single_click_mode):
	Implement missing set_single_click_mode function.

	Its up to users of this widget to setup click policy and other
	attributes. We shouldnt peek/poke nautilus specific preferences
	in the icon container widget.
	
	* libnautilus-extensions/nautilus-list.c:
	* libnautilus-extensions/nautilus-list.h,
	(nautilus_list_set_single_click_mode), (nautilus_list_initialize),
	(nautilus_list_destroy), (nautilus_list_clear):
	Implement missing set_single_click_mode function.

	Its up to users of this widget to setup click policy and other
	attributes. We shouldnt peek/poke nautilus specific preferences
	in the list widget.
	
	* src/file-manager/fm-icon-view.c: (fm_icon_view_destroy),
	(text_attribute_names_changed_callback),
	(click_policy_changed_callback),
	(anti_aliased_mode_changed_callback), (fm_icon_view_initialize),
	(fm_icon_view_update_click_mode),
	(fm_icon_view_update_anti_aliased_mode), (create_icon_container):
	Keep track of changes in preferences that affect the icon
	container and update it when needed.

	* src/file-manager/fm-list-view.c: (fm_list_view_initialize_class),
	(fm_list_view_initialize), (fm_list_view_destroy), (create_list),
	(update_icons), (fm_list_view_update_click_mode),
	(click_policy_changed_callback):
	Keep track of changes in preferences that affect the list and
	update it when needed.

2000-07-05  Ramiro Estrugo  <ramiro@eazel.com>

	* libnautilus-extensions/nautilus-icon-container.c,
	* libnautilus-extensions/nautilus-icon-container.h:
	(nautilus_icon_container_set_label_font_for_zoom_level):
	New function to set the font for a zoom level.

	(nautilus_icon_container_initialize),
	Initialize to fonts to a well known font.  Dont look at font
	preferences here.  Fonts should be suppied by the icon container
	user. 

	* src/file-manager/fm-icon-view.c: 
	(fm_icon_view_update_icon_container_fonts),
	New function to update the icon container's zoom level specific
	fonts.
	
	(directory_view_font_family_changed_callback),
	(fm_icon_view_initialize),
	(fm_icon_view_destroy),
	Keep track of font family preference changes and update the icon
	container fonts as needed.
	
	(create_icon_container):
	Update the fonts for the first time when the icon container is
	created. 
	
2000-07-05  Ramiro Estrugo  <ramiro@eazel.com>

	* libnautilus-extensions/nautilus-string-picker.c:
	(nautilus_string_picker_initialize_class),
	(nautilus_string_picker_initialize),
	(nautilus_string_picker_destroy), (option_menu_activate_callback),
	(nautilus_string_picker_set_string_list),
	(nautilus_string_picker_get_text),
	(nautilus_string_picker_set_text):
	* libnautilus-extensions/nautilus-string-picker.h:
	Changed string picker to use option menus instead of combo boxes.
	
	* test/test-nautilus-widgets.c: (test_string_picker),
	(string_picker_changed_callback):
	Changed widget test program to exercise more string picker
	functions. 
	
2000-07-05  Ramiro Estrugo  <ramiro@eazel.com>

	* components/services/install/command-line/.cvsignore:
	Ignore generated files.
	
2000-07-05  Ramiro Estrugo  <ramiro@eazel.com>

	* libnautilus-extensions/test-nautilus-preferences.c:
	* libnautilus-extensions/test-nautilus-widgets.c:
	* libnautilus-extensions/test-preferences.c:
	Moved widgets and preferences test to nautilus/test.
	
	* test/.cvsignore:
	* test/Makefile.am:
	* test/test-nautilus-preferences.c: (main),
	(test_preferences_item), (test_preferences_group),
	(create_enum_item), (register_global_preferences):
	* test/test-nautilus-widgets.c: (main), (test_radio_group),
	(test_caption_table), (test_string_picker), (test_text_caption),
	(test_authenticate_boink_callback),
	(string_picker_changed_callback), (text_caption_changed_callback),
	(test_password_dialog), (test_radio_changed_callback),
	(test_caption_table_activate_callback):
	Ressurect my widgets/preferences test over here.  They got whacked
	in the nautilus-widgets -> libnautilus-extensions renamings.
	
2000-07-05  Ramiro Estrugo  <ramiro@eazel.com>

	* libnautilus-extensions/nautilus-directory.c:
	(construct_alternate_metafile_uri):
	* libnautilus-extensions/nautilus-file-utilities.c:
	(nautilus_make_path), (nautilus_get_user_directory),
	(nautilus_get_desktop_directory),
	(nautilus_get_user_main_directory),
	(nautilus_get_pixmap_directory):
	* libnautilus-extensions/nautilus-file-utilities.h:
	* libnautilus-extensions/nautilus-global-preferences.c:
	(global_preferences_register_for_ui):
	* libnautilus-extensions/nautilus-icon-factory.c:
	(get_themed_icon_file_path):
	* libnautilus-extensions/nautilus-preferences-item.c:
	(add_icon_themes):
	* src/file-manager/fm-properties-window.c: (get_property_names):
	* src/nautilus-application.c:
	(nautilus_application_check_user_directories):
	* src/nautilus-bookmark-list.c:
	(nautilus_bookmark_list_get_file_path):
	* src/nautilus-desktop-window.c: (nautilus_desktop_window_new):
	* src/nautilus-first-time-druid.c: (druid_finished):
	* src/nautilus-property-browser.c:
	(nautilus_property_browser_drag_data_get), (make_drag_image),
	(remove_color), (remove_background), (remove_emblem),
	(get_xml_path), (add_background_to_browser), (add_color_to_file),
	(emblem_dialog_clicked), (make_properties_from_directory):
	Change file utilities special directory access functions to always
	return allocated strings.  Change all callers to match the new
	functions and free the results.

	Also change the file utilities functions to always create the
	special directories if needed.
	
2000-07-05  Ramiro Estrugo  <ramiro@eazel.com>

	* libnautilus-extensions/nautilus-global-preferences.c:
	(compare_view_identifiers), (global_preferences_create_dialog):
	Sort the sidebar panel names.
	
2000-07-05  Ramiro Estrugo  <ramiro@eazel.com>

	* components/Makefile.am:
	Dont install the currently broken components (websearch)
	
	* components/help/Makefile.am:
	* components/help/help-contents.oafinfo:
	* components/help/help-factory.oafinfo:
	* components/help/help-index.oafinfo:
	* components/help/help-search.oafinfo:
	* components/help/hyperbola.oafinfo:
	Split the oafinfo for help components into pieces so we can
	control which get intalled and which dont (like the broken onces)

	* configure.in:
	Fix a small dumb typo.
	
2000-07-05  J Shane Culpepper  <pepper@eazel.com>

	* components/services/startup/nautilus-view/nautilus-service-startup-view.c:
	(generate_startup_form):
	More changes to the progress meter.

2000-07-05  Pavel Cisler <pavel@eazel.com>

	* libnautilus-extensions/nautilus-drag.c:
	(nautilus_drag_modifier_based_action),
	(nautilus_drag_drop_action_ask):
	* libnautilus-extensions/nautilus-drag.h:
	* libnautilus-extensions/nautilus-icon-container.c:
	(motion_notify_event):
	* libnautilus-extensions/nautilus-icon-dnd.c:
	(nautilus_icon_container_receive_dropped_icons),
	(nautilus_icon_dnd_init):
	* libnautilus-extensions/nautilus-list.c:
	(nautilus_list_initialize), (nautilus_list_drag_start):
	* src/file-manager/fm-list-view.c: (fm_list_handle_dropped_icons):
	Did most of bug 1371:
	Implemented a drop context menu that allows users to choose between
	Copy, Move and link.
	Added the GDK_ACTION_ASK selector and added support for it.

2000-07-04  Andy Hertzfeld  <andy@eazel.com>

	First cut at the first-time preferences druid.  It's still
	not hooked-up yet, and it's appearance needs some work.
	
	* libnautilus-extensions/nautilus-file-utilities.c,h:
	(nautilus_user_main_directory_exists):
	added routine to test if the user main directory has been created
	* src/nautilus-application.c: (nautilus_application_startup):
	if the user main directory hasn't been created yet, run the
	first time druid instead of showing a Nautilus window.
	* src/Makefile.am:
	added new files: nautilus-first-time-druid.c and .h
	* src/nautilus-first-time-druid.c,h: (druid_cancel),
	(druid_finished), (set_up_background),
	(user_level_selection_changed), (signup_selection_changed),
	(set_up_user_level_page), (set_up_service_signup_page),
	(nautilus_first_time_druid_show):
	new, first-time druid asks for user level and service signup.
	
2000-07-04  J Shane Culpepper  <pepper@eazel.com>

	* components/services/startup/nautilus-view/nautilus-service-startup-view.c:
	(generate_startup_form), (show_feedback),
	(generate_form_title), (service_load_location_callback):
	More work on the progress meter for bootstraping and various ui
	enhancements.

2000-07-04  Pavel Cisler <pavel@eazel.com>

	* src/file-manager/dfos-xfer.c: (new_folder_xfer_callback):
	Fix 1042 - "untitled folder" will not work on file systems with
	8.3 names. Added code that handles GNOME_VFS_ERROR_NAME_TOO_LONG
	and supplies a name in the 8.3 scheme instead.
	
2000-07-04  Pavel Cisler <pavel@eazel.com>

	* src/file-manager/dfos-xfer-progress-dialog.c:
	* src/file-manager/dfos-xfer-progress-dialog.h:
	(handle_xfer_ok),
	(fs_xfer), (fs_move_to_trash), (fs_delete), (fs_empty_trash):
	* src/file-manager/dfos-xfer-progress-dialog.c:
	(dfos_xfer_progress_dialog_clear):
	Fixed 1215 - inter-volume move now removes the source files.
	Made it so that when an inter-volume copy has ended and source files
	are removed, the progress dialog updates. Added a new cleanup phase
	string.

	* src/file-manager/dfos-xfer-progress-dialog.c:
	(dfos_xfer_progress_dialog_new_file),
	(set_text_unescaped_trimmed):
	Added code to unescape paths in progress dialogs.
	
	* src/file-manager/dfos-xfer.c:
	* src/file-manager/dfos-xfer.h:
	(nautilus_convert_to_unescaped_string_for_display),
	(handle_xfer_vfs_error), (handle_xfer_overwrite):
	Added code to unescape paths in error dialogs.
	
	* libnautilus-extensions/nautilus-drag.c:
	(nautilus_drag_default_drop_action),
	(nautilus_drag_modifier_based_action):
	* libnautilus-extensions/nautilus-drag.h:
	* libnautilus-extensions/nautilus-icon-dnd.c:
	(handle_nonlocal_move), (nautilus_icon_container_find_drop_target),
	(nautilus_icon_container_receive_dropped_icons),
	(nautilus_icon_container_get_drop_action), (drag_motion_callback):
	* libnautilus-extensions/nautilus-list.c:
	(nautilus_list_drag_motion):
	Reworked a whole lot to allow me to update the default copy action
	based on the drag&drop context - an inter-volume drag&drop will now
	suggest a copy as a default.
	Moved out more sharable code into nautilus-drag.c.
	Added a common routine for figuring out the drop target.
	
	* src/file-manager/fm-directory-view.c: (fm_directory_is_trash),
	(fm_directory_can_move_to_trash):
	Fixed a bunch of asserts caused by unreffing NULL uris.

2000-07-04  Michael Meeks  <michael@helixcode.com>

	* libnautilus-extensions/bonobo-stream-vfs.c (vfs_read): update
	for new bonobo code; why is this code duplicated here in a worse
	condition to that in Bonobo/storage-modules ?

2000-07-04  J Shane Culpepper  <pepper@eazel.com>

	* components/services/startup/nautilus-view/icons/Makefile.am:
	components/services/startup/nautilus-view/nautilus-service-startup-view.c:
	(generate_startup_form), (progress_timeout_cb),
	(go_to_uri), (generate_form_title):

	Added the watch icon and a fake progress meter.  Still need to get
	the progress meter working right and work on the layout.

2000-07-03  Andy Hertzfeld  <andy@eazel.com>

	* src/nautilus-sidebar-tabs.c:
	(nautilus_sidebar_tabs_load_theme_data),
	(nautilus_sidebar_tabs_destroy), (draw_tab_piece),
	(draw_one_tab_themed), (draw_or_hit_test_all_tabs),
	(nautilus_sidebar_tabs_expose):
	more work on the themed tabs in the arlo theme
	* icons/arlo/arlo.xml:
	added more tab_piece rectangles
	
2000-07-03  J Shane Culpepper  <pepper@eazel.com>

	* components/services/login/nautilus-view/nautilus-login-view.c:
	(generate_login_form), (login_button_cb), (maintenance_button_cb),
	(go_to_uri), (generate_form_title):

	Finishing up the new ui for the login screen.  Bug # 1004.

2000-07-03  Maciej Stachowiak  <mjs@eazel.com>

	* components/tree/nautilus-tree-view.c
	(nautilus_tree_view_initialize): Only show scroll bars when needed
	in tree view.

	* components/tree/nautilus-tree-view.c:
	(tree_expand_callback): constness fixes
	(nautilus_tree_view_initialize, tree_select_row_callback):
	Navigate to selected location on row selection.

2000-07-03  Andy Hertzfeld  <andy@eazel.com>

	* src/nautilus-sidebar-tabs.c: (draw_or_hit_test_all_tabs):
	fixed bug where themed tabs weren't stacking correctly.  Fixed by
	using the actual tab height instead of the constant used by the
	default.
	* icons/arlo/sidebar_tab_pieces.png:
	replaced with newer version that has a background and edge piece.
	
2000-07-03  Andy Hertzfeld  <andy@eazel.com>

	* src/nautilus-sidebar-title.c:
	(nautilus_sidebar_title_initialize),
	(nautilus_sidebar_title_destroy), (nautilus_sidebar_title_new),
	(set_widget_color), (nautilus_sidebar_title_theme_changed):
	made the sidebar title text color themable.
	* icons/arlo/arlo.xml:
	made the arlo theme use white text for the sidebar title
	
2000-07-03  Eskil Heyn Olsen  <eskil@eazel.com>

	* components/services/install/lib/Makefile.am:
	Ensuring rpm build

2000-07-03  Seth Nickell  <seth@eazel.com>

	* libnautilus-extensions/nautilus-file.c:
	(nautilus_file_get_permissions_as_string),
	(nautilus_file_is_symbolic_link):
	* libnautilus-extensions/nautilus-icon-factory.c:
	(nautilus_icon_factory_get_icon_name_for_file):
	Necessary to make Nautilus compile after changing 
	GNOME_VFS_FILE_TYPE_BROKEN_SYMLINK to GNOME_VFS_FILE_TYPE_SYMBOLIC_LINK
	and removing the existing flag. See bug 1547 for more information on
	breakages in the way Nautilus handles symbolic links (caused by the
	GnomeVFS changes) such as detecting them in the first place.

2000-07-03  Andy Hertzfeld  <andy@eazel.com>

	* libnautilus-extensions/nautilus-background.c:
	(nautilus_background_draw_aa):
	implemented n-point gradients at Arlo's request.  Right now,
	they are only implemented for anti-aliased mode.
	* icons/arlo/arlo.xml:
	made the sidebar use a 3-point gradient

2000-07-03  Gene Z. Ragan  <gzr@eazel.com>

	* libnautilus-extensions/bonobo-stream-vfs.c:
	(bonobo_stream_vfs_class_init), (create_bonobo_stream_vfs):
	Fixed problem with previous change to this file.  Allocated 
	a static epv.  Assigned this epv to the servants epv and then
	alocated the individual elements in the structure.

2000-07-03  Pavel Cisler <pavel@eazel.com>

	* libnautilus-extensions/nautilus-list.c:
	(nautilus_list_drag_start), (nautilus_list_motion):
	Start adding support for dislaying dragged icon while dragging
	in a list view.

2000-07-02  J Shane Culpepper  <pepper@eazel.com>

	*
	components/services/startup/nautilus-view/nautilus-service-startup-
	view.c:
	*
	components/services/summary/nautilus-view/nautilus-summary-view.c:
	(generate_summary_form), (generate_form_title):

	Making summary view "I am just a view" until I can get the actual
	widget finished.

2000-07-02  Pavel Cisler <pavel@eazel.com>

	* components/help/help-method.c: (convert_file_to_uri):
	Make the help component build properly -- convert the call
	gnome_vfs_mime_type_of_file to the new 
	gnome_vfs_get_file_mime_type.
	
	* components/help/Makefile.am:
	Turn on -Werror that would have caught the problem earlier.


2000-07-02  Andy Hertzfeld  <andy@eazel.com>

	* src/nautilus-sidebar-tabs.c: (parse_rectangle_list),
	(nautilus_sidebar_tabs_load_theme_data),
	(nautilus_sidebar_tabs_initialize),
	(nautilus_sidebar_tabs_destroy), (draw_one_tab_plain),
	(draw_tab_piece), (draw_one_tab_themed),
	(draw_or_hit_test_all_tabs), (nautilus_sidebar_tabs_expose):
	made the sidebar tabs themable and implemented arlo-style tabs
	in the arlo theme.  This isn't finished yet, because I still have
	some details to work out with Arlo.
	* icons/arlo/arlo.xml:
	added sidebar tab stuff to the arlo theme
	* libnautilus-extensions/nautilus-theme.c,h:
	(nautilus_theme_get_image_path):
	added a routine to access themed images
	* src/nautilus-property-browser.c: (make_category_link):
	made it access pixmaps with nautilus_pixmap_file instead of gnome_pixmap_file
	* data/browser.xml:
	removed the "nautilus" from image references
	
2000-07-02  J Shane Culpepper  <pepper@eazel.com>

	* components/services/inventory/lib/.cvsignore:
	* components/services/vault/lib/.cvsignore:

	Fixing cvsignores.  I always forget that.

2000-07-02  J Shane Culpepper  <pepper@eazel.com>

	* components/services/Makefile.am:
	* components/services/login/nautilus-view/nautilus-login-view.c:
	(generate_form_title):
	* components/services/startup/lib/Makefile.am:
	* components/services/startup/lib/eazel-register.c:
	* components/services/startup/lib/eazel-register.h:
	* components/services/startup/nautilus-view/Makefile.am:
	* components/services/startup/nautilus-view/icons/Makefile.am:
	* components/services/startup/nautilus-view/main.c:
	(service_object_destroyed), (service_make_object), (main):
	*
	components/services/startup/nautilus-view/nautilus-service-startup-
	view.c: (generate_startup_form), (go_to_uri),
	(generate_form_title),
	(nautilus_service_startup_view_initialize_class),
	(nautilus_service_startup_view_initialize),
	(nautilus_service_startup_view_destroy),
	(nautilus_service_startup_view_get_nautilus_view), (is_location),
	(nautilus_service_startup_view_load_uri),
	(service_load_location_callback):
	*
	components/services/startup/nautilus-view/nautilus-service-startup-
	view.h:

	Have all of the eazel: views hooked into the build now.  Most of the
	backend parsing of eazel:login, eazel:inventory, eazel:summary,
	eazel:time, eazel:startup.  Most of these views don't look very good.
	That's the next task.

2000-07-01  Maciej Stachowiak  <mjs@eazel.com>

	* components/tree/main.c (main): Remove unnecessary debugging
	statement.
	
	* components/tree/nautilus-tree-view.c
	(nautilus_tree_view_insert_file): Partly fix bugzilla task 1524 -
	show icons in tree view. Still need to

2000-07-01  J Shane Culpepper  <pepper@eazel.com>

	* components/services/install/command-line/.cvsignore:
	* components/services/install/lib/.cvsignore:
	* components/services/login/lib/.cvsignore:
	* components/services/summary/lib/.cvsignore:

	cvsignore fixes.

2000-07-01  J Shane Culpepper  <pepper@eazel.com>

	* components/services/inventory/lib/Makefile.am:
	* components/services/inventory/lib/eazel-inventory-shared.c:
	(add_package_info), (read_proc_info), (add_info), (add_io_info),
	(add_hardware_info), (synchronize_configuration_metafile),
	(update_configuration_metafile), (create_configuration_metafile):
	* components/services/inventory/lib/eazel-inventory-shared.h:
	* components/services/inventory/nautilus-view/Makefile.am:
	*
	components/services/inventory/nautilus-view/nautilus-inventory-view
	.c: (generate_inventory_form), (gather_config_button_cb),
	(register_later_cb), (make_http_post_request), (go_to_uri),
	(get_home_uri), (update_now):

	Moving the inventory view to its new home to make way for the new
	bootstrap startup view.

2000-07-01  J Shane Culpepper  <pepper@eazel.com>

	* components/services/inventory/nautilus-view/Makefile.am:
	* components/services/inventory/nautilus-view/main.c:
	(inventory_object_destroyed), (inventory_make_object), (main):
	*
	components/services/inventory/nautilus-view/nautilus-inventory-view
	.c: (generate_inventory_form), (entry_changed_cb),
	(inventory_button_cb), (maintenance_button_cb), (show_feedback),
	(generate_form_title), (nautilus_inventory_view_initialize_class),
	(nautilus_inventory_view_initialize),
	(nautilus_inventory_view_destroy),
	(nautilus_inventory_view_get_nautilus_view),
	(nautilus_inventory_view_load_uri),
	(inventory_load_location_callback):
	*
	components/services/inventory/nautilus-view/nautilus-inventory-view
	.h:
	*
	components/services/inventory/nautilus-view/nautilus-inventory-view
	.oafinfo:
	* components/services/login/nautilus-view/Makefile.am:
	* components/services/login/nautilus-view/main.c:
	(login_make_object):
	* components/services/summary/nautilus-view/Makefile.am:
	* components/services/summary/nautilus-view/main.c:
	(summary_object_destroyed), (summary_make_object), (main):
	*
	components/services/summary/nautilus-view/nautilus-summary-view.c:
	(generate_summary_form), (entry_changed_cb), (summary_button_cb),
	(maintenance_button_cb), (show_feedback), (generate_form_title),
	(nautilus_summary_view_initialize_class),
	(nautilus_summary_view_initialize),
	(nautilus_summary_view_destroy),
	(nautilus_summary_view_get_nautilus_view),
	(nautilus_summary_view_load_uri), (summary_load_location_callback):
	*
	components/services/summary/nautilus-view/nautilus-summary-view.h:
	*
	components/services/summary/nautilus-view/nautilus-summary-view.oaf
	info:

	Simple framework for inventory and summary views.  Minor fixes to
	login view.  All are clones of the same basic widget right now. I'll
	be adding the real widgets soon.

2000-06-30  Ramiro Estrugo  <ramiro@eazel.com>

	* src/nautilus-application.c: (display_installation_wizard),
	(nautilus_application_startup):
	Add code to display an installation wizard using the new druid.
	Its #ifdefed out until we do more real work on it.
	
2000-06-30  Ramiro Estrugo  <ramiro@eazel.com>

	* configure.in:
	* cut-n-paste-code/widgets/Makefile.am:
	Build the new nautilus druid.
	
2000-06-30  Ramiro Estrugo  <ramiro@eazel.com>

	* configure.in:
	* src/Makefile.am:
	Adding canvas pixbuf item check and flags, which are needed in
	order to use the nautilus druid.
	
2000-06-30  Ramiro Estrugo  <ramiro@eazel.com>

	* cut-n-paste-code/widgets/nautilus-druid/nautilus-druid-page-edge.c:
	(nautilus_druid_page_edge_construct):
	* cut-n-paste-code/widgets/nautilus-druid/nautilus-druid-page-finish.c:
	(nautilus_druid_page_finish_configure_size),
	(nautilus_druid_page_finish_construct),
	(nautilus_druid_page_finish_set_logo),
	(nautilus_druid_page_finish_set_watermark):
	* cut-n-paste-code/widgets/nautilus-druid/nautilus-druid-page-standard.c:
	(nautilus_druid_page_standard_construct):
	* cut-n-paste-code/widgets/nautilus-druid/nautilus-druid-page-start.c:
	(nautilus_druid_page_start_construct):
	Update these items to properly use the canvas pixbuf beast.
	
2000-06-30  Ramiro Estrugo  <ramiro@eazel.com>

	* cut-n-paste-code/widgets/nautilus-druid/nautilus-druid-page-edge.c:
	* cut-n-paste-code/widgets/nautilus-druid/nautilus-druid-page-edge.h:
	* cut-n-paste-code/widgets/nautilus-druid/nautilus-druid-page-finish.c:
	* cut-n-paste-code/widgets/nautilus-druid/nautilus-druid-page-finish.h:
	* cut-n-paste-code/widgets/nautilus-druid/nautilus-druid-page-standard.c:
	* cut-n-paste-code/widgets/nautilus-druid/nautilus-druid-page-standard.h:
	* cut-n-paste-code/widgets/nautilus-druid/nautilus-druid-page-start.c:
	* cut-n-paste-code/widgets/nautilus-druid/nautilus-druid-page-start.h:
	* cut-n-paste-code/widgets/nautilus-druid/nautilus-druid-page.c:
	* cut-n-paste-code/widgets/nautilus-druid/nautilus-druid-page.h:
	* cut-n-paste-code/widgets/nautilus-druid/nautilus-druid.c:
	* cut-n-paste-code/widgets/nautilus-druid/nautilus-druid.h:
	Globally rename the GnomeDruid to NautilusDruid to prevent
	namespace clashing with the gnome-libs-1-0 druid.
	
2000-06-30  Ramiro Estrugo  <ramiro@eazel.com>

	* cut-n-paste-code/widgets/nautilus-druid/.cvsignore:
	* cut-n-paste-code/widgets/nautilus-druid/Makefile.am:
	* cut-n-paste-code/widgets/nautilus-druid/nautilus-druid-page-edge.c:
	* cut-n-paste-code/widgets/nautilus-druid/nautilus-druid-page-edge.h:
	* cut-n-paste-code/widgets/nautilus-druid/nautilus-druid-page-finish.c:
	* cut-n-paste-code/widgets/nautilus-druid/nautilus-druid-page-finish.h:
	* cut-n-paste-code/widgets/nautilus-druid/nautilus-druid-page-standard.c:
	* cut-n-paste-code/widgets/nautilus-druid/nautilus-druid-page-standard.h:
	* cut-n-paste-code/widgets/nautilus-druid/nautilus-druid-page-start.c:
	* cut-n-paste-code/widgets/nautilus-druid/nautilus-druid-page-start.h:
	* cut-n-paste-code/widgets/nautilus-druid/nautilus-druid-page.c:
	* cut-n-paste-code/widgets/nautilus-druid/nautilus-druid-page.h:
	* cut-n-paste-code/widgets/nautilus-druid/nautilus-druid.c:
	* cut-n-paste-code/widgets/nautilus-druid/nautilus-druid.h:
	Importing the gnome-libs HEAD druid to the cut-n-paste toxic
	dump.  Arlofication will proceed.
	
2000-06-30  Andy Hertzfeld  <andy@eazel.com>

	* libnautilus-extensions/nautilus-file-utilities.c:
	(nautilus_get_user_main_directory):
	use gnome_vfs_xfer instead of a 'cp' command to install the
	novice home directory.  This fixes bug 1285.
	
2000-06-30  Andy Hertzfeld  <andy@eazel.com>

	eliminated the separate toolbar icon theme; instead it's
	incorporated into the general theming mechanism
	
	* libnautilus-extensions/nautilus-global-preferences.h:
	got rid of NAUTILUS_PREFERENCES_TOOLBAR_ICON_THEME
	* libnautilus-extensions/nautilus-global-preferences.c:
	(global_preferences_create_dialog),
	(global_preferences_register_for_ui):
	got rid of the toolbar_icon preference and the associated widgetry
	* libnautilus-extensions/nautilus-preferences-item.c,h:
	(preferences_item_construct), (preferences_item_create_theme):
	got rid of the preference item for the toolbar icon theme
	* src/nautilus-window-toolbars.c: (setup_button),
	(setup_toolbar_images), (nautilus_window_initialize_toolbars),
	(nautilus_window_toolbar_remove_theme_callback):
	use the general theming framework to determine the toolbar icons
	to use
	* icons/vector/vector.xml:
	made the vector theme use Susan's toolbar icons
	* libnautilus-extensions/nautilus-background.c:
	(nautilus_background_draw):
	a little bit of clean-up
		
2000-06-30  Gene Z. Ragan  <gzr@eazel.com>

	* libnautilus-extensions/bonobo-stream-vfs.c:
	(create_bonobo_stream_vfs):
	A fix to make the setting of the vepv work.  The extern
	vepv is gone, so we now use the allocator functions.

2000-06-30  Andy Hertzfeld  <andy@eazel.com>

	* libnautilus-extensions/nautilus-background.c:
	(nautilus_background_draw):
	fixed bug where the combine mode implemented last night wasn't
	working for normal drawables by setting the fake CanvasBuf flags
	properly.  Now the sidebar in the arlo theme is working.
	
2000-06-30  Fatih Demir	<kabalak@gmx.net>
	
	* acconfig.h: Added masses of undefs for the wrapping
		function ( as mentioned down ).

	* configure.in: If a Bzip2 is found, define the Bzip2
		wrapping functions vie AC_DEFINE to get it into
		 config.h, so the rpm-component and the other
		  Bzip2-based components should now compile with
		   the new Bzip2 versions without problems.
	
2000-06-30  Andy Hertzfeld  <andy@eazel.com>

	* configure.in:
	* data/backgrounds/Makefile.am:
	* icons/Makefile.am:
	* icons/arlo/.cvsignore:
	* icons/arlo/Makefile.am:
	* icons/arlo/arlo.xml:
	added a new theme for Arlo
	* libnautilus-extensions/nautilus-background.c,h:
	(nautilus_background_get_combine_mode),
	(nautilus_background_set_combine_mode), (nautilus_background_draw),
	(nautilus_background_draw_aa):
	added "combine" mode where it draws a background overlayed with a
	semi-transparent image.
	* libnautilus-extensions/nautilus-directory-background.c:
	(directory_changed_callback), (background_reset_callback):
	set up combine_mode if necessary
	* src/nautilus-property-browser.c:
	(make_properties_from_directory_path):
	don't display images whose name starts with "."
	* src/nautilus-sidebar.c: (background_reset_callback),
	(nautilus_sidebar_update_info):
	set up combine mode if necessary

2000-06-29  Eskil Heyn Olsen  <eskil@eazel.com>

	* components/services/install/command-line/Makefile.am:
	* components/services/install/command-line/eazel-uninstall.c:
	(set_parameters_from_command_line), (progress_signal),
	(uninstall_failed), (dep_check), (create_package), (done), (main):
	* components/services/install/lib/Makefile.am:
	* components/services/install/lib/eazel-install-object.c:
	(eazel_install_uninstall_packages):
	* components/services/install/lib/eazel-install-rpm-glue.c:
	(uninstall_packages), (uninstall_a_package), (do_rpm_uninstall),
	(eazel_install_prepare_rpm_system), (eazel_install_add_to_rpm_set),
	(eazel_install_add_to_set), (eazel_install_fetch_rpm_dependencies),
	(eazel_install_do_dependency_check), (eazel_install_ensure_deps),
	(eazel_uninstall_upward_traverse),
	(eazel_uninstall_downward_traverse), (eazel_uninstall_globber):
	Doing a lot of slashing in the uninstall part.
	
	* nautilus-installer/src/Makefile:
	This is still checked in, as the installer isn't part of the build
	tree.
	
2000-06-29  Pavel Cisler  <pavel@eazel.com>

	Fixed some memory leaks.
	
	* libnautilus-extensions/nautilus-mime-actions.c:
	(nautilus_mime_get_short_list_components_for_uri):
	Fix a leaked string.

	* src/nautilus-zoom-control.c:
	(nautilus_zoom_control_set_preferred_zoom_levels):
	Fix a leaky setter call.

	* test/Makefile.am:
	Add a make target for a leak checker tester.
	
	* test/nautilus-leak-checker.c:
	(nautilus_leak_allocation_record_init),
	(nautilus_leak_record_malloc), (nautilus_leak_record_realloc),
	(nautilus_leak_record_free), (print_one_leak),
	(nautilus_leak_print_leaks), (allocate_lots), (leak_mem2),
	(leak_mem), (main):
	* test/nautilus-leak-symbol-lookup.c:
	(nautilus_leak_print_symbol_address):
	Tweak the leak checker output a bit to make it more nicer and
	indicate the level of stack frame grouping.

	* src/nautilus-main.c: (print_leaks):
	Tweak the parameters a bit to print more leaks.

2000-06-29  Maciej Stachowiak  <mjs@eazel.com>

	* components/tree/Makefile.am: Add VFS_CFLAGS

	* components/tree/main.c (main): Initialize more libraries.
	
	* components/tree/nautilus-tree-view.h,
	components/tree/nautilus-tree-view.c: Many changes. The upshot is
	that basic tree loading now works, but many details remain to be
	fleshed out (individual bugs were filed on these).

	* libnautilus-extensions/nautilus-directory-async.c:
	(dequeue_pending_idle_callback), (directory_load_done): Try to
	emit done signal exactly once when a monitor load is complete. But
	I think this might be questionable, see below.

	* libnautilus-extensions/nautilus-directory-private.h,
	libnautilus-extensions/nautilus-directory.h,
	libnautilus-extensions/nautilus-directory.c: Add the
	"done_loading" signal for when a load initiated by monitoring is
	done. I just realized this does the wrong thing when more than one
	thing is monitoring at the same time (both get the signal), so
	maybe it should be changed to a callback function passed to
	nautilus_file_monitor_add, but that would be harder to implement.

	(nautilus_directory_emit_done_loading): Function so the async code
	can emit it.

2000-06-29  Ramiro Estrugo  <ramiro@eazel.com>

	* components/mozilla/Makefile.am:
	* components/mozilla/mozilla-preferences.cpp:
	* components/mozilla/mozilla-preferences.h:
	Add a small C wrapper for poking mozilla preferences.

	* components/mozilla/nautilus-mozilla-content-view.c:
	(nautilus_mozilla_content_view_initialize):
	Poke some interesting preferences.
	
	* configure.in:
	If the mozilla component is being built, add a check for the c++
	compiler which is needed by the mozilla preferences C wrapper.
	
2000-06-29  Ali Abdin <aliabdin@aucegypt.edu

	* components/help/Makefile.am: Install the libvfs-help.so module
	in the right place. Closes Bug #919. (will not work though
	if Nautilus prefix != gnome-vfs prefix (unless a fix goes into
	gnome-vfs))

	* components/websearch/ntl-web-search.c:
	(web_search_populate_engines): Fix to make it look in the right
	place (WEB_SEARCH_DATADIR "/standard.eng" instead of
	WEB SEARCH_DATADIR "/ntl-web-search/standard.eng")

2000-06-29  Ramiro Estrugo  <ramiro@eazel.com>

	* components/mozilla/nautilus-mozilla-content-view.oafinfo:
	Expose the fact that this component can grok file: and ftp: uris.
	
2000-06-29  Andy Hertzfeld  <andy@eazel.com>

	* libnautilus-extensions/nautilus-directory-background.c,h:
	(directory_changed_callback),
	(nautilus_directory_background_is_set),
	(nautilus_connect_background_to_directory_metadata):
	added nautilus_directory_background_is_set, and some cleanups
	* src/file-manager/fm-directory-view.c: (compute_menu_item_info),
	(fm_directory_view_real_update_menus):
	used nautilus_directory_background_is_set to enable/disable item
	
2000-06-29  Pavel Cisler <pavel@eazel.com>

	* libnautilus-extensions/nautilus-icon-dnd.h:
	* libnautilus-extensions/nautilus-icon-dnd.c:
	(nautilus_icon_dnd_init),
	(nautilus_icon_dnd_begin_drag), (drag_motion_callback),
	(drag_drop_callback):
	* libnautilus-extensions/nautilus-icon-container.c:
	(motion_notify_event), (key_press_event):
	Got rid of the crufty old way drag&drop motion used to handle
	updating the drop action.

	* libnautilus-extensions/nautilus-drag.h:
	* libnautilus-extensions/nautilus-icon-dnd.c:
	* libnautilus-extensions/nautilus-drag.c:
	(nautilus_drag_modifier_based_action):
	Moved to the common drag&drop file so I can share it
	between the list and icon view.
	
	* libnautilus-extensions/nautilus-list.c:
	(nautilus_list_initialize), (nautilus_list_motion),
	(nautilus_list_drag_motion):

	* libnautilus-extensions/nautilus-icon-dnd.c:
	(confirm_switch_to_manual_layout):
	Reformatted a bit.

2000-06-29  Rebecca Schulman  <rebecka@eazel.com>

	* src/nautilus-complex-search-bar.c:
	(nautilus_complex_search_bar_initialize_class),
	(nautilus_complex_search_bar_set_search_controls):
	Fixed assertion problem by adding set_search_controls
	method

2000-06-28  Andy Hertzfeld  <andy@eazel.com>

	* libnautilus-extensions/nautilus-directory-background.c:
	(local_data_file_to_uri), (directory_changed_callback),
	(nautilus_directory_background_theme_changed),
	(background_reset_callback), (background_destroyed_callback),
	(nautilus_connect_background_to_directory_metadata):
	made directory backgrounds use the current theme to determine their
	default background.  Made reset restore the default background. Receive
	notification when the theme changes, and change the background if necessary.
	* src/file-manager/fm-directory-view.c:
	(fm_directory_view_real_merge_menus):
	removed the "reset background" menu item.
	* src/nautilus-sidebar.c: (map_local_data_file),
	(nautilus_sidebar_read_theme), (nautilus_sidebar_update_info):
	cleaned up dealing with local filenames
	* icons/vector/vector.xml:
	changed the main background of the vector theme

2000-06-28  Andy Hertzfeld  <andy@eazel.com>

	* components/music/mp3head.c,h: (get_bitrate), (get_mpgver),
	(get_stereo):
	integrated Erik Gustavsson's patches to make the slider
	work correctly at arbitrary bit-rates
	* components/music/nautilus-music-view.c:
	(nautilus_music_view_initialize), (strip_trailing_blanks),
	(fetch_song_info), (play_status_display), (play_current_file),
	(slider_moved_callback), (slider_release_callback),
	(nautilus_music_view_update_from_uri):
	more of Erik's patchs, plus made the music view use
	nautilus_directory_background to save code and to use the same
	background as the other views.
	* libnautilus-extensions/nautilus-directory-background.c:
	(background_destroyed_callback), (dummy_callback),
	(nautilus_connect_background_to_directory_metadata),
	(nautilus_connect_background_to_directory_metadata_by_uri):
	arranged for users of nautilus-directory-background to receive
	metadata, by call nautilus_directory_file_monitor_add and remove
	* src/file-manager/fm-list-view.c:
	removed an unused define for DEFAULT_BACKGROUND_COLOR

2000-06-28  Rebecca Schulman  <rebecka@eazel.com>

	* libnautilus-extensions/nautilus-search-uri.c:
	(nautilus_simple_search_criteria_to_search_uri):
	(add facility to make search uri's from simple
	search queries )
	* src/nautilus-complex-search-bar.c:
	(nautilus_complex_search_bar_initialize_class),
	(nautilus_complex_search_bar_initialize), (more_options_callback),
	(add_file_type_search_criterion_callback),
	(add_file_name_search_criterion_callback),
	(add_file_location_search_criterion_callback),
	(add_content_search_criterion_callback),
	(add_size_search_criterion_callback),
	(add_date_modified_search_criterion_callback),
	(add_notes_search_criterion_callback),
	(nautilus_complex_search_bar_get_location):
	added ability to add more criterion (still incomplete)
	* src/nautilus-complex-search-bar.h:
	* src/nautilus-search-bar-criterion.c:
	(nautilus_search_bar_criterion_file_type_new),
	(nautilus_search_bar_criterion_file_name_new),
	(nautilus_search_bar_criterion_location_new),
	(nautilus_search_bar_criterion_content_new),
	(nautilus_search_bar_criterion_size_new),
	(nautilus_search_bar_criterion_add_to_search_bar),
	(nautilus_search_bar_criterion_show):
	added code to actually create various search
	button criterion sets.
	* src/nautilus-search-bar-criterion.h:
	* src/nautilus-simple-search-bar.c:
	(nautilus_simple_search_bar_initialize_class),
	(nautilus_simple_search_bar_get_location),
	(editable_activated_callback):
	* src/nautilus-simple-search-bar.h:
	Updated so that the search location 
	is done correctly.  Adjustments to
	the nautilus-directory should
	be all that is needed to make all of
	this stuff work.
	* src/nautilus-switchable-search-bar.c:
	(nautilus_switchable_search_bar_initialize),
	(nautilus_switchable_search_bar_get_location),
	(nautilus_switchable_search_bar_set_search_controls):
	Some widget changes, and search get_location
	calls respective simple or complex search bar 
	get_location functions

2000-06-28  Michael Engber  <engber@eazel.com>

	* libnautilus/nautilus-zoomable.c:
	(nautilus_g_list_from_ZoomLevelList),
	(nautilus_ZoomLevelListBuffer_from_zoom_levels),
	(impl_Nautilus_Zoomable__get_preferred_zoom_level_list),
	(nautilus_zoomable_initialize_class), (nautilus_zoomable_set_arg),
	(nautilus_zoomable_get_arg),
	(nautilus_zoomable_new_from_bonobo_control):
	* src/nautilus-view-frame.c:
	(nautilus_view_frame_get_preferred_zoom_levels):
	* src/nautilus-zoom-control.c:
	(nautilus_zoom_control_class_initialize),
	(nautilus_zoom_control_destroy),
	(nautilus_zoom_control_initialize), (create_zoom_menu_item):
	Fixed 1497 - problems with freeing the CORBA returned preferred
	zoom level lists. Finally done with 1425 - decoupling the zoom
	control from insider knowledge of the icon/list views.

2000-06-28  Darin Adler  <darin@eazel.com>

	* components/music/nautilus-music-view.c:
	(nautilus_music_view_drag_data_received):
	* libnautilus-extensions/nautilus-icon-dnd.c:
	(receive_dropped_tile_image):
	* src/nautilus-sidebar.c: (receive_dropped_uri_list):
	Changed to use new call that's for receiving dropped images.
	
	* src/nautilus-sidebar.c: (background_settings_changed_callback),
	(background_appearance_changed_callback),
	(background_reset_callback), (nautilus_sidebar_update_info):
	Changed signal handlers to use the normal form instead of
	connect_object. Changed the reset callback to stop the reset
	signal from going any further now that there's a default handler
	for reset.

	* libnautilus-extensions/nautilus-directory-background.c:
	(background_reset_callback): Add a call to stop the reset signal
	from going any further now that there's a default handler for
	reset.

	* libnautilus-extensions/nautilus-background.h:
	* libnautilus-extensions/nautilus-background.c:
	(nautilus_background_initialize_class),
	(nautilus_background_receive_dropped_background_image),
	(nautilus_background_set_tile_image_uri),
	(nautilus_background_reset), (nautilus_background_real_reset):
	Made nautilus_background_reset set the color and image to NULL by
	default instead of doing nothing. Also added a new call to receive
	a dropped background image and only pay attention to the special
	"reset" image name there instead of hacking it into
	_set_tile_image_uri itself.
	
	* libnautilus-extensions/nautilus-stock-dialogs.h:
	* libnautilus-extensions/nautilus-stock-dialogs.c:
	(find_message_label), (find_message_label_callback),
	(show_message_box), (show_ok_box), (nautilus_info_dialog),
	(nautilus_warning_dialog), (nautilus_error_dialog),
	(clicked_callback), (nautilus_error_dialog_with_details),
	(nautilus_yes_no_dialog): Change the API for stock dialogs
	to be a little simpler, getting rid of the separate parented
	variant. Also added a new dialog for errors that have a second
	more detailed error message.
	
	* libnautilus-extensions/nautilus-program-chooser.c:
	(nautilus_program_chooser_show_no_choices_message):
	* libnautilus-extensions/nautilus-program-choosing.c:
	(nautilus_launch_application_parented):
	* src/file-manager/fm-error-reporting.c:
	(fm_report_error_renaming_file), (fm_report_error_setting_group),
	(fm_report_error_setting_owner),
	(fm_report_error_setting_permissions):
	* src/nautilus-property-browser.c: (emblem_image_file_changed),
	(add_background_to_browser):
	* src/nautilus-window-manage-views.c:
	(handle_unreadable_location),
	(nautilus_window_end_location_change_callback),
	(report_content_view_failure_to_user),
	(report_sidebar_panel_failure_to_user):
	* src/nautilus-window-menus.c: (show_bogus_bookmark_window):
	Change to use new API for stock dialogs.
	
	* src/nautilus-application.c: (create_factory),
	(nautilus_application_initialize),
	(nautilus_application_check_user_directories),
	(nautilus_application_startup):
	Moved OAF registration to application_startup and added some
	error handling for the case where we have two copies of Nautilus.
	
	* libnautilus-extensions/nautilus-file.h: Move get_mapped_uri
	out of the "good part" of the header and add a FIXME.
	
	* components/services/install/lib/.cvsignore:
	Ignore some new generated files. Maybe some day I can get Eskil to
	make these himself as he adds new things.
	
2000-06-28  John Sullivan  <sullivan@eazel.com>

	* libnautilus-extensions/nautilus-file.c:
	(get_user_and_real_name_from_id):
	* src/file-manager/fm-properties-window.c:
	(create_owner_menu_item):
	Changed format of reporting username/real name
	to match Arlo's design.

2000-06-28  John Sullivan  <sullivan@eazel.com>

	* src/file-manager/fm-properties-window.c: (create_basic_page),
	(add_special_execution_flags), (create_permissions_page):
	Changed some layout and wording to match Arlo's design. More
	layout changes to come later.

	* src/nautilus-window-manage-views.c:
	(report_sidebar_panel_failure_to_user),
	(nautilus_window_update_state): Added this function as
	placeholder for potentially useful error message.

2000-06-28  John Sullivan  <sullivan@eazel.com>

	* src/nautilus-window-manage-views.c:
	(report_content_view_failure_to_user),
	(nautilus_window_update_state): Put up a dialog box
	when the content view fails. The dialog box tells the
	user they can switch to another view or go to another
	location.

2000-06-28  Andy Hertzfeld <andy@eazel.com>

	* icons/eazel/i-regular-12.png:
	* icons/eazel/i-regular-24.png:
	* icons/eazel/i-regular-36.png:
	* icons/eazel/i-regular.png:
	* icons/eazel/i-regular-72.png:
	* icons/eazel/i-regular-96.png:
	new document icons from Susan
	
2000-06-28  John Sullivan  <sullivan@eazel.com>

	Made the view-failure-handling code only execute
	when a view fails, instead of also executing during
	a normal quit. This is a starting point for putting
	some UI at the failure.

	* src/nautilus-window.c: 
	(nautilus_window_disconnect_view): New function to disconnect
	the signal handlers on a view that were established in
	nautilus_window_connect_view.
	(view_disconnect): foreach-style wrapper for _disconnect_view.
	(nautilus_window_destroy): Call _disconnect_view on each
	sidebar panel, and on the content view.
	(nautilus_window_connect_view): Added comment and updated
	for a name change.
	(nautilus_window_connect_content_view): Removed this wrapper
	for _connect_view, which no longer did anything other than
	call through.
	* src/nautilus-window-manage-views.c:
	(nautilus_window_view_failed): Renamed from
	"nautilus_window_view_destroyed" since it's (now) only
	called in the case of a failure.
	(nautilus_window_has_really_changed): Call _disconnect_view.
	(nautilus_window_load_content_view): Replaced 
	_connect_content_view with _connect_view.
	* src/nautilus-window-private.h: updated prototypes to match
	previously-mentioned changes.

2000-06-28  John Sullivan  <sullivan@eazel.com>

	* src/nautilus-sidebar-title.c: (nautilus_sidebar_title_set_uri),
	* src/nautilus-sidebar.c: (nautilus_sidebar_update_info): Added
	a couple of NULL uri checks to get us cleanly past the case where
	the URI is temporarily null at startup time when the theme is set.

2000-06-28  Maciej Stachowiak  <mjs@eazel.com>

	* libnautilus-extensions/nautilus-mime-actions.c:
	(nautilus_mime_get_default_component_for_uri_internal): Fixed FIXME
	number.

2000-06-28  Andy Hertzfeld  <andy@eazel.com>

	* libnautilus-extensions/Makefile.am:
	added nautilus-theme.c and nautilus-theme.h
	* libnautilus-extensions/nautilus-theme.c,h:
	(nautilus_theme_get_theme), (nautilus_theme_set_theme),
	(load_theme_document), (nautilus_theme_get_theme_data):
	added theme framework that allows clients to access theme information
	without knowing the underlying implementation
	* src/nautilus-sidebar.c: (nautilus_sidebar_read_theme):
	made the sidebar use the new theme framework	
	* icons/default.xml:
	* icons/eazel/eazel.xml:
	* icons/vector/vector.xml:
	changed the icon container keyword for new framework

2000-06-27  Eskil Heyn Olsen  <eskil@eazel.com>

	* src/nautilus-view-frame.c:
	(nautilus_view_frame_get_preferred_zoom_levels):
	Commented out a CORBA_free that causes sigsegv (noted by
	Carbamide). Filed a bug report (1497) on it. 
	
2000-06-27  Eskil Heyn Olsen  <eskil@eazel.com>

	* components/services/install/lib/eazel-install-public.h:
	Eeek, evil.h is no longer there.
	
2000-06-27  Eskil Heyn Olsen  <eskil@eazel.com>

	* components/rpmview/nautilus-rpm-view-install.c:
	(nautilus_rpm_view_install_done),
	(nautilus_rpm_view_install_package_callback),
	(nautilus_rpm_view_uninstall_package_callback):
	* components/rpmview/nautilus-rpm-view-install.h:
	* components/rpmview/nautilus-rpm-view.c:
	(nautilus_rpm_view_initialize),
	(nautilus_rpm_view_update_from_uri):
	* components/rpmview/nautilus-rpm-view.h:
	Hooked up the uninstall button, and made the install's done
	callback signal update the view.
	
	* components/services/install/lib/eazel-install-corba-callback.c:
	(eazel_install_callback_uninstall_packages):
	* components/services/install/lib/eazel-install-corba-callback.h:
	* components/services/install/lib/eazel-install-corba-types.c:
	(categorydata_list_from_corba_categorystructlist):
	* components/services/install/lib/eazel-install-corba-types.h:
	* components/services/install/lib/eazel-install-corba.c:
	(impl_Eazel_Install_install_packages),
	(impl_Eazel_Install_uninstall_packages):
	* components/services/install/lib/eazel-install-object.c:
	(eazel_install_uninstall_packages):
	* components/services/install/lib/eazel-install-public.h:
	* components/services/install/lib/eazel-install-rpm-glue.c:
	(uninstall_packages), (uninstall_a_package):
	* components/services/install/lib/eazel-install-rpm-glue.h:
	Made the uninstall work, still missing all the dep stuff
	(bugzilla.eazel.com 1478)	
	
	* components/services/install/lib/Makefile.am:
	* components/services/install/lib/makefile.staticlib.in:
	I decided the other makefile.am I had made was too evil, so now I
	just have a standard makefile to generate the static lib for the
	nautilus bootstrapper.
	
	* configure.in:
	Generate the components/services/install/lib/makefile.staticlib
	
	* nautilus-installer/src/HACKING:
	* nautilus-installer/src/Makefile:
	* nautilus-installer/src/Makefile.am:
	* nautilus-installer/src/installer.c: (installer):
	* nautilus-installer/src/interface.c: (create_window):
	* nautilus-installer/src/link.sh:
	* nautilus-installer/src/main.c: (main):
	Preparing for Bud's request about being able to install a "stable"
	nautilus and a set of rpm's from HEAD.
	Also made link.sh recompile libeazelinstall_minimal using the
	makefile.staticlib.

2000-06-27  Robin * Slomkowski <rslomkow@eazel.com>

	* nautilus-clean.sh: nautilus-tree=voew changed to
	nautilus-tree-view

2000-06-27  Andy Hertzfeld  <andy@eazel.com>

	* libnautilus-extensions/nautilus-file-utilities.c,h:
	(nautilus_is_remote_uri):
	added a utility routine to determine if a string represents
	a remote uri.
	* libnautilus-extensions/nautilus-link.c:
	(nautilus_link_get_image_uri):
	made it use nautilus_is_remote_uri
	* src/nautilus-sidebar.c: (uri_is_local_image),
	(add_command_buttons):
	fixed bug 1494, can't set up custom icon to directories with
	blanks in their name, by escaping and unescaping when we translate
	between paths and uris.  Also, fixed bug 607 by using is_remote_uri.
	
2000-06-27  Michael Engber  <engber@eazel.com>

	* libnautilus/nautilus-view-component.idl:
	* libnautilus/nautilus-zoomable.c:
	(nautilus_g_list_from_ZoomLevelList),
	(nautilus_ZoomLevelList_from_zoom_levels),
	(impl_Nautilus_Zoomable__get_is_continuous),
	(impl_Nautilus_Zoomable__get_preferred_zoom_level_list),
	(nautilus_zoomable_initialize_class), (nautilus_zoomable_set_arg),
	(nautilus_zoomable_get_arg), (nautilus_zoomable_new),
	(nautilus_zoomable_new_from_bonobo_control),
	(nautilus_zoomable_destroy):
	* libnautilus/nautilus-zoomable.h:
	* src/file-manager/fm-directory-view.c:
	(fm_directory_view_initialize):
	* src/nautilus-view-frame.c:
	(nautilus_view_frame_get_max_zoom_level),
	(nautilus_view_frame_get_preferred_zoom_levels):
	* src/nautilus-view-frame.h:
	* src/nautilus-window.c:
	(nautilus_window_zoom_level_changed_callback):
	* src/nautilus-zoom-control.c: (nautilus_zoom_control_initialize),
	(create_zoom_menu_item), (create_zoom_menu),
	(nautilus_zoom_control_set_max_zoom_level),
	(nautilus_zoom_control_set_preferred_zoom_levels):
	* src/nautilus-zoom-control.h:
	Added get_preferred_zoom_levels. Fixed zoom-control to
	use this info to generate it's right click menu.

2000-06-27  Andy Hertzfeld  <andy@eazel.com>

	* libnautilus-extensions/nautilus-icon-factory.c:
	(make_thumbnail_path), (nautilus_icon_factory_make_thumbnails):
	fixed bug 1491, can't make thumbnails if enclosing directory has
	a blank, by escaping and unescaping properly when we translate
	between paths and uris.
	
2000-06-27  Andy Hertzfeld  <andy@eazel.com>

	* libnautilus-extensions/nautilus-directory-background.c:
	(background_reset_callback),
	(nautilus_connect_background_to_directory_metadata):
	made the background reset command work in directory views again,
	by attaching to the background reset signal.  It's still not
	respecting the theme, but will soon.
	
2000-06-27  Andy Hertzfeld  <andy@eazel.com>

	made the sidebar draw the background determined by the current
	theme when reset. 
	
	* libnautilus-extensions/nautilus-background.c,h:
	(nautilus_background_initialize_class),
	(nautilus_background_set_tile_image_uri),
	(nautilus_background_reset):
	added a "reset" signal to nautilus_background, which fires when
	the background is reset.
	* libnautilus-extensions/nautilus-background.h:
	* src/nautilus-sidebar.c: (nautilus_sidebar_background_is_default),
	(nautilus_sidebar_create_context_menu),
	(nautilus_sidebar_appearance_changed),
	(nautilus_sidebar_background_reset),
	(nautilus_sidebar_update_info):
	attach to the background reset signal and handle it properly
	
2000-06-27  Michael Engber  <engber@eazel.com>

	* libnautilus/nautilus-view-component.idl:
	* libnautilus/nautilus-zoomable.c:
	(impl_Nautilus_Zoomable__get_is_continuous),
	(nautilus_zoomable_initialize_class), (nautilus_zoomable_get_arg),
	(nautilus_zoomable_ensure_zoomable_frame):
	* src/file-manager/fm-directory-view.c:
	(fm_directory_view_initialize), (zoomable_zoom_to_fit_callback),
	(fm_directory_view_set_zoom_level):
	* src/file-manager/fm-directory-view.h:
	* src/file-manager/fm-icon-view.c: (fm_icon_view_begin_loading),
	(fm_icon_view_set_zoom_level), (fm_icon_view_bump_zoom_level),
	(fm_icon_view_zoom_to_level),
	(fm_icon_view_restore_default_zoom_level):
	* src/file-manager/fm-list-view.c: (fm_list_view_bump_zoom_level),
	(fm_list_view_zoom_to_level),
	(fm_list_view_restore_default_zoom_level),
	(fm_list_view_begin_loading), (fm_list_view_set_zoom_level):
	* src/nautilus-view-frame.c:
	(nautilus_view_frame_initialize_class),
	(nautilus_view_frame_zoom_level_changed):
	* src/nautilus-view-frame.h:
	* src/nautilus-window.c: (zoom_to_fit_callback),
	(nautilus_window_constructed),
	(nautilus_window_zoom_level_changed_callback),
	(nautilus_window_connect_view):
	* src/nautilus-zoom-control.c:
	(nautilus_zoom_control_class_initialize),
	(nautilus_zoom_control_initialize),
	(nautilus_zoom_control_button_press_event):
	* src/nautilus-zoom-control.h:
	* src/nautilus-zoomable-frame-corba.c:
	(impl_Nautilus_ZoomableFrame_report_zoom_level_changed):
	Removed zoom_to_default and zoom_parameters_changed.
	The nautilus-window now queries the zoomable for max
	and min before showing the zoom control.

2000-06-27  J Shane Culpepper  <pepper@eazel.com>

	* components/rpmview/Makefile.am:
	Added components/services/trilobite to the includes in order for a
	clean build to find some header files.

2000-06-27  John Sullivan  <sullivan@eazel.com>

	Finished task 461 (bookmarks to "Bad URI" should have
	an icon). I picked arbitrary existing icons (gnome foot
	for "generic bookmark", gnome-foot-question-mark for
	"bookmark with known-bad URI"); Arlo and/or Susan will
	have to come up with real ones. I'll write a separate
	bug report about that.

	* icons/i-bookmark.png:
	* icons/i-bookmark-20.png:
	* icons/i-bookmark-missing.png:
	* icons/i-bookmark-missing-20.png: New icons to use
	for bookmarks. I supplied the base size and the 20
	pixel size because that's the one used in menus, where
	bookmarks usually appear. These need to be replaced with
	better images.
	
	* icons/Makefile.am: Add new icons to installed set.
	
	* libnautilus-extensions/nautilus-bookmark.h,
	* libnautilus-extensions/nautilus-bookmark.c:
	(nautilus_bookmark_uri_known_not_to_exist): New public
	function, moved some code from elsewhere to encapsulate this.
	(nautilus_bookmark_set_icon_to_default): Choose between the
	generic and bad-URI icon if there's no better icon.

	* src/nautilus-window-menus.c: (activate_bookmark_in_menu_item):
	Now calls nautilus_bookmark_uri_known_not_to_exist instead
	of doing the work here.

2000-06-27  J Shane Culpepper  <pepper@eazel.com>

	* components/services/startup/nautilus-view/Makefile.am:
	Fixing gnome-vfs header bustage.

2000-06-26  Eskil Heyn Olsen  <eskil@eazel.com>

	* components/services/install/lib/Makefile.am:
	automake, beautifull and yet so nasty. Orbit-idl fix again.

2000-06-26  Eskil Heyn Olsen  <eskil@eazel.com>

	* helper-utilities/authenticate/Makefile.am:
	Seems that libnautilus-extensions dep on libnautilus that dep on
	bonobo, thus this needed BONOBO_LIBS as well.

2000-06-26  Eskil Heyn Olsen  <eskil@eazel.com>

	* components/services/time/service/Makefile.am:
	* components/services/install/command-line/Makefile.am:
	* components/services/install/server/Makefile.am:
	* components/services/trilobite/sample/service/Makefile.am:
	And suddenly the bonobo libs went *poof*

2000-06-26  Eskil Heyn Olsen  <eskil@eazel.com>

	* components/services/install/lib/libeazelinstall.h:
	Missed a file.
	
2000-06-26  Eskil Heyn Olsen  <eskil@eazel.com>

	* components/Makefile.am:
	Rearranged so libeazelinstall is built before rpmview

	* components/help/Makefile.am:
	Added a missing .h file so make dist works
	
	* components/rpmview/Makefile.am:
	* components/rpmview/nautilus-rpm-view-install.c:
	(nautilus_rpm_view_download_progress_signal),
	(nautilus_rpm_view_install_progress_signal),
	(nautilus_rpm_view_download_failed),
	(nautilus_rpm_view_install_failed_helper),
	(nautilus_rpm_view_install_failed),
	(nautilus_rpm_view_dependency_check),
	(nautilus_rpm_view_install_done),
	(nautilus_rpm_view_install_package_callback):
	* components/rpmview/nautilus-rpm-view-install.h:
	* components/rpmview/nautilus-rpm-view.c:
	(nautilus_rpm_view_initialize):
	Added a callback and some skeleton code to the install
	button. So it now does rpm installs.
	
	* components/services/install/lib/Makefile.am:
	* components/services/install/command-line/Makefile.am:
	Changed the libnames.
	*
	components/services/install/command-line/eazel-alt-install-corba.c:
	(done), (main):
	* components/services/install/lib/eazel-install-corba-callback.c:
	(eazel_install_callback_destroy),
	(eazel_install_callback_initialize), (eazel_install_callback_new),
	(eazel_install_callback_corba_objref),
	(eazel_install_callback_install_packages),
	(eazel_install_callback_query):
	* components/services/install/lib/eazel-install-corba-callback.h:
	* components/services/install/lib/eazel-install-corba-types.h:
	* components/services/install/lib/eazel-install-protocols.c:
	(get_search_url_for_package):
	* components/services/install/server/Makefile.am:
	* components/services/install/server/main.c:
	Changed the object destroction scheme, so eazel_install_callback
	now unrefs and destroys the bonobo object.
	
	* components/services/trilobite/sample/lib/Makefile.am:
	Fixed to pass make dist
		
	* nautilus-installer/src/Makefile:
	* nautilus-installer/src/Makefile.am:
	Patching so it works with the new installer libs (and still some
	stroking because of the static stuff)
	
	* nautilus.spec.in:
	* po/POTFILES.in:
	* test/Makefile.am:
	Slice and dice so make dist and rpm -ta works again.

2000-06-26  Andy Hertzfeld  <andy@eazel.com>

	* src/nautilus-sidebar.c: (nautilus_sidebar_update_info):
	fixed sidebar background theming by adding a gtk_signal_block_by_func
	call (and the corresponding unblock) when we set up the background
	in update_info, so the new background data isn't written out to the
	metafile, since no explicit change was made.

2000-06-26  Michael Engber  <engber@eazel.com>

	* libnautilus-extensions/nautilus-gtk-extensions.c:
	(nautilus_gtk_marshal_NONE__DOUBLE_DOUBLE_DOUBLE):
	* libnautilus-extensions/nautilus-gtk-extensions.h:
	* libnautilus/nautilus-view-component.idl:
	* libnautilus/nautilus-zoomable.c:
	(nautilus_zoomable_set_parameters),
	(nautilus_zoomable_set_zoom_level):
	* libnautilus/nautilus-zoomable.h:
	* src/file-manager/fm-directory-view.c:
	(fm_directory_view_set_zoom_level),
	(fm_directory_view_set_zoom_parameters):
	* src/file-manager/fm-directory-view.h:
	* src/file-manager/fm-icon-view.c: (fm_icon_view_begin_loading),
	(fm_icon_view_set_zoom_level), (fm_icon_view_init_zoom_params),
	(fm_icon_view_bump_zoom_level), (fm_icon_view_zoom_to_level),
	(fm_icon_view_restore_default_zoom_level):
	* src/file-manager/fm-list-view.c: (fm_list_view_bump_zoom_level),
	(fm_list_view_zoom_to_level),
	(fm_list_view_restore_default_zoom_level),
	(fm_list_view_begin_loading), (fm_list_view_set_zoom_level),
	(fm_list_view_init_zoom_params):
	* src/nautilus-view-frame-private.h:
	* src/nautilus-view-frame.c:
	(nautilus_view_frame_initialize_class),
	(nautilus_view_frame_zoom_parameters_changed):
	* src/nautilus-view-frame.h:
	* src/nautilus-window.c:
	(nautilus_window_zoom_level_changed_callback),
	(nautilus_window_zoom_parameters_changed_callback),
	(nautilus_window_connect_view):
	* src/nautilus-zoom-control.c: (nautilus_zoom_control_initialize),
	(draw_number_and_disable_arrows), (zoom_menu_callback),
	(create_zoom_menu_item),
	(nautilus_zoom_control_button_press_event),
	(nautilus_zoom_control_set_zoom_level),
	(nautilus_zoom_control_set_min_zoom_level),
	(nautilus_zoom_control_set_max_zoom_level),
	(nautilus_zoom_control_get_zoom_level),
	(nautilus_zoom_control_get_min_zoom_level),
	(nautilus_zoom_control_get_max_zoom_level):
	* src/nautilus-zoom-control.h:
	* src/nautilus-zoomable-frame-corba.c:
	(impl_Nautilus_ZoomableFrame_report_zoom_level_changed),
	(impl_Nautilus_ZoomableFrame_report_zoom_parameters_changed):
	Added report_zoom_parameters_changed to the zoomable
	interface. This allows the zoom control to get min/max
	from the zoomable (as opposed to hard coding in values)
	Also fixed the zoom control to now use just doubles.
	Renamed the zoom_level_changed message to be report_zoom_level_changed
	in accordance with convention.

2000-06-26  John Sullivan  <sullivan@eazel.com>

	Finished task 876 (owner and group should be changeable
	in Properties window). The only part I didn't get done was
	using asynch gnome-vfs calls. I made that part of bug 845.

	* libnautilus-extensions/nautilus-string.h,
	* libnautilus-extensions/nautilus-string.c: 
	(nautilus_strcasecmp): New NULL-handling form of
	strcasecmp.

	* libnautilus-extensions/nautilus-glib-extensions.h,
	* libnautilus-extensions/nautilus-glib-extensions.c:
	(nautilus_g_str_list_sort),	
	(nautilus_g_str_list_sort_case_insensitive): New functions
	to sort a list of strings.
	(compare_strings), (compare_strings_case_insensitive):
	New helper routines used by the new _sort calls.

	* src/nautilus-window-manage-views.c:
	(nautilus_window_report_selection_change): Use 
	nautilus_g_str_list_sort.

	* libnautilus-extensions/nautilus-file.h,
	* libnautilus-extensions/nautilus-file.c: 
	(user_has_real_name): New helper function, returns TRUE
	if a password-file-entry user has a real name distinguishable
	from the username.

	(get_user_name_from_id), (get_user_and_real_name_from_id),
	(get_group_id_from_group_name), (get_ids_from_user_name),
	(get_user_id_from_user_name), (get_group_id_from_user_name):
	New helper functions for converting between user & group 
	names & ids.
	
	(get_id_from_digit_string): New helper function for converting 
	between	an integer as text and an integer.

	(nautilus_get_user_names): New public function for getting the
	list of all user names, with the real name (if distinguishable)
	thrown in for good measure.

	(nautilus_get_group_names): New public function for getting the
	list of all group names.
	
	(nautilus_file_can_get_owner), (nautilus_file_get_owner_name), 
	(nautilus_file_can_set_owner), (nautilus_file_set_owner), 
	(nautilus_file_can_get_group), (nautilus_file_get_group_name),
	(nautilus_file_can_set_group), (nautilus_file_set_group): 
	New public functions for reading and setting the group and owner.
	The setters define an asynch API though currently they're
	using non-asynch calls internally.

	(nautilus_file_get_settable_group_names): New public function
	returning a list of all group names that the current user can
	set this file's group to.

	(group_includes_user), (nautilus_get_group_names_including):
	New helper functions used by _get_settable_group_names.
	
	(nautilus_file_get_owner_as_string): Now optionally includes
	real name in result.
	
	(nautilus_file_get_string_attribute): Changed to call
	_get_owner_as_string with the real name included.

	* src/file-manager/fm-error-reporting.h:
	* src/file-manager/fm-error-reporting.c:
	(fm_report_error_setting_group), (fm_report_error_setting_owner):
	Error messages for when our predictions fail for whether a
	group or owner-setting operation will succeed.
	
	* src/file-manager/fm-properties-window.c: 
	(file_name_pair_new), (file_name_pair_free): New helper functions
	for passing around a file and string together (used in callbacks).

	(group_change_callback), (activate_group_callback), 
	(create_group_menu_item), (synch_groups_menu), 
	(attach_group_menu), (owner_change_callback),
	(activate_owner_callback), (create_owner_menu_item),
	(synch_user_menu), (attach_owner_menu): New functions for setting
	up widgets for display and control of owner and group.

	(add_special_execution_flags): Use attach_title_field instead of
	add_permissions_row_label.

	(permissions_label_update), (add_permissions_row_label): Removed
	these no-longer-needed functions.
	
	(add_permissions_column_label): Change row number constants to 
	match new layout.

	(create_permissions_page): Use static text for owner & group if
	non-editable, option menu if editable.

	(get_property_names): Now calls nautilus_g_str_list_sort.
	
2000-06-26  Darin Adler  <darin@eazel.com>

	* components/hardware/nautilus-hardware-view.c:
	(nautilus_hardware_view_destroy):
	* components/loser/content/nautilus-content-loser.c:
	(nautilus_content_loser_destroy):
	* components/loser/sidebar/nautilus-sidebar-loser.c:
	(nautilus_sidebar_loser_destroy):
	* components/mozilla/nautilus-mozilla-content-view.c:
	(nautilus_mozilla_content_view_destroy):
	* components/music/nautilus-music-view.c:
	(nautilus_music_view_destroy):
	* components/rpmview/nautilus-rpm-view.c:
	(nautilus_rpm_view_destroy):
	* components/sample/nautilus-sample-content-view.c:
	(nautilus_sample_content_view_destroy):
	* components/services/time/nautilus-view/trilobite-eazel-time-view.c:
	(trilobite_eazel_time_view_destroy):
	* components/tree/nautilus-tree-view.c:
	(nautilus_tree_view_destroy):
	Removed a bunch of incorrect calls to bonobo_object_unref.
	An error in the sample can be an insidious thing.
	
	* components/tree/main.c: (tree_object_destroyed),
	(tree_make_object), (main): Removed some stray debugging stuff.
	
	* libnautilus-extensions/Makefile.am: Got rid of the grid
	* libnautilus-extensions/nautilus-icon-private.h: Got rid of the
	grid.
	* libnautilus-extensions/nautilus-icon-container.c:
	(keyboard_icon_reveal_timeout_callback): Took out unneeded use of
	thread locking macros. Maybe someday I'll regret this, but we can
	add them back then.
	(get_all_icon_bounds): Added shared function.
	(update_scroll_region): Renamed set_scroll_region and made it use
	the shared function. Also got rid of grid code.
	(resort): Got rid of grid code.
	(lay_down_icons): Got rid of grid code.
	(relayout): Made it lay down new icons before doing any layout
	work. Also made sure it doesn't do the resort while stretching.
	(reload_icon_positions): Got rid of grid code.
	(rubberband_select): Got rid of grid code. This was the one place
	that it might have made things a little faster but probably not
	due to the complexity of what it was doing.
	(rubberband_timeout_callback): Took out unneeded use of thread
	locking macros. Maybe someday I'll regret this, but we can add
	them back then.
	(destroy): Got rid of grid code.
	(world_width_changed): Got rid of grid code.
	(nautilus_icon_container_initialize): Got rid of grid code and
	an extra idle cycle that wasn't needed.
	(nautilus_icon_container_clear): Got rid of grid code and added
	code to update the scroll region on clear.
	(icon_destroy): Got rid of grid code.
	(assign_icon_position), (finish_adding_icon),
	(finish_adding_new_icons), (finish_adding_new_icons_callback),
	(nautilus_icon_container_add): Replaced old idle code with
	something specific to adding new icons. This does the proper
	layout for manual as well as automatic layout cases.
	
	* libnautilus-extensions/nautilus-background.h:
	* libnautilus-extensions/nautilus-background.c:
	(nautilus_background_initialize_class): Made two signals instead
	of one. One for when the background's settings change and another
	for when the appearance changes.
	(nautilus_background_set_color): Emit both signals.
	(load_image_callback): Emit only the appearance change signal.
	(nautilus_background_set_tile_image_uri): Emit both signals.
	(nautilus_get_widget_background): Connect to the
	appearance_changed signal.
	* libnautilus-extensions/nautilus-directory-background.c:
	(nautilus_connect_background_to_directory_metadata):
	Connect to the settings_changed signal.
	* src/file-manager/fm-directory-view.c:
	(fm_directory_view_real_merge_menus): Connect to the
	settings_changed signal.
	* src/nautilus-sidebar.c: (nautilus_sidebar_update_info): Connect
	to the appearance_changed signal.
	* components/music/nautilus-music-view.c:
	(nautilus_music_view_set_up_background): Connect to the
	settings_changed signal.
	
	* HACKING: Gratuitious reformatting.
	* RENAMING: Added notes about how we do renaming, at the request
	of one of the hackers.
	
	* nautilus-clean.sh: Added nautilus-tree-view to the things that
	are killed, and made gratuitous changes to the script.

Mon Jun 26 15:50:57 2000  George Lebl <jirka@5z.com>

	* components/hardware/Makefile.am, components/help/Makefile.am,
	  components/history/Makefile.am, components/html/Makefile.am,
	  components/music/Makefile.am, components/notes/Makefile.am,
	  components/rpmview/Makefile.am, src/file-manager/Makefile.am: 
	Add $(VFS_CFLAGS) to the includes as it is necessary for
	gnome-vfs

2000-06-26  Andy Hertzfeld  <andy@eazel.com>

	* icons/eazel/Makefile.am:
	* icons/eazel/i-regular-12.png
	* icons/eazel/i-regular-24.png
	* icons/eazel/i-regular-36.png
	* icons/eazel/i-regular.png
	* icons/eazel/i-regular-72.png
	* icons/eazel/i-regular-96.png
	* icons/vector/i-directory-accept.svg:
	* icons/vector/i-directory.svg:
	newer icons from Susan
	
2000-06-26  Andy Hertzfeld  <andy@eazel.com>

	* components/music/Makefile.am:
	* components/music/mp3head.c,h: (extractI4), (is_mphead), (is_xhead),
	(get_bitrate), (get_samprate), (get_mpgver):
	* components/music/mp3head.h:
	integrated Erik Gustavsson's patch to support variable bit rate
	file properly in the music view.
	* components/music/nautilus-music-view.c: (is_mp3_file),
	(strip_trailing_blanks), (read_id_tag), (extract_number),
	(fetch_song_info):
	fixed bug 1281, music view should use mime types instead of
	extensions, by using the mime type in is_mp3_file.  Also, cleaned
	up Erik's patch for removing trailing blanks and integrated it.
	
2000-06-26  Kjartan Maraas  <kmaraas@gnome.org>

	* HACKING: Move bonobo after gnome-vfs since it now
	depends on it for bonobo-storage-vfs.c to build.
	
2000-06-26  Darin Adler  <darin@eazel.com>

	* libnautilus-extensions/nautilus-directory-metafile.c:
	(set_metadata_eat_value): Fixed use of hash table in here. The
	old code would destroy the wrong key. (Thanks to Ian for pointing
	that when you insert a value into GHashTable it keeps the old key
	instead of overwriting with the new one.)
	
	* libnautilus-extensions/nautilus-gtk-extensions.c:
	(nautilus_gtk_signal_connect_free_data):
	* src/file-manager/fm-properties-window.c: (attach_value_field),
	(create_emblems_page), (add_permissions_row_label):
	* src/nautilus-link-set-window.c: (make_link_set_check_box):
	* src/nautilus-property-browser.c:
	(make_properties_from_directory_path),
	(make_properties_from_xml_node), (make_category_link):
	* src/nautilus-sidebar.c: (nautilus_sidebar_add_panel_items):
	Got rid of unnecessary casts to (GtkDestroyNotify).

2000-06-26  Darin Adler  <darin@eazel.com>

	* components/services/install/command-line/.cvsignore:
	* components/services/install/lib/.cvsignore:
	Ignore some additional generated files.
	
	* libnautilus-extensions/nautilus-gnome-extensions.h:
	* libnautilus-extensions/nautilus-gnome-extensions.c:
	Moved stock dialog functions to nautilus-stock-dialogs.[ch].
	(nautilus_gnome_canvas_item_request_update_deep),
	(nautilus_gnome_canvas_request_update_all),
	(nautilus_gnome_canvas_set_scroll_region),
	(nautilus_gnome_canvas_set_scroll_region_left_justify):
	Added a bunch of functions that were previously private inside
	NautilusIconContainer.
	
	* libnautilus-extensions/nautilus-gtk-extensions.h:
	* libnautilus-extensions/nautilus-gtk-extensions.c:
	(nautilus_gtk_adjustment_set_value),
	(nautilus_gtk_adjustment_clamp_value):
	Added functions that treat the value range in a GtkAdjustment the
	same way scroll bars do, taking the page size into account.
	
	* libnautilus-extensions/nautilus-horizontal-splitter.h:
	* libnautilus-extensions/nautilus-horizontal-splitter.c:
	(nautilus_horizontal_splitter_initialize),
	(toggle_splitter_position),
	(nautilus_horizontal_splitter_button_press),
	(nautilus_horizontal_splitter_button_release):
	Fixed logic so that splitter will only open or close if you both
	click and release within the splitter itself.
	
	* libnautilus-extensions/nautilus-icon-private.h:
	* libnautilus-extensions/nautilus-icon-container.c:
	(icon_toggle_selected): Move icons to front when they are selected.
	(set_scroll_region): Moved workaround that sets scroll region to
	be large enough to fill the widget allocation into a function in
	nautilus-gnome-extensions.h. In the process, I fixed the problem
	where it would do the job wrong when the view was zoomed.
	(lay_down_icons), (relayout), (reload_icon_positions):
	Started work on sharing code between automatic layout of the entire
	container and layout of new icons as the arrive.
	(nautilus_icon_container_clear), (nautilus_icon_container_add):
	Got started on the mechanism for laying out new icons as they arrive
	in bunches instead of one at a time.
	
	* libnautilus-extensions/nautilus-icon-dnd.c:
	* libnautilus-extensions/nautilus-program-chooser.c:
	* libnautilus-extensions/nautilus-program-choosing.c:
	* src/file-manager/dfos-xfer.c:
	* src/file-manager/fm-directory-view.c:
	* src/file-manager/fm-error-reporting.c:
	* src/nautilus-application.c:
	* src/nautilus-location-bar.c:
	* src/nautilus-property-browser.c:
	* src/nautilus-window-manage-views.c:
	* src/nautilus-window-menus.c:
	Added includes to source files that use the stock dialogs.
	
	* libnautilus-extensions/nautilus-stock-dialogs.h:
	* libnautilus-extensions/nautilus-stock-dialogs.c:
	(nautilus_timed_wait_stop), (convert_varargs_to_name_array),
	(nautilus_simple_dialog), (turn_on_line_wrap_flag),
	(turn_on_line_wrap_flag_callback), (show_ok_box),
	(show_yes_no_box), (nautilus_info_dialog),
	(nautilus_info_dialog_parented), (nautilus_warning_dialog),
	(nautilus_warning_dialog_parented), (nautilus_error_dialog),
	(nautilus_error_dialog_parented), (nautilus_yes_no_dialog),
	(nautilus_yes_no_dialog_parented):
	Moved all the stock dialog code in here.
	
	* src/nautilus-sidebar-title.c: (update_icon): Only display the
	icon when it's ready, instead of showing generic document icon
	before that time.
	(update_title), (update_more_info), (update_emblems),
	(update_notes): Added FIXMEs about doing the same with other info.
	(nautilus_sidebar_title_button_press_event): Added a FIXME to the
	half-baked code in here.

2000-06-26  Fatih Demir	<kabalak@gmx.net>

	* Makefile.am: Added the previous ChangeLogs to
	the EXTRA_DIST target.
	
	* configure.in: Cosmetics and a configuration summary at the end
	of the ./configure process.
	
	* helper-utilities/authenticate/nautilus-authenticate.h:
	Include <stdlib.h> for compiling with -Werror without error.
	
2000-06-26  Pavel Cisler <pavel@eazel.com>

	* acconfig.h:
	* configure.in:
	Fix build breakage caused recent changes to make GnomeVFS compile
	without OAF support. Some GnomeVFS headers now require USING_OAF
	to be defined and when included from Nautilus, this define was
	missing. Not sure this is the 100% correct way to do this but
	this should at least prevent people from being stuck with a broken
	build.

2000-06-26  Andy Hertzfeld  <andy@eazel.com>

	Added XML-based theme mechanism and used it for the sidebar
	background, which isn't entirely working yet.
	
	* icons/Makefile.am:
	* icons/default.xml:
	* icons/eazel/Makefile.am:
	* icons/eazel/eazel.xml:
	* icons/vector/Makefile.am:
	* icons/vector/vector.xml:
	New XML-based theme files.
	* libnautilus-extensions/nautilus-global-preferences.c,h:
	(global_preferences_create_dialog),
	(global_preferences_register_for_ui):
	Changed "icon_theme" preference to general "theme".
	* libnautilus-extensions/nautilus-icon-factory.c:
	(nautilus_get_current_icon_factory),
	(nautilus_icon_factory_destroy), (icon_theme_changed_callback):
	Changed from "icon_theme" to "theme".
	* libnautilus-extensions/nautilus-preferences-item.c,h:
	(preferences_item_construct), (preferences_item_create_theme):
	Changed from "icon_theme" to "theme".
	* libnautilus-extensions/nautilus-xml-extensions.c,h:
	(nautilus_xml_get_child_by_name):
	Added a routine to access child nodes.
	* src/nautilus-sidebar.c: (nautilus_sidebar_initialize),
	(nautilus_sidebar_destroy), (nautilus_sidebar_read_theme),
	(nautilus_sidebar_theme_changed),
	(nautilus_sidebar_background_changed),
	(nautilus_sidebar_update_info):
	Made the sidebar get its default values from an XML-based theme
	file, and reload them when the theme changes.

2000-06-25  Andy Hertzfeld  <andy@eazel.com>

	* libnautilus-extensions/nautilus-link.c:
	(free_icon_notification_info), (icon_read_done_callback),
	(is_remote_uri), (nautilus_link_get_image_uri):
	Linksets now use gnome-vfs to load load icons over http instead of
	ghttp, using Darin's new utility routines.  Also, made it load
	them asynchronously.
	
	* libnautilus-extensions/nautilus-icon-factory.c:
	(nautilus_icon_factory_get_pixbuf_for_icon):
	Made get_pixbuf_for_icon set the custom boolean when it calls
	get_icon_from_cache if necessary.
	
2000-06-25  Fatih Demir	<kabalak@gmx.net>
	
	* ChangeLog: This is the fresh one.
	* ChangeLog-20000625: Split up the ChangeLog.
